import{V as c,a0 as l,a4 as d}from"../../three/build/three.module.js.ZP5wlr6b.js";var u=Object.defineProperty,E=(i,o,n)=>o in i?u(i,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[o]=n,e=(i,o,n)=>(E(i,typeof o!="symbol"?o+"":o,n),n);const r=new d(0,0,0,"YXZ"),s=new c,p={type:"change"},v={type:"lock"},k={type:"unlock"},m=Math.PI/2;class f extends l{constructor(o,n){super(),e(this,"camera"),e(this,"domElement"),e(this,"isLocked"),e(this,"minPolarAngle"),e(this,"maxPolarAngle"),e(this,"pointerSpeed"),e(this,"onMouseMove",t=>{if(!this.domElement||this.isLocked===!1)return;const h=t.movementX||t.mozMovementX||t.webkitMovementX||0,a=t.movementY||t.mozMovementY||t.webkitMovementY||0;r.setFromQuaternion(this.camera.quaternion),r.y-=h*.002*this.pointerSpeed,r.x-=a*.002*this.pointerSpeed,r.x=Math.max(m-this.maxPolarAngle,Math.min(m-this.minPolarAngle,r.x)),this.camera.quaternion.setFromEuler(r),this.dispatchEvent(p)}),e(this,"onPointerlockChange",()=>{this.domElement&&(this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(v),this.isLocked=!0):(this.dispatchEvent(k),this.isLocked=!1))}),e(this,"onPointerlockError",()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}),e(this,"connect",t=>{this.domElement=t||this.domElement,this.domElement&&(this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError))}),e(this,"disconnect",()=>{this.domElement&&(this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError))}),e(this,"dispose",()=>{this.disconnect()}),e(this,"getObject",()=>this.camera),e(this,"direction",new c(0,0,-1)),e(this,"getDirection",t=>t.copy(this.direction).applyQuaternion(this.camera.quaternion)),e(this,"moveForward",t=>{s.setFromMatrixColumn(this.camera.matrix,0),s.crossVectors(this.camera.up,s),this.camera.position.addScaledVector(s,t)}),e(this,"moveRight",t=>{s.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(s,t)}),e(this,"lock",()=>{this.domElement&&this.domElement.requestPointerLock()}),e(this,"unlock",()=>{this.domElement&&this.domElement.ownerDocument.exitPointerLock()}),this.camera=o,this.domElement=n,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,n&&this.connect(n)}}export{f as P};
//# sourceMappingURL=PointerLockControls.js.UU0EU-Hw.js.map
