{"version":3,"file":"PointerLockControls.js.jMQIXGP9.js","sources":["../../../../node_modules/.pnpm/three-stdlib@2.28.7_three@0.158.0/node_modules/three-stdlib/controls/PointerLockControls.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Euler, Vector3, EventDispatcher } from \"three\";\nconst _euler = new Euler(0, 0, 0, \"YXZ\");\nconst _vector = new Vector3();\nconst _changeEvent = { type: \"change\" };\nconst _lockEvent = { type: \"lock\" };\nconst _unlockEvent = { type: \"unlock\" };\nconst _PI_2 = Math.PI / 2;\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"isLocked\");\n    __publicField(this, \"minPolarAngle\");\n    __publicField(this, \"maxPolarAngle\");\n    __publicField(this, \"pointerSpeed\");\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (!this.domElement || this.isLocked === false)\n        return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      _euler.setFromQuaternion(this.camera.quaternion);\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement)\n        return;\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n    __publicField(this, \"getDirection\", (v) => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n    __publicField(this, \"moveForward\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      _vector.crossVectors(this.camera.up, _vector);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"moveRight\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"lock\", () => {\n      if (this.domElement)\n        this.domElement.requestPointerLock();\n    });\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement)\n        this.domElement.ownerDocument.exitPointerLock();\n    });\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement)\n      this.connect(domElement);\n  }\n}\nexport {\n  PointerLockControls\n};\n//# sourceMappingURL=PointerLockControls.js.map\n"],"names":["__defProp","__defNormalProp","obj","key","value","__publicField","_euler","Euler","_vector","Vector3","_changeEvent","_lockEvent","_unlockEvent","_PI_2","PointerLockControls","EventDispatcher","camera","domElement","event","movementX","movementY","v","distance"],"mappings":"iFAAA,IAAIA,EAAY,OAAO,eACnBC,EAAkB,CAACC,EAAKC,EAAKC,IAAUD,KAAOD,EAAMF,EAAUE,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAO,CAAA,EAAIF,EAAIC,CAAG,EAAIC,EACtJC,EAAgB,CAACH,EAAKC,EAAKC,KAC7BH,EAAgBC,EAAK,OAAOC,GAAQ,SAAWA,EAAM,GAAKA,EAAKC,CAAK,EAC7DA,GAGT,MAAME,EAAS,IAAIC,EAAM,EAAG,EAAG,EAAG,KAAK,EACjCC,EAAU,IAAIC,EACdC,EAAe,CAAE,KAAM,UACvBC,EAAa,CAAE,KAAM,QACrBC,EAAe,CAAE,KAAM,UACvBC,EAAQ,KAAK,GAAK,EACxB,MAAMC,UAA4BC,CAAgB,CAChD,YAAYC,EAAQC,EAAY,CAC9B,QACAZ,EAAc,KAAM,QAAQ,EAC5BA,EAAc,KAAM,YAAY,EAChCA,EAAc,KAAM,UAAU,EAC9BA,EAAc,KAAM,eAAe,EACnCA,EAAc,KAAM,eAAe,EACnCA,EAAc,KAAM,cAAc,EAClCA,EAAc,KAAM,cAAgBa,GAAU,CAC5C,GAAI,CAAC,KAAK,YAAc,KAAK,WAAa,GACxC,OACF,MAAMC,EAAYD,EAAM,WAAaA,EAAM,cAAgBA,EAAM,iBAAmB,EAC9EE,EAAYF,EAAM,WAAaA,EAAM,cAAgBA,EAAM,iBAAmB,EACpFZ,EAAO,kBAAkB,KAAK,OAAO,UAAU,EAC/CA,EAAO,GAAKa,EAAY,KAAO,KAAK,aACpCb,EAAO,GAAKc,EAAY,KAAO,KAAK,aACpCd,EAAO,EAAI,KAAK,IAAIO,EAAQ,KAAK,cAAe,KAAK,IAAIA,EAAQ,KAAK,cAAeP,EAAO,CAAC,CAAC,EAC9F,KAAK,OAAO,WAAW,aAAaA,CAAM,EAC1C,KAAK,cAAcI,CAAY,CACrC,CAAK,EACDL,EAAc,KAAM,sBAAuB,IAAM,CAC1C,KAAK,aAEN,KAAK,WAAW,cAAc,qBAAuB,KAAK,YAC5D,KAAK,cAAcM,CAAU,EAC7B,KAAK,SAAW,KAEhB,KAAK,cAAcC,CAAY,EAC/B,KAAK,SAAW,IAExB,CAAK,EACDP,EAAc,KAAM,qBAAsB,IAAM,CAC9C,QAAQ,MAAM,2DAA2D,CAC/E,CAAK,EACDA,EAAc,KAAM,UAAYY,GAAe,CAC7C,KAAK,WAAaA,GAAc,KAAK,WAChC,KAAK,aAEV,KAAK,WAAW,cAAc,iBAAiB,YAAa,KAAK,WAAW,EAC5E,KAAK,WAAW,cAAc,iBAAiB,oBAAqB,KAAK,mBAAmB,EAC5F,KAAK,WAAW,cAAc,iBAAiB,mBAAoB,KAAK,kBAAkB,EAChG,CAAK,EACDZ,EAAc,KAAM,aAAc,IAAM,CACjC,KAAK,aAEV,KAAK,WAAW,cAAc,oBAAoB,YAAa,KAAK,WAAW,EAC/E,KAAK,WAAW,cAAc,oBAAoB,oBAAqB,KAAK,mBAAmB,EAC/F,KAAK,WAAW,cAAc,oBAAoB,mBAAoB,KAAK,kBAAkB,EACnG,CAAK,EACDA,EAAc,KAAM,UAAW,IAAM,CACnC,KAAK,WAAU,CACrB,CAAK,EACDA,EAAc,KAAM,YAAa,IACxB,KAAK,MACb,EACDA,EAAc,KAAM,YAAa,IAAII,EAAQ,EAAG,EAAG,EAAE,CAAC,EACtDJ,EAAc,KAAM,eAAiBgB,GAC5BA,EAAE,KAAK,KAAK,SAAS,EAAE,gBAAgB,KAAK,OAAO,UAAU,CACrE,EACDhB,EAAc,KAAM,cAAgBiB,GAAa,CAC/Cd,EAAQ,oBAAoB,KAAK,OAAO,OAAQ,CAAC,EACjDA,EAAQ,aAAa,KAAK,OAAO,GAAIA,CAAO,EAC5C,KAAK,OAAO,SAAS,gBAAgBA,EAASc,CAAQ,CAC5D,CAAK,EACDjB,EAAc,KAAM,YAAciB,GAAa,CAC7Cd,EAAQ,oBAAoB,KAAK,OAAO,OAAQ,CAAC,EACjD,KAAK,OAAO,SAAS,gBAAgBA,EAASc,CAAQ,CAC5D,CAAK,EACDjB,EAAc,KAAM,OAAQ,IAAM,CAC5B,KAAK,YACP,KAAK,WAAW,oBACxB,CAAK,EACDA,EAAc,KAAM,SAAU,IAAM,CAC9B,KAAK,YACP,KAAK,WAAW,cAAc,iBACtC,CAAK,EACD,KAAK,OAASW,EACd,KAAK,WAAaC,EAClB,KAAK,SAAW,GAChB,KAAK,cAAgB,EACrB,KAAK,cAAgB,KAAK,GAC1B,KAAK,aAAe,EAChBA,GACF,KAAK,QAAQA,CAAU,CAC1B,CACH","x_google_ignoreList":[0]}