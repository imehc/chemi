import{j as l}from"../../../react/jsx-runtime.js.Cm6upDnr.js";import{r as s}from"../../../react/index.js.IuPGg7Py.js";const i=s.createContext(null);function m({children:c,enabled:r=!0}){const[o,n]=s.useState([]),e=s.useMemo(()=>({selected:o,select:n,enabled:r}),[o,n,r]);return l.jsx(i.Provider,{value:e,children:c})}function j({enabled:c=!1,children:r,...o}){const n=s.useRef(null),e=s.useContext(i);return s.useEffect(()=>{if(e&&c){let f=!1;const u=[];if(n.current.traverse(t=>{t.type==="Mesh"&&u.push(t),e.selected.indexOf(t)===-1&&(f=!0)}),f)return e.select(t=>[...t,...u]),()=>{e.select(t=>t.filter(a=>!u.includes(a)))}}},[c,r,e]),l.jsx("group",{ref:n,...o,children:r})}export{j as S,m as a,i as s};
