{"version":3,"file":"Outline.js.iBo5zkn4.js","sources":["../../../../../../node_modules/.pnpm/@react-three+postprocessing@2.15.11_@react-three+fiber@8.15.11_@types+three@0.158.3_react@18.2.0_three@0.158.0/node_modules/@react-three/postprocessing/dist/effects/Outline.js"],"sourcesContent":["import { jsx } from \"react/jsx-runtime\";\nimport { OutlineEffect } from \"postprocessing\";\nimport { forwardRef, useContext, useMemo, useEffect, useRef } from \"react\";\nimport { useThree } from \"@react-three/fiber\";\nimport { EffectComposerContext } from \"../EffectComposer.js\";\nimport { selectionContext } from \"../Selection.js\";\nimport { resolveRef } from \"../util.js\";\nconst Outline = forwardRef(function Outline2({\n  selection = [],\n  selectionLayer = 10,\n  blendFunction,\n  patternTexture,\n  edgeStrength,\n  pulseSpeed,\n  visibleEdgeColor,\n  hiddenEdgeColor,\n  width,\n  height,\n  kernelSize,\n  blur,\n  xRay,\n  ...props\n}, forwardRef2) {\n  const invalidate = useThree((state) => state.invalidate);\n  const { scene, camera } = useContext(EffectComposerContext);\n  const effect = useMemo(\n    () => new OutlineEffect(scene, camera, {\n      blendFunction,\n      patternTexture,\n      edgeStrength,\n      pulseSpeed,\n      visibleEdgeColor,\n      hiddenEdgeColor,\n      width,\n      height,\n      kernelSize,\n      blur,\n      xRay,\n      ...props\n    }),\n    [\n      blendFunction,\n      blur,\n      camera,\n      edgeStrength,\n      height,\n      hiddenEdgeColor,\n      kernelSize,\n      patternTexture,\n      pulseSpeed,\n      scene,\n      visibleEdgeColor,\n      width,\n      xRay\n    ]\n  );\n  const api = useContext(selectionContext);\n  useEffect(() => {\n    if (!api && selection) {\n      effect.selection.set(\n        Array.isArray(selection) ? selection.map(resolveRef) : [resolveRef(selection)]\n      );\n      invalidate();\n      return () => {\n        effect.selection.clear();\n        invalidate();\n      };\n    }\n  }, [effect, selection, api, invalidate]);\n  useEffect(() => {\n    effect.selectionLayer = selectionLayer;\n    invalidate();\n  }, [effect, invalidate, selectionLayer]);\n  useRef();\n  useEffect(() => {\n    var _a;\n    if (api && api.enabled) {\n      if ((_a = api.selected) == null ? void 0 : _a.length) {\n        effect.selection.set(api.selected);\n        invalidate();\n        return () => {\n          effect.selection.clear();\n          invalidate();\n        };\n      }\n    }\n  }, [api, effect.selection, invalidate]);\n  useEffect(() => {\n    return () => {\n      effect.dispose();\n    };\n  }, [effect]);\n  return /* @__PURE__ */ jsx(\"primitive\", { ref: forwardRef2, object: effect });\n});\nexport {\n  Outline\n};\n//# sourceMappingURL=Outline.js.map\n"],"names":["Outline","forwardRef","selection","selectionLayer","blendFunction","patternTexture","edgeStrength","pulseSpeed","visibleEdgeColor","hiddenEdgeColor","width","height","kernelSize","blur","xRay","props","forwardRef2","invalidate","useThree","state","scene","camera","useContext","EffectComposerContext","effect","useMemo","OutlineEffect","api","selectionContext","useEffect","resolveRef","useRef","_a","jsx"],"mappings":"gaAOK,MAACA,EAAUC,EAAAA,WAAW,SAAkB,CAC3C,UAAAC,EAAY,CAAE,EACd,eAAAC,EAAiB,GACjB,cAAAC,EACA,eAAAC,EACA,aAAAC,EACA,WAAAC,EACA,iBAAAC,EACA,gBAAAC,EACA,MAAAC,EACA,OAAAC,EACA,WAAAC,EACA,KAAAC,EACA,KAAAC,EACA,GAAGC,CACL,EAAGC,EAAa,CACd,MAAMC,EAAaC,EAAUC,GAAUA,EAAM,UAAU,EACjD,CAAE,MAAAC,EAAO,OAAAC,CAAQ,EAAGC,EAAU,WAACC,CAAqB,EACpDC,EAASC,EAAO,QACpB,IAAM,IAAIC,EAAcN,EAAOC,EAAQ,CACrC,cAAAjB,EACA,eAAAC,EACA,aAAAC,EACA,WAAAC,EACA,iBAAAC,EACA,gBAAAC,EACA,MAAAC,EACA,OAAAC,EACA,WAAAC,EACA,KAAAC,EACA,KAAAC,EACA,GAAGC,CACT,CAAK,EACD,CACEX,EACAS,EACAQ,EACAf,EACAK,EACAF,EACAG,EACAP,EACAE,EACAa,EACAZ,EACAE,EACAI,CACD,CACL,EACQa,EAAML,aAAWM,CAAgB,EACvCC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,CAACF,GAAOzB,EACV,OAAAsB,EAAO,UAAU,IACf,MAAM,QAAQtB,CAAS,EAAIA,EAAU,IAAI4B,CAAU,EAAI,CAACA,EAAW5B,CAAS,CAAC,CACrF,EACMe,IACO,IAAM,CACXO,EAAO,UAAU,QACjBP,GACR,CAEG,EAAE,CAACO,EAAQtB,EAAWyB,EAAKV,CAAU,CAAC,EACvCY,EAAAA,UAAU,IAAM,CACdL,EAAO,eAAiBrB,EACxBc,GACD,EAAE,CAACO,EAAQP,EAAYd,CAAc,CAAC,EACvC4B,EAAAA,SACAF,EAAAA,UAAU,IAAM,CACd,IAAIG,EACJ,GAAIL,GAAOA,EAAI,UACRK,EAAKL,EAAI,WAAa,MAAgBK,EAAG,OAC5C,OAAAR,EAAO,UAAU,IAAIG,EAAI,QAAQ,EACjCV,IACO,IAAM,CACXO,EAAO,UAAU,QACjBP,GACV,CAGG,EAAE,CAACU,EAAKH,EAAO,UAAWP,CAAU,CAAC,EACtCY,EAAAA,UAAU,IACD,IAAM,CACXL,EAAO,QAAO,CACpB,EACK,CAACA,CAAM,CAAC,EACYS,EAAAA,IAAI,YAAa,CAAE,IAAKjB,EAAa,OAAQQ,CAAM,CAAE,CAC9E,CAAC","x_google_ignoreList":[0]}