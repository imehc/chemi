{"version":3,"file":"Selection.js.UtvfHacZ.js","sources":["../../../../../node_modules/.pnpm/@react-three+postprocessing@2.15.11_@react-three+fiber@8.15.11_@types+three@0.158.3_react@18.2.0_three@0.158.0/node_modules/@react-three/postprocessing/dist/Selection.js"],"sourcesContent":["import { jsx } from \"react/jsx-runtime\";\nimport { createContext, useState, useMemo, useRef, useContext, useEffect } from \"react\";\nconst selectionContext = createContext(null);\nfunction Selection({ children, enabled = true }) {\n  const [selected, select] = useState([]);\n  const value = useMemo(() => ({ selected, select, enabled }), [selected, select, enabled]);\n  return /* @__PURE__ */ jsx(selectionContext.Provider, { value, children });\n}\nfunction Select({ enabled = false, children, ...props }) {\n  const group = useRef(null);\n  const api = useContext(selectionContext);\n  useEffect(() => {\n    if (api && enabled) {\n      let changed = false;\n      const current = [];\n      group.current.traverse((o) => {\n        o.type === \"Mesh\" && current.push(o);\n        if (api.selected.indexOf(o) === -1)\n          changed = true;\n      });\n      if (changed) {\n        api.select((state) => [...state, ...current]);\n        return () => {\n          api.select((state) => state.filter((selected) => !current.includes(selected)));\n        };\n      }\n    }\n  }, [enabled, children, api]);\n  return /* @__PURE__ */ jsx(\"group\", { ref: group, ...props, children });\n}\nexport {\n  Select,\n  Selection,\n  selectionContext\n};\n//# sourceMappingURL=Selection.js.map\n"],"names":["selectionContext","createContext","Selection","children","enabled","selected","select","useState","value","useMemo","jsx","Select","props","group","useRef","api","useContext","useEffect","changed","current","o","state"],"mappings":"sHAEK,MAACA,EAAmBC,EAAa,cAAC,IAAI,EAC3C,SAASC,EAAU,CAAE,SAAAC,EAAU,QAAAC,EAAU,EAAI,EAAI,CAC/C,KAAM,CAACC,EAAUC,CAAM,EAAIC,EAAQ,SAAC,CAAE,CAAA,EAChCC,EAAQC,EAAAA,QAAQ,KAAO,CAAE,SAAAJ,EAAU,OAAAC,EAAQ,QAAAF,CAAS,GAAG,CAACC,EAAUC,EAAQF,CAAO,CAAC,EACxF,OAAuBM,EAAAA,IAAIV,EAAiB,SAAU,CAAE,MAAAQ,EAAO,SAAAL,CAAQ,CAAE,CAC3E,CACA,SAASQ,EAAO,CAAE,QAAAP,EAAU,GAAO,SAAAD,EAAU,GAAGS,CAAK,EAAI,CACvD,MAAMC,EAAQC,SAAO,IAAI,EACnBC,EAAMC,aAAWhB,CAAgB,EACvCiB,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIF,GAAOX,EAAS,CAClB,IAAIc,EAAU,GACd,MAAMC,EAAU,CAAA,EAMhB,GALAN,EAAM,QAAQ,SAAUO,GAAM,CAC5BA,EAAE,OAAS,QAAUD,EAAQ,KAAKC,CAAC,EAC/BL,EAAI,SAAS,QAAQK,CAAC,IAAM,KAC9BF,EAAU,GACpB,CAAO,EACGA,EACF,OAAAH,EAAI,OAAQM,GAAU,CAAC,GAAGA,EAAO,GAAGF,CAAO,CAAC,EACrC,IAAM,CACXJ,EAAI,OAAQM,GAAUA,EAAM,OAAQhB,GAAa,CAACc,EAAQ,SAASd,CAAQ,CAAC,CAAC,CACvF,CAEK,CACF,EAAE,CAACD,EAASD,EAAUY,CAAG,CAAC,EACJL,EAAG,IAAC,QAAS,CAAE,IAAKG,EAAO,GAAGD,EAAO,SAAAT,CAAQ,CAAE,CACxE","x_google_ignoreList":[0]}