const __vite__fileDeps=["assets/troika-three-text/dist/troika-three-text.esm.js.B6WSIXlu.js","assets/three/build/three.module.js.CElijN_X.js","assets/troika-worker-utils/dist/troika-worker-utils.esm.js.M_FGPiF4.js","assets/webgl-sdf-generator/dist/webgl-sdf-generator.mjs.B9WjZ7l-.js","assets/bidi-js/dist/bidi.mjs.Dpu9EnKw.js","assets/troika-three-utils/dist/troika-three-utils.esm.js.DYAmDGB0.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as k}from"../../../@babel/runtime/helpers/esm/extends.js.CCbyfPlC.js";import{r as i}from"../../../react/index.js.CiILtb88.js";import{s as _}from"../../../suspend-react/index.js.BKIKQNXN.js";import{u as g}from"../../fiber/dist/index-c636ef6d.esm.js.DtZMtc8k.js";const P="modulepreload",S=function(m){return"/"+m},w={},T=function(p,c,u){let d=Promise.resolve();if(c&&c.length>0){const o=document.getElementsByTagName("link"),e=document.querySelector("meta[property=csp-nonce]"),f=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));d=Promise.all(c.map(t=>{if(t=S(t),t in w)return;w[t]=!0;const s=t.endsWith(".css"),E=s?'[rel="stylesheet"]':"";if(!!u)for(let r=o.length-1;r>=0;r--){const l=o[r];if(l.href===t&&(!s||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${E}`))return;const n=document.createElement("link");if(n.rel=s?"stylesheet":P,s||(n.as="script",n.crossOrigin=""),n.href=t,f&&n.setAttribute("nonce",f),document.head.appendChild(n),s)return new Promise((r,l)=>{n.addEventListener("load",r),n.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${t}`)))})}))}return d.then(()=>p()).catch(o=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=o,window.dispatchEvent(e),!e.defaultPrevented)throw o})},A=i.forwardRef(({sdfGlyphSize:m=64,anchorX:p="center",anchorY:c="middle",font:u,fontSize:d=1,children:o,characters:e,onSync:f,...t},s)=>{const{Text:E,preloadFont:v}=_(async()=>T(()=>import("../../../troika-three-text/dist/troika-three-text.esm.js.B6WSIXlu.js"),__vite__mapDeps([0,1,2,3,4,5])),[]),n=g(({invalidate:a})=>a),[r]=i.useState(()=>new E),[l,x]=i.useMemo(()=>{const a=[];let y="";return i.Children.forEach(o,h=>{typeof h=="string"||typeof h=="number"?y+=h:a.push(h)}),[a,y]},[o]);return _(()=>new Promise(a=>v({font:u,characters:e},a)),["troika-text",u,e]),i.useLayoutEffect(()=>void r.sync(()=>{n(),f&&f(r)})),i.useEffect(()=>()=>r.dispose(),[r]),i.createElement("primitive",k({object:r,ref:s,font:u,text:x,anchorX:p,anchorY:c,fontSize:d,sdfGlyphSize:m},t),l)});export{A as T,T as _};
