{"version":3,"mappings":"kUAMK,MAACA,EAAsBC,EAAgB,WAAC,CAAC,CAC5C,aAAAC,EAAe,GACf,QAAAC,EAAU,SACV,QAAAC,EAAU,SACV,KAAAC,EACA,SAAAC,EAAW,EACX,SAAAC,EACA,WAAAC,EACA,OAAAC,EACA,GAAGC,CACL,EAAGC,IAAQ,CAET,KAAM,CACJ,KAAMC,EACN,YAAAC,CACD,EAAGC,EAAQ,SAAWC,EAAA,IAAC,OAAO,sEAAmB,kCAAG,CAAE,GACjDC,EAAaC,EAAS,CAAC,CAC3B,WAAAD,CACD,IAAKA,CAAU,EACV,CAACE,CAAU,EAAIC,WAAe,IAAM,IAAIP,CAAc,EACtD,CAACQ,EAAOC,CAAI,EAAIC,EAAa,QAAC,IAAM,CACxC,MAAMC,EAAI,GACV,IAAIC,EAAI,GACRC,kBAAe,QAAQlB,EAAUmB,GAAS,CACpC,OAAOA,GAAU,UAAY,OAAOA,GAAU,SAChDF,GAAKE,EAELH,EAAE,KAAKG,CAAK,CAEpB,CAAK,EACM,CAACH,EAAGC,CAAC,CAChB,EAAK,CAACjB,CAAQ,CAAC,EACb,OAAAO,EAAQ,IAAM,IAAI,QAAQa,GAAOd,EAAY,CAC3C,KAAAR,EACA,WAAAG,CACJ,EAAKmB,CAAG,CAAC,EAAG,CAAC,cAAetB,EAAMG,CAAU,CAAC,EAC3CoB,kBAAsB,IAAM,KAAKV,EAAW,KAAK,IAAM,CACrDF,IACIP,GAAQA,EAAOS,CAAU,CAC9B,EAAC,EACFW,YAAgB,IACP,IAAMX,EAAW,UACvB,CAACA,CAAU,CAAC,EACKY,EAAmB,cAAC,YAAaC,EAAS,CAC5D,OAAQb,EACR,IAAKP,EACL,KAAMN,EACN,KAAMgB,EACN,QAASlB,EACT,QAASC,EACT,SAAUE,EACV,aAAcJ,CAClB,EAAKQ,CAAK,EAAGU,CAAK,CAClB,CAAC","names":["Text","React.forwardRef","sdfGlyphSize","anchorX","anchorY","font","fontSize","children","characters","onSync","props","ref","TextMeshImpl","preloadFont","suspend","__vitePreload","invalidate","useThree","troikaMesh","React.useState","nodes","text","React.useMemo","n","t","React.Children","child","res","React.useLayoutEffect","React.useEffect","React.createElement","_extends"],"sources":["../../../../../node_modules/.pnpm/@react-three+drei@9.88.17_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/@react-three/drei/core/Text.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\n// eslint-disable-next-line prettier/prettier\nconst Text = /* @__PURE__ */React.forwardRef(({\n  sdfGlyphSize = 64,\n  anchorX = 'center',\n  anchorY = 'middle',\n  font,\n  fontSize = 1,\n  children,\n  characters,\n  onSync,\n  ...props\n}, ref) => {\n  // https://github.com/pmndrs/drei/issues/1725\n  const {\n    Text: TextMeshImpl,\n    preloadFont\n  } = suspend(async () => import('troika-three-text'), []);\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const [troikaMesh] = React.useState(() => new TextMeshImpl());\n  const [nodes, text] = React.useMemo(() => {\n    const n = [];\n    let t = '';\n    React.Children.forEach(children, child => {\n      if (typeof child === 'string' || typeof child === 'number') {\n        t += child;\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children]);\n  suspend(() => new Promise(res => preloadFont({\n    font,\n    characters\n  }, res)), ['troika-text', font, characters]);\n  React.useLayoutEffect(() => void troikaMesh.sync(() => {\n    invalidate();\n    if (onSync) onSync(troikaMesh);\n  }));\n  React.useEffect(() => {\n    return () => troikaMesh.dispose();\n  }, [troikaMesh]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: troikaMesh,\n    ref: ref,\n    font: font,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY,\n    fontSize: fontSize,\n    sdfGlyphSize: sdfGlyphSize\n  }, props), nodes);\n});\n\nexport { Text };\n"],"file":"assets/@react-three/drei/core/Text.js.PTthwYN1.js"}