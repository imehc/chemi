{"version":3,"file":"GizmoViewport.js.8XIsJEiY.js","sources":["../../../../../node_modules/.pnpm/@react-three+drei@9.88.17_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/@react-three/drei/core/GizmoViewport.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis({\n  scale = [0.8, 0.05, 0.05],\n  color,\n  rotation\n}) {\n  return /*#__PURE__*/React.createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: scale\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\nfunction AxisHead({\n  onClick,\n  font,\n  disabled,\n  arcStyle,\n  label,\n  labelColor,\n  axisHeadScale = 1,\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const texture = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n    if (label) {\n      context.font = font;\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor, font]);\n  const [active, setActive] = React.useState(false);\n  const scale = (label ? 1 : 0.75) * (active ? 1.2 : 1) * axisHeadScale;\n  const handlePointerOver = e => {\n    e.stopPropagation();\n    setActive(true);\n  };\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setActive(false);\n  };\n  return /*#__PURE__*/React.createElement(\"sprite\", _extends({\n    scale: scale,\n    onPointerOver: !disabled ? handlePointerOver : undefined,\n    onPointerOut: !disabled ? onClick || handlePointerOut : undefined\n  }, props), /*#__PURE__*/React.createElement(\"spriteMaterial\", {\n    map: texture,\n    \"map-anisotropy\": gl.capabilities.getMaxAnisotropy() || 1,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\nconst GizmoViewport = ({\n  hideNegativeAxes,\n  hideAxisHeads,\n  disabled,\n  font = '18px Inter var, Arial, sans-serif',\n  axisColors = ['#ff2060', '#20df80', '#2080ff'],\n  axisHeadScale = 1,\n  axisScale,\n  labels = ['X', 'Y', 'Z'],\n  labelColor = '#000',\n  onClick,\n  ...props\n}) => {\n  const [colorX, colorY, colorZ] = axisColors;\n  const {\n    tweenCamera\n  } = useGizmoContext();\n  const axisHeadProps = {\n    font,\n    disabled,\n    labelColor,\n    onClick,\n    axisHeadScale,\n    onPointerDown: !disabled ? e => {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    } : undefined\n  };\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    scale: 40\n  }, props), /*#__PURE__*/React.createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0],\n    scale: axisScale\n  }), !hideAxisHeads && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: labels[0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: labels[1]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: labels[2]\n  }, axisHeadProps)), !hideNegativeAxes && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)))));\n};\n\nexport { GizmoViewport };\n"],"names":["Axis","scale","color","rotation","React.createElement","AxisHead","onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale","props","gl","useThree","state","texture","React.useMemo","canvas","context","CanvasTexture","active","setActive","React.useState","handlePointerOver","e","handlePointerOut","_extends","GizmoViewport","hideNegativeAxes","hideAxisHeads","axisColors","axisScale","labels","colorX","colorY","colorZ","tweenCamera","useGizmoContext","axisHeadProps","React.Fragment"],"mappings":"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","x_google_ignoreList":[0]}