{"version":3,"file":"useProgress.js.2TVCs9uI.js","sources":["../../../../../node_modules/.pnpm/@react-three+drei@9.88.17_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/@react-three/drei/core/useProgress.js"],"sourcesContent":["import { DefaultLoadingManager } from 'three';\nimport create from 'zustand';\n\nlet saveLastTotalLoaded = 0;\nconst useProgress = /* @__PURE__ */create(set => {\n  DefaultLoadingManager.onStart = (item, loaded, total) => {\n    set({\n      active: true,\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100\n    });\n  };\n  DefaultLoadingManager.onLoad = () => {\n    set({\n      active: false\n    });\n  };\n  DefaultLoadingManager.onError = item => set(state => ({\n    errors: [...state.errors, item]\n  }));\n  DefaultLoadingManager.onProgress = (item, loaded, total) => {\n    if (loaded === total) {\n      saveLastTotalLoaded = total;\n    }\n    set({\n      active: true,\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100 || 100\n    });\n  };\n  return {\n    errors: [],\n    active: false,\n    progress: 0,\n    item: '',\n    loaded: 0,\n    total: 0\n  };\n});\n\nexport { useProgress };\n"],"names":["saveLastTotalLoaded","useProgress","create","set","DefaultLoadingManager","item","loaded","total","state"],"mappings":"mIAGA,IAAIA,EAAsB,EACrB,MAACC,EAA6BC,EAAOC,IACxCC,EAAsB,QAAU,CAACC,EAAMC,EAAQC,IAAU,CACvDJ,EAAI,CACF,OAAQ,GACR,KAAAE,EACA,OAAAC,EACA,MAAAC,EACA,UAAWD,EAASN,IAAwBO,EAAQP,GAAuB,GACjF,CAAK,CACL,EACEI,EAAsB,OAAS,IAAM,CACnCD,EAAI,CACF,OAAQ,EACd,CAAK,CACL,EACEC,EAAsB,QAAUC,GAAQF,EAAIK,IAAU,CACpD,OAAQ,CAAC,GAAGA,EAAM,OAAQH,CAAI,CAC/B,EAAC,EACFD,EAAsB,WAAa,CAACC,EAAMC,EAAQC,IAAU,CACtDD,IAAWC,IACbP,EAAsBO,GAExBJ,EAAI,CACF,OAAQ,GACR,KAAAE,EACA,OAAAC,EACA,MAAAC,EACA,UAAWD,EAASN,IAAwBO,EAAQP,GAAuB,KAAO,GACxF,CAAK,CACL,EACS,CACL,OAAQ,CAAE,EACV,OAAQ,GACR,SAAU,EACV,KAAM,GACN,OAAQ,EACR,MAAO,CACX,EACC","x_google_ignoreList":[0]}