import{z as i,T as n}from"../../../three/build/three.module.js.jQmR1wrA.js";import{r as c}from"../../../react/index.js.IuPGg7Py.js";import{u as m,g as u}from"../../fiber/dist/index-ba8afaa4.esm.js.CC8UC62r.js";const f=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function l(e,a){const o=m(t=>t.gl),r=u(i,f(e)?Object.values(e):e);return c.useLayoutEffect(()=>{a==null||a(r)},[a]),c.useEffect(()=>{if("initTexture"in o){let t=[];Array.isArray(r)?t=r:r instanceof n?t=[r]:f(r)&&(t=Object.values(r)),t.forEach(s=>{s instanceof n&&o.initTexture(s)})}},[o,r]),c.useMemo(()=>{if(f(e)){const t={};let s=0;for(const x in e)t[x]=r[s++];return t}else return r},[e,r])}l.preload=e=>u.preload(i,e);l.clear=e=>u.clear(i,e);export{l as u};
