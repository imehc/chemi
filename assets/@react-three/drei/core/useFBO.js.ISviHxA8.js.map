{"version":3,"file":"useFBO.js.ISviHxA8.js","sources":["../../../../../node_modules/.pnpm/@react-three+drei@9.88.17_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/@react-three/drei/core/useFBO.js"],"sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO( /** Width in pixels, or settings (will render fullscreen by default) */\nwidth, /** Height in pixels */\nheight, /**Settings */\nsettings) {\n  const size = useThree(state => state.size);\n  const viewport = useThree(state => state.viewport);\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const target = React.useMemo(() => {\n    const target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    if (depth) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\n\nexport { useFBO };\n"],"names":["useFBO","width","height","settings","size","useThree","state","viewport","_width","_height","_settings","samples","depth","targetSettings","target","React.useMemo","THREE.WebGLRenderTarget","THREE.LinearFilter","THREE.HalfFloatType","THREE.DepthTexture","THREE.FloatType","React.useLayoutEffect","React.useEffect"],"mappings":"gOAMA,SAASA,EACTC,EACAC,EACAC,EAAU,CACR,MAAMC,EAAOC,EAASC,GAASA,EAAM,IAAI,EACnCC,EAAWF,EAASC,GAASA,EAAM,QAAQ,EAC3CE,EAAS,OAAOP,GAAU,SAAWA,EAAQG,EAAK,MAAQG,EAAS,IACnEE,EAAU,OAAOP,GAAW,SAAWA,EAASE,EAAK,OAASG,EAAS,IACvEG,GAAa,OAAOT,GAAU,SAAWE,EAAWF,IAAU,GAC9D,CACJ,QAAAU,EAAU,EACV,MAAAC,EACA,GAAGC,CACJ,EAAGH,EACEI,EAASC,EAAAA,QAAc,IAAM,CACjC,MAAMD,EAAS,IAAIE,EAAwBR,EAAQC,EAAS,CAC1D,UAAWQ,EACX,UAAWA,EACX,KAAMC,EACN,GAAGL,CACT,CAAK,EACD,OAAID,IACFE,EAAO,aAAe,IAAIK,EAAmBX,EAAQC,EAASW,CAAe,GAE/EN,EAAO,QAAUH,EACVG,CACR,EAAE,CAAE,CAAA,EACLO,OAAAA,EAAAA,gBAAsB,IAAM,CAC1BP,EAAO,QAAQN,EAAQC,CAAO,EAC1BE,IAASG,EAAO,QAAUH,EAC/B,EAAE,CAACA,EAASG,EAAQN,EAAQC,CAAO,CAAC,EACrCa,EAAAA,UAAgB,IACP,IAAMR,EAAO,UACnB,CAAE,CAAA,EACEA,CACT","x_google_ignoreList":[0]}