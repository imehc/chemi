import{_ as y}from"../../../@babel/runtime/helpers/esm/extends.js.CF3RwP-h.js";import{r as e}from"../../../react/index.js.IuPGg7Py.js";import{V as p,u as E}from"../../../three/build/three.module.js.jQmR1wrA.js";import{b as A}from"../../fiber/dist/index-ba8afaa4.esm.js.CC8UC62r.js";const x=e.forwardRef(({args:f,map:u,toneMapped:s=!1,color:n="white",form:m="rect",intensity:o=1,scale:r=1,target:t,children:l,...i},c)=>{const a=e.useRef(null);return e.useImperativeHandle(c,()=>a.current,[]),e.useLayoutEffect(()=>{!l&&!i.material&&(A(a.current.material,{color:n}),a.current.material.color.multiplyScalar(o))},[n,o,l,i.material]),e.useLayoutEffect(()=>{t&&a.current.lookAt(Array.isArray(t)?new p(...t):t)},[t]),r=Array.isArray(r)&&r.length===2?[r[0],r[1],1]:r,e.createElement("mesh",y({ref:a,scale:r},i),m==="circle"?e.createElement("ringGeometry",{args:[0,1,64]}):m==="ring"?e.createElement("ringGeometry",{args:[.5,1,64]}):m==="rect"?e.createElement("planeGeometry",null):e.createElement(m,{args:f}),l||(i.material?null:e.createElement("meshBasicMaterial",{toneMapped:s,map:u,side:E})))});export{x as L};
