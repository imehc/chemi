{"version":3,"file":"Html.js.ev0GDvwX.js","sources":["../../../../../node_modules/.pnpm/@react-three+drei@9.88.17_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/@react-three/drei/web/Html.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { Vector3, DoubleSide, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = /* @__PURE__ */new Vector3();\nconst v2 = /* @__PURE__ */new Vector3();\nconst v3 = /* @__PURE__ */new Vector3();\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n  return true;\n}\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n  return undefined;\n}\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n  return prepend + matrix3d;\n}\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\nfunction isRefObject(ref) {\n  return ref && typeof ref === 'object' && 'current' in ref;\n}\nconst Html = /* @__PURE__ */React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  castShadow,\n  receiveShadow,\n  material,\n  geometry,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  wrapperClass,\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  const {\n    gl,\n    camera,\n    scene,\n    size,\n    raycaster,\n    events,\n    viewport\n  } = useThree();\n  const [el] = React.useState(() => document.createElement(as));\n  const root = React.useRef();\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  // Append to the connected element, which makes HTML work with views\n  const target = (portal == null ? void 0 : portal.current) || events.connected || gl.domElement.parentNode;\n  const occlusionMeshRef = React.useRef(null);\n  const isMeshSizeSet = React.useRef(false);\n  const isRayCastOcclusion = React.useMemo(() => {\n    return occlude && occlude !== 'blending' || Array.isArray(occlude) && occlude.length && isRefObject(occlude[0]);\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    const el = gl.domElement;\n    if (occlude && occlude === 'blending') {\n      el.style.zIndex = `${Math.floor(zIndexRange[0] / 2)}`;\n      el.style.position = 'absolute';\n      el.style.pointerEvents = 'none';\n    } else {\n      el.style.zIndex = null;\n      el.style.position = null;\n      el.style.pointerEvents = null;\n    }\n  }, [occlude]);\n  React.useLayoutEffect(() => {\n    if (group.current) {\n      const currentRoot = root.current = ReactDOM.createRoot(el);\n      scene.updateMatrixWorld();\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n      return () => {\n        if (target) target.removeChild(el);\n        currentRoot.unmount();\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(() => {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    isMeshSizeSet.current = false;\n    if (transform) {\n      var _root$current;\n      (_root$current = root.current) == null || _root$current.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))));\n    } else {\n      var _root$current2;\n      (_root$current2 = root.current) == null || _root$current2.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }));\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(gl => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n        if (isRayCastOcclusion) {\n          if (Array.isArray(occlude)) {\n            raytraceTarget = occlude.map(item => item.current);\n          } else if (occlude !== 'blending') {\n            raytraceTarget = [scene];\n          }\n        }\n        const previouslyVisible = visible.current;\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n        const halfRange = Math.floor(zIndexRange[0] / 2);\n        const zRange = occlude ? isRayCastOcclusion //\n        ? [zIndexRange[0], halfRange] : [halfRange - 1, 0] : zIndexRange;\n        el.style.zIndex = `${objectZIndex(group.current, camera, zRange)}`;\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n    if (!isRayCastOcclusion && occlusionMeshRef.current && !isMeshSizeSet.current) {\n      if (transform) {\n        if (transformOuterRef.current) {\n          const el = transformOuterRef.current.children[0];\n          if (el != null && el.clientWidth && el != null && el.clientHeight) {\n            const {\n              isOrthographicCamera\n            } = camera;\n            if (isOrthographicCamera || geometry) {\n              if (props.scale) {\n                if (!Array.isArray(props.scale)) {\n                  occlusionMeshRef.current.scale.setScalar(1 / props.scale);\n                } else if (props.scale instanceof Vector3) {\n                  occlusionMeshRef.current.scale.copy(props.scale.clone().divideScalar(1));\n                } else {\n                  occlusionMeshRef.current.scale.set(1 / props.scale[0], 1 / props.scale[1], 1 / props.scale[2]);\n                }\n              }\n            } else {\n              const ratio = (distanceFactor || 10) / 400;\n              const w = el.clientWidth * ratio;\n              const h = el.clientHeight * ratio;\n              occlusionMeshRef.current.scale.set(w, h, 1);\n            }\n            isMeshSizeSet.current = true;\n          }\n        }\n      } else {\n        const ele = el.children[0];\n        if (ele != null && ele.clientWidth && ele != null && ele.clientHeight) {\n          const ratio = 1 / viewport.factor;\n          const w = ele.clientWidth * ratio;\n          const h = ele.clientHeight * ratio;\n          occlusionMeshRef.current.scale.set(w, h, 1);\n          isMeshSizeSet.current = true;\n        }\n        occlusionMeshRef.current.lookAt(gl.camera.position);\n      }\n    }\n  });\n  const shaders = React.useMemo(() => ({\n    vertexShader: !transform ? /* glsl */`\n          /*\n            This shader is from the THREE's SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if \"transfrom\" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ` : undefined,\n    fragmentShader: /* glsl */`\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      `\n  }), [transform]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }), occlude && !isRayCastOcclusion && /*#__PURE__*/React.createElement(\"mesh\", {\n    castShadow: castShadow,\n    receiveShadow: receiveShadow,\n    ref: occlusionMeshRef\n  }, geometry || /*#__PURE__*/React.createElement(\"planeGeometry\", null), material || /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    side: DoubleSide,\n    vertexShader: shaders.vertexShader,\n    fragmentShader: shaders.fragmentShader\n  })));\n});\n\nexport { Html };\n"],"names":["v1","Vector3","v2","v3","defaultCalculatePosition","el","camera","size","objectPos","widthHalf","heightHalf","isObjectBehindCamera","cameraPos","deltaCamObj","camDir","isObjectVisible","raycaster","occlude","elPos","screenPos","intersects","intersectionDistance","objectScale","OrthographicCamera","PerspectiveCamera","vFOV","dist","objectZIndex","zIndexRange","A","B","epsilon","value","getCSSMatrix","matrix","multipliers","prepend","matrix3d","i","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","isRefObject","ref","Html","React.forwardRef","children","eps","style","className","center","fullscreen","portal","distanceFactor","sprite","transform","onOcclude","castShadow","receiveShadow","material","geometry","calculatePosition","as","wrapperClass","pointerEvents","props","gl","scene","events","viewport","useThree","React.useState","root","React.useRef","group","oldZoom","oldPosition","transformOuterRef","transformInnerRef","target","occlusionMeshRef","isMeshSizeSet","isRayCastOcclusion","React.useMemo","React.useLayoutEffect","currentRoot","ReactDOM.createRoot","vec","styles","transformInnerStyles","_root$current","React.createElement","_root$current2","visible","useFrame","isBehindCamera","raytraceTarget","item","previouslyVisible","isvisible","halfRange","zRange","fov","isOrthographicCamera","top","left","bottom","right","cameraMatrix","cameraTransform","scale","ratio","w","h","ele","shaders","_extends","DoubleSide"],"mappings":"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","x_google_ignoreList":[0]}