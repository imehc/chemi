import{_ as H}from"../../../@babel/runtime/helpers/esm/extends.js.CF3RwP-h.js";import{r}from"../../../react/index.js.IuPGg7Py.js";import{u as me,o as we,s as he,l as ue,f as ge,b as xe,a as ve,h as be}from"../../../@floating-ui/react-dom/dist/floating-ui.react-dom.mjs.B38vdQb9.js";import{$ as Pe}from"../../react-arrow/dist/index.mjs.H2wOViIH.js";import{$ as M}from"../../react-compose-refs/dist/index.mjs.3QHn7L2p.js";import{$ as ye}from"../../react-context/dist/index.mjs.DxkCy942.js";import{$ as B}from"../../react-primitive/dist/index.mjs.D0sMAeWV.js";import{$ as _e}from"../../react-use-callback-ref/dist/index.mjs.MU-6vdSB.js";import{$ as X}from"../../react-use-layout-effect/dist/index.mjs.B_zlnwqv.js";import{$ as Ae}from"../../react-use-size/dist/index.mjs.djlGrYZ9.js";import{d as Se}from"../../../@floating-ui/dom/dist/floating-ui.dom.mjs.BDa5o-tO.js";const F="Popper",[k,Ke]=ye(F),[Ce,T]=k(F),Oe=o=>{const{__scopePopper:d,children:a}=o,[t,n]=r.useState(null);return r.createElement(Ce,{scope:d,anchor:t,onAnchorChange:n},a)},Ee="PopperAnchor",De=r.forwardRef((o,d)=>{const{__scopePopper:a,virtualRef:t,...n}=o,e=T(Ee,a),i=r.useRef(null),l=M(d,i);return r.useEffect(()=>{e.onAnchorChange((t==null?void 0:t.current)||i.current)}),t?null:r.createElement(B.div,H({},n,{ref:l}))}),j="PopperContent",[He,Re]=k(j),Ne=r.forwardRef((o,d)=>{var a,t,n,e,i,l,w,f;const{__scopePopper:S,side:c="bottom",sideOffset:C=0,align:s="center",alignOffset:h=0,arrowPadding:O=0,avoidCollisions:p=!0,collisionBoundary:u=[],collisionPadding:g=0,sticky:$="partial",hideWhenDetached:m=!1,updatePositionStrategy:U="optimized",onPlaced:q,...R}=o,G=T(j,S),[E,J]=r.useState(null),K=M(d,b=>J(b)),[D,L]=r.useState(null),x=Ae(D),Q=(a=x==null?void 0:x.width)!==null&&a!==void 0?a:0,N=(t=x==null?void 0:x.height)!==null&&t!==void 0?t:0,V=c+(s!=="center"?"-"+s:""),ee=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(u)?u:[u],te=W.length>0,P={padding:ee,boundary:W.filter(Ie),altBoundary:te},{refs:re,floatingStyles:z,placement:oe,isPositioned:y,middlewareData:v}=me({strategy:"fixed",placement:V,whileElementsMounted:(...b)=>Se(...b,{animationFrame:U==="always"}),elements:{reference:G.anchor},middleware:[we({mainAxis:C+N,alignmentAxis:h}),p&&he({mainAxis:!0,crossAxis:!1,limiter:$==="partial"?ue():void 0,...P}),p&&ge({...P}),xe({...P,apply:({elements:b,rects:I,availableWidth:le,availableHeight:fe})=>{const{width:pe,height:$e}=I.reference,A=b.floating.style;A.setProperty("--radix-popper-available-width",`${le}px`),A.setProperty("--radix-popper-available-height",`${fe}px`),A.setProperty("--radix-popper-anchor-width",`${pe}px`),A.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),D&&ve({element:D,padding:O}),Xe({arrowWidth:Q,arrowHeight:N}),m&&be({strategy:"referenceHidden",...P})]}),[Y,ae]=Z(oe),_=_e(q);X(()=>{y&&(_==null||_())},[y,_]);const ne=(n=v.arrow)===null||n===void 0?void 0:n.x,ie=(e=v.arrow)===null||e===void 0?void 0:e.y,de=((i=v.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[ce,se]=r.useState();return X(()=>{E&&se(window.getComputedStyle(E).zIndex)},[E]),r.createElement("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:y?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(l=v.transformOrigin)===null||l===void 0?void 0:l.x,(w=v.transformOrigin)===null||w===void 0?void 0:w.y].join(" ")},dir:o.dir},r.createElement(He,{scope:S,placedSide:Y,onArrowChange:L,arrowX:ne,arrowY:ie,shouldHideArrow:de},r.createElement(B.div,H({"data-side":Y,"data-align":ae},R,{ref:K,style:{...R.style,animation:y?void 0:"none",opacity:(f=v.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))}),We="PopperArrow",ze={top:"bottom",right:"left",bottom:"top",left:"right"},Ye=r.forwardRef(function(d,a){const{__scopePopper:t,...n}=d,e=Re(We,t),i=ze[e.placedSide];return r.createElement("span",{ref:e.onArrowChange,style:{position:"absolute",left:e.arrowX,top:e.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[e.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[e.placedSide],visibility:e.shouldHideArrow?"hidden":void 0}},r.createElement(Pe,H({},n,{ref:a,style:{...n.style,display:"block"}})))});function Ie(o){return o!==null}const Xe=o=>({name:"transformOrigin",options:o,fn(d){var a,t,n,e,i;const{placement:l,rects:w,middlewareData:f}=d,c=((a=f.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,C=c?0:o.arrowWidth,s=c?0:o.arrowHeight,[h,O]=Z(l),p={start:"0%",center:"50%",end:"100%"}[O],u=((t=(n=f.arrow)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0)+C/2,g=((e=(i=f.arrow)===null||i===void 0?void 0:i.y)!==null&&e!==void 0?e:0)+s/2;let $="",m="";return h==="bottom"?($=c?p:`${u}px`,m=`${-s}px`):h==="top"?($=c?p:`${u}px`,m=`${w.floating.height+s}px`):h==="right"?($=`${-s}px`,m=c?p:`${g}px`):h==="left"&&($=`${w.floating.width+s}px`,m=c?p:`${g}px`),{data:{x:$,y:m}}}});function Z(o){const[d,a="center"]=o.split("-");return[d,a]}const Le=Oe,Qe=De,Ve=Ne,et=Ye;export{Ke as $,et as a,Le as b,Qe as c,Ve as d};
