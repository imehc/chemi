{"version":3,"file":"store.mjs.WTcb4_d4.js","sources":["../../../../node_modules/.pnpm/r3f-perf@7.1.2_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/r3f-perf/dist/store.mjs"],"sourcesContent":["import create from \"zustand\";\nimport shallow from \"zustand/shallow\";\nconst setCustomData = (customData) => {\n  setPerf({ customData });\n};\nconst getCustomData = () => {\n  return getPerf().customData;\n};\nconst usePerfImpl = create((set, get) => {\n  function getReport() {\n    var _a;\n    const { accumulated, startTime, infos } = get();\n    const maxMemory = (_a = get().log) == null ? void 0 : _a.maxMemory;\n    const { totalFrames, log, gl, max } = accumulated;\n    const glAverage = {\n      calls: gl.calls / totalFrames,\n      triangles: gl.triangles / totalFrames,\n      points: gl.points / totalFrames,\n      lines: gl.lines / totalFrames\n    };\n    const logAverage = {\n      gpu: log.gpu / totalFrames,\n      cpu: log.cpu / totalFrames,\n      mem: log.mem / totalFrames,\n      fps: log.fps / totalFrames\n    };\n    const sessionTime = (window.performance.now() - startTime) / 1e3;\n    return {\n      sessionTime,\n      infos,\n      log: logAverage,\n      gl: glAverage,\n      max,\n      maxMemory,\n      totalFrames\n    };\n  }\n  return {\n    log: null,\n    paused: false,\n    triggerProgramsUpdate: 0,\n    startTime: 0,\n    customData: 0,\n    fpsLimit: 60,\n    overclockingFps: false,\n    accumulated: {\n      totalFrames: 0,\n      gl: {\n        calls: 0,\n        triangles: 0,\n        points: 0,\n        lines: 0,\n        counts: 0\n      },\n      log: {\n        gpu: 0,\n        cpu: 0,\n        mem: 0,\n        fps: 0\n      },\n      max: {\n        gl: {\n          calls: 0,\n          triangles: 0,\n          points: 0,\n          lines: 0,\n          counts: 0\n        },\n        log: {\n          gpu: 0,\n          cpu: 0,\n          mem: 0,\n          fps: 0\n        }\n      }\n    },\n    chart: {\n      data: {\n        fps: [],\n        cpu: [],\n        gpu: [],\n        mem: []\n      },\n      circularId: 0\n    },\n    gl: void 0,\n    objectWithMaterials: null,\n    scene: void 0,\n    programs: /* @__PURE__ */ new Map(),\n    sceneLength: void 0,\n    tab: \"infos\",\n    getReport\n  };\n});\nconst usePerf = (sel) => usePerfImpl(sel, shallow);\nObject.assign(usePerf, usePerfImpl);\nconst { getState: getPerf, setState: setPerf } = usePerfImpl;\nexport {\n  getCustomData,\n  getPerf,\n  setCustomData,\n  setPerf,\n  usePerf,\n  usePerfImpl\n};\n//# sourceMappingURL=store.mjs.map\n"],"names":["usePerfImpl","create","set","get","getReport","_a","accumulated","startTime","infos","maxMemory","totalFrames","log","gl","max","glAverage","logAverage","usePerf","sel","shallow","getPerf","setPerf"],"mappings":"0HAQA,MAAMA,EAAcC,EAAO,CAACC,EAAKC,IAAQ,CACvC,SAASC,GAAY,CACnB,IAAIC,EACJ,KAAM,CAAE,YAAAC,EAAa,UAAAC,EAAW,MAAAC,CAAO,EAAGL,EAAG,EACvCM,GAAaJ,EAAKF,EAAK,EAAC,MAAQ,KAAO,OAASE,EAAG,UACnD,CAAE,YAAAK,EAAa,IAAAC,EAAK,GAAAC,EAAI,IAAAC,CAAG,EAAKP,EAChCQ,EAAY,CAChB,MAAOF,EAAG,MAAQF,EAClB,UAAWE,EAAG,UAAYF,EAC1B,OAAQE,EAAG,OAASF,EACpB,MAAOE,EAAG,MAAQF,CACxB,EACUK,EAAa,CACjB,IAAKJ,EAAI,IAAMD,EACf,IAAKC,EAAI,IAAMD,EACf,IAAKC,EAAI,IAAMD,EACf,IAAKC,EAAI,IAAMD,CACrB,EAEI,MAAO,CACL,aAFmB,OAAO,YAAY,IAAK,EAAGH,GAAa,IAG3D,MAAAC,EACA,IAAKO,EACL,GAAID,EACJ,IAAAD,EACA,UAAAJ,EACA,YAAAC,CACN,CACG,CACD,MAAO,CACL,IAAK,KACL,OAAQ,GACR,sBAAuB,EACvB,UAAW,EACX,WAAY,EACZ,SAAU,GACV,gBAAiB,GACjB,YAAa,CACX,YAAa,EACb,GAAI,CACF,MAAO,EACP,UAAW,EACX,OAAQ,EACR,MAAO,EACP,OAAQ,CACT,EACD,IAAK,CACH,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,CACN,EACD,IAAK,CACH,GAAI,CACF,MAAO,EACP,UAAW,EACX,OAAQ,EACR,MAAO,EACP,OAAQ,CACT,EACD,IAAK,CACH,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,CACN,CACF,CACF,EACD,MAAO,CACL,KAAM,CACJ,IAAK,CAAE,EACP,IAAK,CAAE,EACP,IAAK,CAAE,EACP,IAAK,CAAE,CACR,EACD,WAAY,CACb,EACD,GAAI,OACJ,oBAAqB,KACrB,MAAO,OACP,SAA0B,IAAI,IAC9B,YAAa,OACb,IAAK,QACL,UAAAN,CACJ,CACA,CAAC,EACKY,EAAWC,GAAQjB,EAAYiB,EAAKC,CAAO,EACjD,OAAO,OAAOF,EAAShB,CAAW,EAC7B,KAAC,CAAE,SAAUmB,EAAS,SAAUC,CAAO,EAAKpB","x_google_ignoreList":[0]}