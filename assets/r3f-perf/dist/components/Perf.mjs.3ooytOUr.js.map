{"version":3,"file":"Perf.mjs.3ooytOUr.js","sources":["../../../../../node_modules/.pnpm/r3f-perf@7.1.2_@react-three+fiber@8.15.11_@types+three@0.158.3_react-dom@18.2.0_react@18.2.0_three@0.158.0/node_modules/r3f-perf/dist/components/Perf.mjs"],"sourcesContent":["import { jsxs, jsx, Fragment } from \"react/jsx-runtime\";\nimport React, { useRef } from \"react\";\nimport { ChartUI } from \"./Graph.mjs\";\nimport { LightningBoltIcon, RulerHorizontalIcon, LapTimerIcon, TextAlignJustifyIcon, VercelLogoIcon, BarChartIcon, MarginIcon, ImageIcon, ActivityLogIcon, MinusIcon, DotIcon, DropdownMenuIcon, TriangleDownIcon, TriangleUpIcon } from \"@radix-ui/react-icons\";\nimport { HtmlMinimal } from \"./HtmlMinimal.mjs\";\nimport { PerfHeadless } from \"./PerfHeadless.mjs\";\nimport { PerfB, PerfIContainer, PerfI, PerfSmallI, Toggle, ToggleContainer, ContainerScroll, PerfS } from \"../styles.mjs\";\nimport { ProgramsUI } from \"./Program.mjs\";\nimport { usePerf, setPerf } from \"../store.mjs\";\nconst colorsGraph = (colorBlind) => {\n  const colors = {\n    overClock: `#ff6eff`,\n    fps: colorBlind ? \"100, 143, 255\" : \"238,38,110\",\n    cpu: colorBlind ? \"254, 254, 98\" : \"66,226,46\",\n    gpu: colorBlind ? \"254,254,254\" : \"253,151,31\",\n    custom: colorBlind ? \"86,180,233\" : \"40,255,255\"\n  };\n  return colors;\n};\nconst DynamicUIPerf = ({ showGraph, colorBlind }) => {\n  const overclockingFps = usePerf((s) => s.overclockingFps);\n  const fpsLimit = usePerf((s) => s.fpsLimit);\n  return /* @__PURE__ */ jsxs(\n    PerfB,\n    {\n      style: showGraph ? {\n        color: overclockingFps ? colorsGraph(colorBlind).overClock.toString() : `rgb(${colorsGraph(colorBlind).fps})`\n      } : {},\n      children: [\n        \"FPS \",\n        overclockingFps ? `${fpsLimit}ðŸš€` : \"\"\n      ]\n    }\n  );\n};\nconst DynamicUI = ({ showGraph, colorBlind, customData, minimal }) => {\n  const gl = usePerf((state) => state.gl);\n  return gl ? /* @__PURE__ */ jsxs(PerfIContainer, { children: [\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(LightningBoltIcon, {}),\n      /* @__PURE__ */ jsx(\n        PerfB,\n        {\n          style: showGraph ? {\n            color: `rgb(${colorsGraph(colorBlind).gpu.toString()})`\n          } : {},\n          children: \"GPU\"\n        }\n      ),\n      /* @__PURE__ */ jsx(PerfSmallI, { children: \"ms\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(RulerHorizontalIcon, {}),\n      /* @__PURE__ */ jsx(\n        PerfB,\n        {\n          style: showGraph ? {\n            color: `rgb(${colorsGraph(colorBlind).cpu.toString()})`\n          } : {},\n          children: \"CPU\"\n        }\n      ),\n      /* @__PURE__ */ jsx(PerfSmallI, { children: \"ms\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(LapTimerIcon, {}),\n      /* @__PURE__ */ jsx(DynamicUIPerf, { showGraph, colorBlind })\n    ] }),\n    !minimal && gl && /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(TextAlignJustifyIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: gl.info.render.calls === 1 ? \"call\" : \"calls\" })\n    ] }),\n    !minimal && gl && /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(VercelLogoIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Triangles\" })\n    ] }),\n    customData && /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(BarChartIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { style: showGraph ? { color: `rgb(${colorsGraph(colorBlind).custom})` } : {}, children: customData.name }),\n      customData.info && /* @__PURE__ */ jsx(PerfSmallI, { children: customData.info })\n    ] })\n  ] }) : null;\n};\nconst PerfUI = ({\n  showGraph,\n  colorBlind,\n  deepAnalyze,\n  customData,\n  matrixUpdate,\n  openByDefault,\n  minimal\n}) => {\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DynamicUI, { showGraph, colorBlind, customData, minimal }),\n    !minimal && /* @__PURE__ */ jsx(\n      PerfThree,\n      {\n        matrixUpdate,\n        openByDefault,\n        deepAnalyze,\n        showGraph\n      }\n    )\n  ] });\n};\nconst InfoUI = ({ matrixUpdate }) => {\n  return /* @__PURE__ */ jsxs(\"div\", { children: [\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(MarginIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Geometries\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(ImageIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Textures\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(ActivityLogIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"shaders\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(MinusIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Lines\" })\n    ] }),\n    /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(DotIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Points\" })\n    ] }),\n    matrixUpdate && /* @__PURE__ */ jsxs(PerfI, { children: [\n      /* @__PURE__ */ jsx(DropdownMenuIcon, {}),\n      /* @__PURE__ */ jsx(PerfB, { children: \"Matrices\" })\n    ] })\n  ] });\n};\nconst ToggleEl = ({ tab, title, set }) => {\n  const tabStore = usePerf((s) => s.tab);\n  return /* @__PURE__ */ jsx(\n    Toggle,\n    {\n      className: `${tabStore === tab ? \" __perf_toggle_tab_active\" : \"\"}`,\n      onClick: () => {\n        set(true);\n        setPerf({ tab });\n      },\n      children: /* @__PURE__ */ jsx(\"span\", { children: title })\n    }\n  );\n};\nconst PerfThree = ({ openByDefault, showGraph, deepAnalyze, matrixUpdate }) => {\n  const [show, set] = React.useState(openByDefault);\n  return /* @__PURE__ */ jsxs(\"span\", { children: [\n    /* @__PURE__ */ jsx(TabContainers, { show, showGraph, matrixUpdate }),\n    openByDefault && !deepAnalyze ? null : /* @__PURE__ */ jsxs(ToggleContainer, { className: \"__perf_toggle\", children: [\n      deepAnalyze && /* @__PURE__ */ jsx(ToggleEl, { tab: \"programs\", title: \"Programs\", set }),\n      deepAnalyze && /* @__PURE__ */ jsx(ToggleEl, { tab: \"infos\", title: \"Infos\", set }),\n      /* @__PURE__ */ jsx(\n        Toggle,\n        {\n          onClick: () => {\n            set(!show);\n          },\n          children: show ? /* @__PURE__ */ jsxs(\"span\", { children: [\n            /* @__PURE__ */ jsx(TriangleDownIcon, {}),\n            \" Minimize\"\n          ] }) : /* @__PURE__ */ jsxs(\"span\", { children: [\n            /* @__PURE__ */ jsx(TriangleUpIcon, {}),\n            \" More\"\n          ] })\n        }\n      )\n    ] })\n  ] });\n};\nconst TabContainers = ({ show, showGraph, matrixUpdate }) => {\n  const tab = usePerf((state) => state.tab);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(InfoUI, { matrixUpdate }),\n    show && /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(ContainerScroll, { style: { marginTop: showGraph ? \"38px\" : 0 }, children: tab === \"programs\" && /* @__PURE__ */ jsx(ProgramsUI, {}) }) })\n  ] });\n};\nconst Perf = ({\n  showGraph = true,\n  colorBlind = false,\n  openByDefault = true,\n  className,\n  overClock = false,\n  style,\n  position = \"top-right\",\n  chart,\n  logsPerSecond,\n  deepAnalyze = false,\n  antialias = true,\n  customData,\n  matrixUpdate,\n  minimal\n}) => {\n  const perfContainerRef = useRef(null);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      PerfHeadless,\n      {\n        logsPerSecond,\n        chart,\n        overClock,\n        deepAnalyze,\n        matrixUpdate\n      }\n    ),\n    /* @__PURE__ */ jsx(HtmlMinimal, { name: \"r3f-perf\", children: /* @__PURE__ */ jsxs(\n      PerfS,\n      {\n        className: (className ? \" \".concat(className) : \" \") + ` ${position ? position : \"\"} ${minimal ? \"minimal\" : \"\"}`,\n        style: { minHeight: minimal ? \"37px\" : showGraph ? \"100px\" : \"60px\", ...style },\n        ref: perfContainerRef,\n        children: [\n          /* @__PURE__ */ jsx(\n            ChartUI,\n            {\n              perfContainerRef,\n              colorBlind,\n              chart,\n              showGraph,\n              antialias,\n              customData,\n              minimal,\n              matrixUpdate\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            PerfUI,\n            {\n              colorBlind,\n              showGraph,\n              deepAnalyze,\n              openByDefault,\n              customData,\n              matrixUpdate,\n              minimal\n            }\n          )\n        ]\n      }\n    ) })\n  ] });\n};\nexport {\n  Perf,\n  colorsGraph\n};\n//# sourceMappingURL=Perf.mjs.map\n"],"names":["colorsGraph","colorBlind","DynamicUIPerf","showGraph","overclockingFps","usePerf","s","fpsLimit","jsxs","PerfB","DynamicUI","customData","minimal","gl","state","PerfIContainer","PerfI","jsx","LightningBoltIcon","PerfSmallI","RulerHorizontalIcon","LapTimerIcon","TextAlignJustifyIcon","VercelLogoIcon","BarChartIcon","PerfUI","deepAnalyze","matrixUpdate","openByDefault","Fragment","PerfThree","InfoUI","MarginIcon","ImageIcon","ActivityLogIcon","MinusIcon","DotIcon","DropdownMenuIcon","ToggleEl","tab","title","set","tabStore","Toggle","setPerf","show","React","TabContainers","ToggleContainer","TriangleDownIcon","TriangleUpIcon","ContainerScroll","ProgramsUI","Perf","className","overClock","style","position","chart","logsPerSecond","antialias","perfContainerRef","useRef","PerfHeadless","HtmlMinimal","PerfS","ChartUI"],"mappings":"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","x_google_ignoreList":[0]}