import{w as S}from"./with-selector.production.min.js_commonjs-exports.DoA7bgwG.js";import{r as E}from"../../../react/index.js.CiILtb88.js";import{s as x}from"../../shim/index.js.DDrcgNUJ.js";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=E,V=x;function w(e,u){return e===u&&(e!==0||1/e===1/u)||e!==e&&u!==u}var y=typeof Object.is=="function"?Object.is:w,j=V.useSyncExternalStore,O=s.useRef,_=s.useEffect,k=s.useMemo,q=s.useDebugValue;S.useSyncExternalStoreWithSelector=function(e,u,f,v,o){var n=O(null);if(n.current===null){var t={hasValue:!1,value:null};n.current=t}else t=n.current;n=k(function(){function m(r){if(!p){if(p=!0,a=r,r=v(r),o!==void 0&&t.hasValue){var i=t.value;if(o(i,r))return l=i}return l=r}if(i=l,y(a,r))return i;var h=v(r);return o!==void 0&&o(i,h)?i:(a=r,l=h)}var p=!1,a,l,d=f===void 0?null:f;return[function(){return m(u())},d===null?void 0:function(){return m(d())}]},[u,f,v,o]);var c=j(e,n[0],n[1]);return _(function(){t.hasValue=!0,t.value=c},[c]),q(c),c};
