import{j as r}from"./react/jsx-runtime.js.Cm6upDnr.js";import{C as c}from"./@react-three/fiber/dist/react-three-fiber.esm.js.uSMXqHGH.js";import{r as m}from"./react/index.js.IuPGg7Py.js";import{a9 as g,z as x}from"./three/build/three.module.js.jQmR1wrA.js";import{a as j,g as f}from"./@react-three/fiber/dist/index-ba8afaa4.esm.js.CC8UC62r.js";import{H as _}from"./@react-three/drei/core/Hud.js.Bz4gcp46.js";import{O as y}from"./@react-three/drei/core/OrthographicCamera.js.DzY-93Lj.js";import{E as d}from"./@react-three/drei/core/Environment.js.BN8gDpHm.js";import{u as n}from"./@react-three/drei/core/useGLTF.js.I5CDgch2.js";import{O as w}from"./@react-three/drei/core/OrbitControls.js.DSQN8AZM.js";import{u as v}from"./@react-three/drei/core/useProgress.js.Q3zJ6Jum.js";import{H as b}from"./@react-three/drei/web/Html.js.EOuKIWIz.js";import"./react/jsx-runtime.js_commonjs-module.DrftVG1b.js";import"./react/cjs/react-jsx-runtime.production.min.js.C9aFBgD_.js";import"./react/cjs/react-jsx-runtime.production.min.js_commonjs-exports.Y3wesJj2.js";import"./react-use-measure/dist/web.js.0CDZZggC.js";import"./debounce/index.js.A01yxaYv.js";import"./@chevrotain/cst-dts-gen/lib/src/api.js.Cpj98o6Y.js";import"./its-fine/dist/index.js.CBEqHD9G.js";import"./react-reconciler/constants.js.cziiqKC3.js";import"./react-reconciler/constants.js_commonjs-module.BUUaCVL8.js";import"./react-reconciler/cjs/react-reconciler-constants.production.min.js.BLy92Rht.js";import"./react-reconciler/cjs/react-reconciler-constants.production.min.js_commonjs-exports.Y3wesJj2.js";import"./react-reconciler/index.js.DwfphOJC.js";import"./react-reconciler/index.js_commonjs-module.DhgsKDqp.js";import"./react-reconciler/cjs/react-reconciler.production.min.js.C-zayX3I.js";import"./scheduler/index.js.DPKlw4YW.js";import"./scheduler/index.js_commonjs-module.IyF5mD2q.js";import"./scheduler/cjs/scheduler.production.min.js.BiBLb9Ep.js";import"./scheduler/cjs/scheduler.production.min.js_commonjs-exports.vhg0vpYA.js";import"./react/index.js_commonjs-module.DhgsKDqp.js";import"./react/cjs/react.production.min.js.DpCWH6XP.js";import"./react/cjs/react.production.min.js_commonjs-exports.Y3wesJj2.js";import"./zustand/esm/index.js.Cv_BSyMC.js";import"./suspend-react/index.js.BKIKQNXN.js";import"./@babel/runtime/helpers/esm/extends.js.CF3RwP-h.js";import"./@react-three/drei/core/useFBO.js.Z8r8a95p.js";import"./three-stdlib/objects/GroundProjectedEnv.js.DLk9lWeV.js";import"./@react-three/drei/core/useEnvironment.js.D-A-5KSM.js";import"./three-stdlib/loaders/RGBELoader.js.BImqJYtu.js";import"./three-stdlib/loaders/EXRLoader.js.Z0yrO-Gy.js";import"./fflate/esm/browser.js.MYZVcNpg.js";import"./@monogrid/gainmap-js/dist/decode.js.CUkLxOiA.js";import"./@monogrid/gainmap-js/dist/QuadRenderer-6HrRQdJM.js.CuN82Fif.js";import"./@react-three/drei/helpers/environment-assets.js.Cl7hcwyA.js";import"./@react-three/drei/helpers/deprecated.js.DPxl23Y9.js";import"./three-stdlib/loaders/GLTFLoader.js.CcUAsLKB.js";import"./three-stdlib/utils/BufferGeometryUtils.js.DS2-lAWa.js";import"./three-stdlib/_polyfill/constants.js.DuRMXTgx.js";import"./three-stdlib/loaders/DRACOLoader.js.Br4A8fvI.js";import"./three-stdlib/libs/MeshoptDecoder.js.C7b7PewA.js";import"./three-stdlib/controls/OrbitControls.js.DqJlVqcH.js";import"./react-dom/client.js.C0Clj67_.js";import"./react-dom/client.js_commonjs-exports.CmYd1H8K.js";import"./react-dom/index.js.DLK93kQg.js";import"./react-dom/index.js_commonjs-module.DhgsKDqp.js";import"./react-dom/cjs/react-dom.production.min.js.BaU55GLq.js";import"./react-dom/cjs/react-dom.production.min.js_commonjs-exports.Y3wesJj2.js";function i({id:e,texture:t,position:p,setSelected:a,roughness:o}){const s=m.useRef(null),[l,u]=m.useState(!1);return j((H,h)=>{s.current&&(s.current.scale.y=s.current.scale.x=s.current.scale.z=g.lerp(s.current.scale.y,l?1.5:1,.25),l&&s.current.rotateY(h*5))}),r.jsxs("mesh",{ref:s,position:p,onPointerOver:()=>u(!0),onPointerOut:()=>u(!1),onPointerDown:()=>a(e),children:[r.jsx("sphereGeometry",{}),r.jsx("meshStandardMaterial",{map:t,roughness:o,envMapIntensity:1.5})]})}function S({setSelected:e}){const t=f(x,["/v212/img/fabric_pattern_05.jpg","/v212/img/leather_red.jpg","/v212/img/fabric_pattern_07.jpg","/v212/img/book_pattern.jpg","/v212/img/denim_fabric_02.jpg"]);return r.jsxs(_,{children:[r.jsx(y,{makeDefault:!0,position:[0,0,2],zoom:50}),r.jsx(d,{preset:"forest"}),r.jsx(i,{id:0,texture:t[0],position:[-6,-6,0],setSelected:e}),r.jsx(i,{id:1,texture:t[1],position:[-3,-6,0],roughness:.2,setSelected:e}),r.jsx(i,{id:2,texture:t[2],position:[-0,-6,0],setSelected:e}),r.jsx(i,{id:3,texture:t[3],position:[3,-6,0],roughness:.5,setSelected:e}),r.jsx(i,{id:4,texture:t[4],position:[6,-6,0],setSelected:e})]})}function M(){const[e,t]=m.useState(0),p=m.useRef(null),{nodes:a,materials:o}=n("/v212/models/armchair-transformed.glb"),s=m.useMemo(()=>({0:o.fabric_pattern_05,1:o.red_leather,2:o.fabric_pattern_7,3:o.book_pattern,4:o.denim_fabric_02}),[o]);return r.jsxs(r.Fragment,{children:[r.jsx("group",{dispose:null,position:[1.5,.299,1.5],children:r.jsxs("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[r.jsx("mesh",{ref:p,geometry:a.armchair001_1.geometry,material:s[e],castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:a.armchair001_3.geometry,material:o.wooden_legs,castShadow:!0})]})}),r.jsx(S,{setSelected:t})]})}n.preload("/v212/models/armchair-transformed.glb");function P(){const{nodes:e,materials:t}=n("/v212/models/room-transformed.glb");return r.jsx(r.Fragment,{children:r.jsx("group",{dispose:null,"position-y":.3,children:r.jsxs("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[r.jsx("mesh",{geometry:e.room_1.geometry,material:t.ground_1,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_2.geometry,material:t.wall_1_2,castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_3.geometry,material:t.room_5_30,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_4.geometry,material:t.white,castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_5.geometry,material:t.flltgrey,"material-transparent":!0,"material-opacity":.1}),r.jsx("mesh",{geometry:e.room_6.geometry,material:t.dkgrey,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_7.geometry,material:t.amber,castShadow:!0}),r.jsx("mesh",{geometry:e.room_8.geometry,material:t.yellow_green,castShadow:!0}),r.jsx("mesh",{geometry:e.room_9.geometry,material:t.flbrown,castShadow:!0})]})})})}n.preload("/models/room-transformed.glb");const Ir=()=>r.jsxs(r.Fragment,{children:[r.jsx(c,{shadows:!0,camera:{position:[2.25,1,2.25]},children:r.jsxs(m.Suspense,{fallback:r.jsx(k,{}),children:[r.jsx(d,{preset:"forest",background:!0,ground:{height:2,radius:115,scale:100}}),r.jsx("directionalLight",{position:[5,1.5,3],intensity:2,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-bias":-1e-4}),r.jsx(P,{}),r.jsx(M,{}),r.jsx(w,{target:[1.5,.8,1.5],minPolarAngle:0,maxPolarAngle:Math.PI/2+Math.PI/12})]})}),r.jsxs("div",{id:"instructions",children:["Models from",r.jsx("a",{href:"https://sweethome3d.com",target:"_blank",rel:"noreferrer",children:"Sweet Home 3D"}),r.jsx("br",{}),"Textures from",r.jsx("a",{href:"https://polyhaven.com",target:"_blank",rel:"noreferrer",children:"Poly Haven"})]})]});function k(){const{progress:e}=v();return r.jsxs(b,{center:!0,className:"text-white",children:[e," % loaded"]})}export{Ir as Demo2v12,Ir as default};
