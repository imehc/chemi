import{g as ple,c as Wn}from"../../../@chevrotain/cst-dts-gen/lib/src/api.js.Cpj98o6Y.js";import{d as Og}from"./index.js_commonjs-module.BBQovQhv.js";import"../../dataverse/dist/index.js.C10g74by.js";import{d as je}from"../../dataverse/dist/index.js_commonjs-exports.CmPFFxNR.js";function jg(Mr){throw new Error('Could not dynamically require "'+Mr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Og.exports;(function(Mr,cl){var qn={},lq=Object.create,i2=Object.freeze,dl=Object.defineProperty,sq=Object.defineProperties,uq=Object.getOwnPropertyDescriptor,cq=Object.getOwnPropertyDescriptors,dq=Object.getOwnPropertyNames,zd=Object.getOwnPropertySymbols,fq=Object.getPrototypeOf,Tg=Object.prototype.hasOwnProperty,l2=Object.prototype.propertyIsEnumerable,zg=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},pq=Math.pow,Dg=(e,t,n)=>t in e?dl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Tg.call(t,n)&&Dg(e,n,t[n]);if(zd)for(var n of zd(t))l2.call(t,n)&&Dg(e,n,t[n]);return e},he=(e,t)=>sq(e,cq(t)),Xs=(e,t)=>{var n={};for(var o in e)Tg.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&zd)for(var o of zd(e))t.indexOf(o)<0&&l2.call(e,o)&&(n[o]=e[o]);return n},P=(e,t)=>()=>(e&&(t=e(e=0)),t),He=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s2=(e,t)=>{for(var n in t)dl(e,n,{get:t[n],enumerable:!0})},u2=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dq(t))!Tg.call(e,i)&&i!==n&&dl(e,i,{get:()=>t[i],enumerable:!(o=uq(t,i))||o.enumerable});return e},$=(e,t,n)=>(n=e!=null?lq(fq(e)):{},u2(t||!e||!e.__esModule?dl(n,"default",{value:e,enumerable:!0}):n,e)),hq=e=>u2(dl({},"__esModule",{value:!0}),e),et=(e,t,n)=>(Dg(e,typeof t!="symbol"?t+"":t,n),n),F=(e,t)=>i2(dl(e,"raw",{value:i2(e.slice())})),Vt=(e,t,n)=>new Promise((o,i)=>{var l=d=>{try{u(n.next(d))}catch(f){i(f)}},s=d=>{try{u(n.throw(d))}catch(f){i(f)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,s);u((n=n.apply(e,t)).next())}),mq=function(e,t){this[0]=e,this[1]=t},gq=e=>{var t=e[zg("asyncIterator")],n=!1,o,i={};return t==null?(t=e[zg("iterator")](),o=l=>i[l]=s=>t[l](s)):(t=t.call(e),o=l=>i[l]=s=>{if(n){if(n=!1,l==="throw")throw s;return s}return n=!0,{done:!1,value:new mq(new Promise(u=>{var d=t[l](s);if(!(d instanceof Object))throw TypeError("Object expected");u(d)}),1)}}),i[zg("iterator")]=()=>i,o("next"),"throw"in t?o("throw"):i.throw=l=>{throw l},"return"in t&&o("return"),i};function vq(e){c2=e}function de(){return c2}var c2,Ne=P(()=>{});function Dd(e,t,n=[]){if(typeof e=="object"&&e){if(d2(e)||f2(e)){t(e,n);return}for(let[o,i]of Object.entries(e))Dd(i,t,[...n,o])}else{if(e==null)return;t(e,n)}}var d2,f2,Ag=P(()=>{d2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",f2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function Yo(e){return t=>typeof t=="object"&&!!t&&t.type===e}var Bg,Ad,p2,sr,h2,m2,Ng,Fg,Qa=P(()=>{Bg=Yo("Theatre_Project"),Ad=Yo("Theatre_Sheet"),p2=Yo("Theatre_SheetTemplate"),sr=Yo("Theatre_SheetObject"),h2=Yo("Theatre_Sequence"),m2=Yo("Theatre_SheetObjectTemplate"),Ng=Yo("Theatre_Sheet_PublicAPI"),Fg=Yo("Theatre_SheetObject_PublicAPI")}),g2,Rg,v2=P(()=>{g2=typeof Wn=="object"&&Wn&&Wn.Object===Object&&Wn,Rg=g2}),y2,b2,$n,ur=P(()=>{v2(),y2=typeof self=="object"&&self&&self.Object===Object&&self,b2=Rg||y2||Function("return this")(),$n=b2}),k2,cr,Ys=P(()=>{ur(),k2=$n.Symbol,cr=k2});function yq(e){var t=w2.call(e,fl),n=e[fl];try{e[fl]=void 0;var o=!0}catch{}var i=x2.call(e);return o&&(t?e[fl]=n:delete e[fl]),i}var Mg,w2,x2,fl,S2,bq=P(()=>{Ys(),Mg=Object.prototype,w2=Mg.hasOwnProperty,x2=Mg.toString,fl=cr?cr.toStringTag:void 0,S2=yq});function kq(e){return _2.call(e)}var E2,_2,P2,wq=P(()=>{E2=Object.prototype,_2=E2.toString,P2=kq});function xq(e){return e==null?e===void 0?I2:C2:Ug&&Ug in Object(e)?S2(e):P2(e)}var C2,I2,Ug,Qo,pl=P(()=>{Ys(),bq(),wq(),C2="[object Null]",I2="[object Undefined]",Ug=cr?cr.toStringTag:void 0,Qo=xq});function Sq(e){return e!=null&&typeof e=="object"}var Jo,hl=P(()=>{Jo=Sq});function Eq(e){return typeof e=="symbol"||Jo(e)&&Qo(e)==j2}var j2,Ja,Qs=P(()=>{pl(),hl(),j2="[object Symbol]",Ja=Eq});function _q(e,t){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}var ml,Vg=P(()=>{ml=_q}),O2,zn,dr=P(()=>{O2=Array.isArray,zn=O2});function T2(e){if(typeof e=="string")return e;if(zn(e))return ml(e,T2)+"";if(Ja(e))return Kg?Kg.call(e):"";var t=e+"";return t=="0"&&1/e==-z2?"-0":t}var z2,Hg,Kg,D2,Pq=P(()=>{Ys(),Vg(),dr(),Qs(),z2=1/0,Hg=cr?cr.prototype:void 0,Kg=Hg?Hg.toString:void 0,D2=T2});function Cq(e){for(var t=e.length;t--&&A2.test(e.charAt(t)););return t}var A2,B2,Iq=P(()=>{A2=/\s/,B2=Cq});function jq(e){return e&&e.slice(0,B2(e)+1).replace(N2,"")}var N2,F2,Oq=P(()=>{Iq(),N2=/^\s+/,F2=jq});function Tq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ur,ei=P(()=>{Ur=Tq});function zq(e){if(typeof e=="number")return e;if(Ja(e))return Wg;if(Ur(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ur(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=F2(e);var n=M2.test(e);return n||U2.test(e)?V2(e.slice(2),n?2:8):R2.test(e)?Wg:+e}var Wg,R2,M2,U2,V2,yo,Js=P(()=>{Oq(),ei(),Qs(),Wg=NaN,R2=/^[-+]0x[0-9a-f]+$/i,M2=/^0b[01]+$/i,U2=/^0o[0-7]+$/i,V2=parseInt,yo=zq});function Dq(e){if(!e)return e===0?e:0;if(e=yo(e),e===qg||e===-qg){var t=e<0?-1:1;return t*H2}return e===e?e:0}var qg,H2,Bd,K2=P(()=>{Js(),qg=1/0,H2=17976931348623157e292,Bd=Dq});function Aq(e){var t=Bd(e),n=t%1;return t===t?n?t-n:t:0}var eu,Nd=P(()=>{K2(),eu=Aq});function Bq(e){return e}var tu,Fd=P(()=>{tu=Bq});function Nq(e){if(!Ur(e))return!1;var t=Qo(e);return t==q2||t==$2||t==W2||t==L2}var W2,q2,$2,L2,$g,Z2=P(()=>{pl(),ei(),W2="[object AsyncFunction]",q2="[object Function]",$2="[object GeneratorFunction]",L2="[object Proxy]",$g=Nq}),G2,Rd,Fq=P(()=>{ur(),G2=$n["__core-js_shared__"],Rd=G2});function Rq(e){return!!Lg&&Lg in e}var Lg,X2,Mq=P(()=>{Fq(),Lg=function(){var e=/[^.]+$/.exec(Rd&&Rd.keys&&Rd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X2=Rq});function Uq(e){if(e!=null){try{return Q2.call(e)}catch{}try{return e+""}catch{}}return""}var Y2,Q2,ea,J2=P(()=>{Y2=Function.prototype,Q2=Y2.toString,ea=Uq});function Vq(e){if(!Ur(e)||X2(e))return!1;var t=$g(e)?iS:tS;return t.test(ea(e))}var eS,tS,nS,rS,oS,aS,iS,lS,Hq=P(()=>{Z2(),Mq(),ei(),J2(),eS=/[\\^$.*+?()[\]{}|]/g,tS=/^\[object .+?Constructor\]$/,nS=Function.prototype,rS=Object.prototype,oS=nS.toString,aS=rS.hasOwnProperty,iS=RegExp("^"+oS.call(aS).replace(eS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lS=Vq});function Kq(e,t){return e==null?void 0:e[t]}var sS,Wq=P(()=>{sS=Kq});function qq(e,t){var n=sS(e,t);return lS(n)?n:void 0}var ta,ti=P(()=>{Hq(),Wq(),ta=qq}),uS,Md,$q=P(()=>{ti(),ur(),uS=ta($n,"WeakMap"),Md=uS});function Lq(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var cS,Zq=P(()=>{cS=Lq});function Gq(){}var dS,Xq=P(()=>{dS=Gq});function Yq(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}var fS,Qq=P(()=>{fS=Yq});function Jq(e){var t=0,n=0;return function(){var o=mS(),i=hS-(o-n);if(n=o,i>0){if(++t>=pS)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pS,hS,mS,gS,e$=P(()=>{pS=800,hS=16,mS=Date.now,gS=Jq});function t$(e){return function(){return e}}var vS,n$=P(()=>{vS=t$}),yS,nu,bS=P(()=>{ti(),yS=function(){try{var e=ta(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nu=yS}),kS,wS,r$=P(()=>{n$(),bS(),Fd(),kS=nu?function(e,t){return nu(e,"toString",{configurable:!0,enumerable:!1,value:vS(t),writable:!0})}:tu,wS=kS}),xS,SS,o$=P(()=>{r$(),e$(),xS=gS(wS),SS=xS});function a$(e,t,n,o){for(var i=e.length,l=n+(o?1:-1);o?l--:++l<i;)if(t(e[l],l,e))return l;return-1}var Ud,Zg=P(()=>{Ud=a$});function i$(e){return e!==e}var ES,l$=P(()=>{ES=i$});function s$(e,t,n){for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}var _S,u$=P(()=>{_S=s$});function c$(e,t,n){return t===t?_S(e,t,n):Ud(e,ES,n)}var Gg,PS=P(()=>{Zg(),l$(),u$(),Gg=c$});function d$(e,t){var n=e==null?0:e.length;return!!n&&Gg(e,t,0)>-1}var CS,f$=P(()=>{PS(),CS=d$});function p$(e,t){var n=typeof e;return t=t??IS,!!t&&(n=="number"||n!="symbol"&&jS.test(e))&&e>-1&&e%1==0&&e<t}var IS,jS,ru,Vd=P(()=>{IS=9007199254740991,jS=/^(?:0|[1-9]\d*)$/,ru=p$});function h$(e,t,n){t=="__proto__"&&nu?nu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Hd,Xg=P(()=>{bS(),Hd=h$});function m$(e,t){return e===t||e!==e&&t!==t}var ou,Kd=P(()=>{ou=m$});function g$(e,t,n){var o=e[t];(!(TS.call(e,t)&&ou(o,n))||n===void 0&&!(t in e))&&Hd(e,t,n)}var OS,TS,zS,v$=P(()=>{Xg(),Kd(),OS=Object.prototype,TS=OS.hasOwnProperty,zS=g$});function y$(e,t,n){return t=Yg(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=Yg(o.length-t,0),s=Array(l);++i<l;)s[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),cS(e,this,u)}}var Yg,DS,b$=P(()=>{Zq(),Yg=Math.max,DS=y$});function k$(e,t){return SS(DS(e,t,tu),e+"")}var Qg,AS=P(()=>{Fd(),b$(),o$(),Qg=k$});function w$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=BS}var BS,Wd,Jg=P(()=>{BS=9007199254740991,Wd=w$});function x$(e){return e!=null&&Wd(e.length)&&!$g(e)}var au,qd=P(()=>{Z2(),Jg(),au=x$});function S$(e,t,n){if(!Ur(n))return!1;var o=typeof t;return(o=="number"?au(n)&&ru(t,n.length):o=="string"&&t in n)?ou(n[t],e):!1}var e0,E$=P(()=>{Kd(),qd(),Vd(),ei(),e0=S$});function _$(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||NS;return e===n}var NS,FS,P$=P(()=>{NS=Object.prototype,FS=_$});function C$(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var RS,I$=P(()=>{RS=C$});function j$(e){return Jo(e)&&Qo(e)==MS}var MS,t0,O$=P(()=>{pl(),hl(),MS="[object Arguments]",t0=j$}),n0,US,VS,HS,$d,r0=P(()=>{O$(),hl(),n0=Object.prototype,US=n0.hasOwnProperty,VS=n0.propertyIsEnumerable,HS=t0(function(){return arguments}())?t0:function(e){return Jo(e)&&US.call(e,"callee")&&!VS.call(e,"callee")},$d=HS});function T$(){return!1}var KS,z$=P(()=>{KS=T$}),o0,a0,WS,i0,qS,$S,Ld,LS=P(()=>{ur(),z$(),o0=cl&&!cl.nodeType&&cl,a0=o0&&!0&&Mr&&!Mr.nodeType&&Mr,WS=a0&&a0.exports===o0,i0=WS?$n.Buffer:void 0,qS=i0?i0.isBuffer:void 0,$S=qS||KS,Ld=$S});function D$(e){return Jo(e)&&Wd(e.length)&&!!dt[Qo(e)]}var ZS,GS,XS,YS,QS,JS,eE,tE,nE,rE,oE,aE,iE,lE,sE,uE,cE,dE,fE,pE,hE,mE,gE,vE,dt,yE,A$=P(()=>{pl(),Jg(),hl(),ZS="[object Arguments]",GS="[object Array]",XS="[object Boolean]",YS="[object Date]",QS="[object Error]",JS="[object Function]",eE="[object Map]",tE="[object Number]",nE="[object Object]",rE="[object RegExp]",oE="[object Set]",aE="[object String]",iE="[object WeakMap]",lE="[object ArrayBuffer]",sE="[object DataView]",uE="[object Float32Array]",cE="[object Float64Array]",dE="[object Int8Array]",fE="[object Int16Array]",pE="[object Int32Array]",hE="[object Uint8Array]",mE="[object Uint8ClampedArray]",gE="[object Uint16Array]",vE="[object Uint32Array]",dt={},dt[uE]=dt[cE]=dt[dE]=dt[fE]=dt[pE]=dt[hE]=dt[mE]=dt[gE]=dt[vE]=!0,dt[ZS]=dt[GS]=dt[lE]=dt[XS]=dt[sE]=dt[YS]=dt[QS]=dt[JS]=dt[eE]=dt[tE]=dt[nE]=dt[rE]=dt[oE]=dt[aE]=dt[iE]=!1,yE=D$});function B$(e){return function(t){return e(t)}}var Zd,l0=P(()=>{Zd=B$}),s0,gl,bE,Gd,kE,u0,N$=P(()=>{v2(),s0=cl&&!cl.nodeType&&cl,gl=s0&&!0&&Mr&&!Mr.nodeType&&Mr,bE=gl&&gl.exports===s0,Gd=bE&&Rg.process,kE=function(){try{var e=gl&&gl.require&&gl.require("util").types;return e||Gd&&Gd.binding&&Gd.binding("util")}catch{}}(),u0=kE}),c0,wE,d0,xE=P(()=>{A$(),l0(),N$(),c0=u0&&u0.isTypedArray,wE=c0?Zd(c0):yE,d0=wE});function F$(e,t){var n=zn(e),o=!n&&$d(e),i=!n&&!o&&Ld(e),l=!n&&!o&&!i&&d0(e),s=n||o||i||l,u=s?RS(e.length,String):[],d=u.length;for(var f in e)(t||EE.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ru(f,d)))&&u.push(f);return u}var SE,EE,_E,R$=P(()=>{I$(),r0(),dr(),LS(),Vd(),xE(),SE=Object.prototype,EE=SE.hasOwnProperty,_E=F$});function M$(e,t){return function(n){return e(t(n))}}var f0,PE=P(()=>{f0=M$}),CE,IE,U$=P(()=>{PE(),CE=f0(Object.keys,Object),IE=CE});function V$(e){if(!FS(e))return IE(e);var t=[];for(var n in Object(e))OE.call(e,n)&&n!="constructor"&&t.push(n);return t}var jE,OE,TE,H$=P(()=>{P$(),U$(),jE=Object.prototype,OE=jE.hasOwnProperty,TE=V$});function K$(e){return au(e)?_E(e):TE(e)}var Xd,p0=P(()=>{R$(),H$(),qd(),Xd=K$});function W$(e,t){if(zn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ja(e)?!0:DE.test(e)||!zE.test(e)||t!=null&&e in Object(t)}var zE,DE,Yd,h0=P(()=>{dr(),Qs(),zE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DE=/^\w*$/,Yd=W$}),AE,vl,Qd=P(()=>{ti(),AE=ta(Object,"create"),vl=AE});function q$(){this.__data__=vl?vl(null):{},this.size=0}var BE,$$=P(()=>{Qd(),BE=q$});function L$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NE,Z$=P(()=>{NE=L$});function G$(e){var t=this.__data__;if(vl){var n=t[e];return n===FE?void 0:n}return ME.call(t,e)?t[e]:void 0}var FE,RE,ME,UE,X$=P(()=>{Qd(),FE="__lodash_hash_undefined__",RE=Object.prototype,ME=RE.hasOwnProperty,UE=G$});function Y$(e){var t=this.__data__;return vl?t[e]!==void 0:HE.call(t,e)}var VE,HE,KE,Q$=P(()=>{Qd(),VE=Object.prototype,HE=VE.hasOwnProperty,KE=Y$});function J$(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vl&&t===void 0?WE:t,this}var WE,qE,eL=P(()=>{Qd(),WE="__lodash_hash_undefined__",qE=J$});function yl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var m0,tL=P(()=>{$$(),Z$(),X$(),Q$(),eL(),yl.prototype.clear=BE,yl.prototype.delete=NE,yl.prototype.get=UE,yl.prototype.has=KE,yl.prototype.set=qE,m0=yl});function nL(){this.__data__=[],this.size=0}var $E,rL=P(()=>{$E=nL});function oL(e,t){for(var n=e.length;n--;)if(ou(e[n][0],t))return n;return-1}var iu,Jd=P(()=>{Kd(),iu=oL});function aL(e){var t=this.__data__,n=iu(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():ZE.call(t,n,1),--this.size,!0}var LE,ZE,GE,iL=P(()=>{Jd(),LE=Array.prototype,ZE=LE.splice,GE=aL});function lL(e){var t=this.__data__,n=iu(t,e);return n<0?void 0:t[n][1]}var XE,sL=P(()=>{Jd(),XE=lL});function uL(e){return iu(this.__data__,e)>-1}var YE,cL=P(()=>{Jd(),YE=uL});function dL(e,t){var n=this.__data__,o=iu(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var QE,fL=P(()=>{Jd(),QE=dL});function bl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var lu,ef=P(()=>{rL(),iL(),sL(),cL(),fL(),bl.prototype.clear=$E,bl.prototype.delete=GE,bl.prototype.get=XE,bl.prototype.has=YE,bl.prototype.set=QE,lu=bl}),JE,kl,g0=P(()=>{ti(),ur(),JE=ta($n,"Map"),kl=JE});function pL(){this.size=0,this.__data__={hash:new m0,map:new(kl||lu),string:new m0}}var e_,hL=P(()=>{tL(),ef(),g0(),e_=pL});function mL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var t_,gL=P(()=>{t_=mL});function vL(e,t){var n=e.__data__;return t_(t)?n[typeof t=="string"?"string":"hash"]:n.map}var su,tf=P(()=>{gL(),su=vL});function yL(e){var t=su(this,e).delete(e);return this.size-=t?1:0,t}var n_,bL=P(()=>{tf(),n_=yL});function kL(e){return su(this,e).get(e)}var r_,wL=P(()=>{tf(),r_=kL});function xL(e){return su(this,e).has(e)}var o_,SL=P(()=>{tf(),o_=xL});function EL(e,t){var n=su(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var a_,_L=P(()=>{tf(),a_=EL});function wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var uu,v0=P(()=>{hL(),bL(),wL(),SL(),_L(),wl.prototype.clear=e_,wl.prototype.delete=n_,wl.prototype.get=r_,wl.prototype.has=o_,wl.prototype.set=a_,uu=wl});function y0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(i_);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],l=n.cache;if(l.has(i))return l.get(i);var s=e.apply(this,o);return n.cache=l.set(i,s)||l,s};return n.cache=new(y0.Cache||uu),n}var i_,b0,l_=P(()=>{v0(),i_="Expected a function",y0.Cache=uu,b0=y0});function PL(e){var t=b0(e,function(o){return n.size===s_&&n.clear(),o}),n=t.cache;return t}var s_,u_,CL=P(()=>{l_(),s_=500,u_=PL}),c_,d_,f_,p_,IL=P(()=>{CL(),c_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d_=/\\(\\)?/g,f_=u_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(c_,function(n,o,i,l){t.push(i?l.replace(d_,"$1"):o||n)}),t}),p_=f_});function jL(e){return e==null?"":D2(e)}var nf,h_=P(()=>{Pq(),nf=jL});function OL(e,t){return zn(e)?e:Yd(e,t)?[e]:p_(nf(e))}var rf,k0=P(()=>{dr(),h0(),IL(),h_(),rf=OL});function TL(e){if(typeof e=="string"||Ja(e))return e;var t=e+"";return t=="0"&&1/e==-m_?"-0":t}var m_,xl,cu=P(()=>{Qs(),m_=1/0,xl=TL});function zL(e,t){t=rf(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[xl(t[n++])];return n&&n==o?e:void 0}var of,w0=P(()=>{k0(),cu(),of=zL});function DL(e,t,n){var o=e==null?void 0:of(e,t);return o===void 0?n:o}var ni,du=P(()=>{w0(),ni=DL});function AL(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}var x0,g_=P(()=>{x0=AL});function BL(e){return zn(e)||$d(e)||!!(S0&&e&&e[S0])}var S0,v_,NL=P(()=>{Ys(),r0(),dr(),S0=cr?cr.isConcatSpreadable:void 0,v_=BL});function y_(e,t,n,o,i){var l=-1,s=e.length;for(n||(n=v_),i||(i=[]);++l<s;){var u=e[l];t>0&&n(u)?t>1?y_(u,t-1,n,o,i):x0(i,u):o||(i[i.length]=u)}return i}var b_,FL=P(()=>{g_(),NL(),b_=y_}),k_,w_,RL=P(()=>{PE(),k_=f0(Object.getPrototypeOf,Object),w_=k_});function ML(e){if(!Jo(e)||Qo(e)!=x_)return!1;var t=w_(e);if(t===null)return!0;var n=__.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&E0.call(n)==P_}var x_,S_,E_,E0,__,P_,af,C_=P(()=>{pl(),RL(),hl(),x_="[object Object]",S_=Function.prototype,E_=Object.prototype,E0=S_.toString,__=E_.hasOwnProperty,P_=E0.call(Object),af=ML});function UL(e){var t=Math[e];return function(n,o){if(n=yo(n),o=o==null?0:j_(eu(o),292),o&&I_(n)){var i=(nf(n)+"e").split("e"),l=t(i[0]+"e"+(+i[1]+o));return i=(nf(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-o))}return t(n)}}var I_,j_,O_,VL=P(()=>{ur(),Nd(),Js(),h_(),I_=$n.isFinite,j_=Math.min,O_=UL});function HL(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var T_,KL=P(()=>{T_=HL});function WL(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=yo(n),n=n===n?n:0),t!==void 0&&(t=yo(t),t=t===t?t:0),T_(yo(e),t,n)}var kt,lf=P(()=>{KL(),Js(),kt=WL});function qL(){this.__data__=new lu,this.size=0}var z_,$L=P(()=>{ef(),z_=qL});function LL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var D_,ZL=P(()=>{D_=LL});function GL(e){return this.__data__.get(e)}var A_,XL=P(()=>{A_=GL});function YL(e){return this.__data__.has(e)}var B_,QL=P(()=>{B_=YL});function JL(e,t){var n=this.__data__;if(n instanceof lu){var o=n.__data__;if(!kl||o.length<N_-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new uu(o)}return n.set(e,t),this.size=n.size,this}var N_,F_,eZ=P(()=>{ef(),g0(),v0(),N_=200,F_=JL});function Sl(e){var t=this.__data__=new lu(e);this.size=t.size}var fu,R_=P(()=>{ef(),$L(),ZL(),XL(),QL(),eZ(),Sl.prototype.clear=z_,Sl.prototype.delete=D_,Sl.prototype.get=A_,Sl.prototype.has=B_,Sl.prototype.set=F_,fu=Sl});function tZ(e,t){for(var n=-1,o=e==null?0:e.length,i=0,l=[];++n<o;){var s=e[n];t(s,n,e)&&(l[i++]=s)}return l}var M_,nZ=P(()=>{M_=tZ});function rZ(){return[]}var U_,oZ=P(()=>{U_=rZ}),V_,H_,_0,K_,W_,aZ=P(()=>{nZ(),oZ(),V_=Object.prototype,H_=V_.propertyIsEnumerable,_0=Object.getOwnPropertySymbols,K_=_0?function(e){return e==null?[]:(e=Object(e),M_(_0(e),function(t){return H_.call(e,t)}))}:U_,W_=K_});function iZ(e,t,n){var o=t(e);return zn(e)?o:x0(o,n(e))}var q_,lZ=P(()=>{g_(),dr(),q_=iZ});function sZ(e){return q_(e,Xd,W_)}var P0,uZ=P(()=>{lZ(),aZ(),p0(),P0=sZ}),$_,sf,cZ=P(()=>{ti(),ur(),$_=ta($n,"DataView"),sf=$_}),L_,uf,dZ=P(()=>{ti(),ur(),L_=ta($n,"Promise"),uf=L_}),Z_,ri,G_=P(()=>{ti(),ur(),Z_=ta($n,"Set"),ri=Z_}),C0,X_,I0,j0,O0,T0,Y_,Q_,J_,eP,tP,na,z0,fZ=P(()=>{cZ(),g0(),dZ(),G_(),$q(),pl(),J2(),C0="[object Map]",X_="[object Object]",I0="[object Promise]",j0="[object Set]",O0="[object WeakMap]",T0="[object DataView]",Y_=ea(sf),Q_=ea(kl),J_=ea(uf),eP=ea(ri),tP=ea(Md),na=Qo,(sf&&na(new sf(new ArrayBuffer(1)))!=T0||kl&&na(new kl)!=C0||uf&&na(uf.resolve())!=I0||ri&&na(new ri)!=j0||Md&&na(new Md)!=O0)&&(na=function(e){var t=Qo(e),n=t==X_?e.constructor:void 0,o=n?ea(n):"";if(o)switch(o){case Y_:return T0;case Q_:return C0;case J_:return I0;case eP:return j0;case tP:return O0}return t}),z0=na}),nP,D0,pZ=P(()=>{ur(),nP=$n.Uint8Array,D0=nP});function hZ(e){return this.__data__.set(e,rP),this}var rP,oP,mZ=P(()=>{rP="__lodash_hash_undefined__",oP=hZ});function gZ(e){return this.__data__.has(e)}var aP,vZ=P(()=>{aP=gZ});function cf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new uu;++t<n;)this.add(e[t])}var A0,iP=P(()=>{v0(),mZ(),vZ(),cf.prototype.add=cf.prototype.push=oP,cf.prototype.has=aP,A0=cf});function yZ(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var lP,bZ=P(()=>{lP=yZ});function kZ(e,t){return e.has(t)}var B0,sP=P(()=>{B0=kZ});function wZ(e,t,n,o,i,l){var s=n&uP,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var f=l.get(e),m=l.get(t);if(f&&m)return f==t&&m==e;var v=-1,g=!0,h=n&cP?new A0:void 0;for(l.set(e,t),l.set(t,e);++v<u;){var b=e[v],y=t[v];if(o)var k=s?o(y,b,v,t,e,l):o(b,y,v,e,t,l);if(k!==void 0){if(k)continue;g=!1;break}if(h){if(!lP(t,function(x,S){if(!B0(h,S)&&(b===x||i(b,x,n,o,l)))return h.push(S)})){g=!1;break}}else if(!(b===y||i(b,y,n,o,l))){g=!1;break}}return l.delete(e),l.delete(t),g}var uP,cP,N0,dP=P(()=>{iP(),bZ(),sP(),uP=1,cP=2,N0=wZ});function xZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o,i){n[++t]=[i,o]}),n}var fP,SZ=P(()=>{fP=xZ});function EZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var df,F0=P(()=>{df=EZ});function _Z(e,t,n,o,i,l,s){switch(n){case _P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case EP:return!(e.byteLength!=t.byteLength||!l(new D0(e),new D0(t)));case mP:case gP:case bP:return ou(+e,+t);case vP:return e.name==t.name&&e.message==t.message;case kP:case xP:return e==t+"";case yP:var u=fP;case wP:var d=o&pP;if(u||(u=df),e.size!=t.size&&!d)return!1;var f=s.get(e);if(f)return f==t;o|=hP,s.set(e,t);var m=N0(u(e),u(t),o,i,l,s);return s.delete(e),m;case SP:if(ff)return ff.call(e)==ff.call(t)}return!1}var pP,hP,mP,gP,vP,yP,bP,kP,wP,xP,SP,EP,_P,R0,ff,PP,PZ=P(()=>{Ys(),pZ(),Kd(),dP(),SZ(),F0(),pP=1,hP=2,mP="[object Boolean]",gP="[object Date]",vP="[object Error]",yP="[object Map]",bP="[object Number]",kP="[object RegExp]",wP="[object Set]",xP="[object String]",SP="[object Symbol]",EP="[object ArrayBuffer]",_P="[object DataView]",R0=cr?cr.prototype:void 0,ff=R0?R0.valueOf:void 0,PP=_Z});function CZ(e,t,n,o,i,l){var s=n&CP,u=P0(e),d=u.length,f=P0(t),m=f.length;if(d!=m&&!s)return!1;for(var v=d;v--;){var g=u[v];if(!(s?g in t:jP.call(t,g)))return!1}var h=l.get(e),b=l.get(t);if(h&&b)return h==t&&b==e;var y=!0;l.set(e,t),l.set(t,e);for(var k=s;++v<d;){g=u[v];var x=e[g],S=t[g];if(o)var _=s?o(S,x,g,t,e,l):o(x,S,g,e,t,l);if(!(_===void 0?x===S||i(x,S,n,o,l):_)){y=!1;break}k||(k=g=="constructor")}if(y&&!k){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(y=!1)}return l.delete(e),l.delete(t),y}var CP,IP,jP,OP,IZ=P(()=>{uZ(),CP=1,IP=Object.prototype,jP=IP.hasOwnProperty,OP=CZ});function jZ(e,t,n,o,i,l){var s=zn(e),u=zn(t),d=s?U0:z0(e),f=u?U0:z0(t);d=d==M0?pu:d,f=f==M0?pu:f;var m=d==pu,v=f==pu,g=d==f;if(g&&Ld(e)){if(!Ld(t))return!1;s=!0,m=!1}if(g&&!m)return l||(l=new fu),s||d0(e)?N0(e,t,n,o,i,l):PP(e,t,d,n,o,i,l);if(!(n&TP)){var h=m&&V0.call(e,"__wrapped__"),b=v&&V0.call(t,"__wrapped__");if(h||b){var y=h?e.value():e,k=b?t.value():t;return l||(l=new fu),i(y,k,n,o,l)}}return g?(l||(l=new fu),OP(e,t,n,o,i,l)):!1}var TP,M0,U0,pu,zP,V0,DP,OZ=P(()=>{R_(),dP(),PZ(),IZ(),fZ(),dr(),LS(),xE(),TP=1,M0="[object Arguments]",U0="[object Array]",pu="[object Object]",zP=Object.prototype,V0=zP.hasOwnProperty,DP=jZ});function AP(e,t,n,o,i){return e===t?!0:e==null||t==null||!Jo(e)&&!Jo(t)?e!==e&&t!==t:DP(e,t,n,o,AP,i)}var H0,BP=P(()=>{OZ(),hl(),H0=AP});function TZ(e,t,n,o){var i=n.length,l=i,s=!o;if(e==null)return!l;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<l;){u=n[i];var d=u[0],f=e[d],m=u[1];if(s&&u[2]){if(f===void 0&&!(d in e))return!1}else{var v=new fu;if(o)var g=o(f,m,d,e,t,v);if(!(g===void 0?H0(m,f,NP|FP,o,v):g))return!1}}return!0}var NP,FP,RP,zZ=P(()=>{R_(),BP(),NP=1,FP=2,RP=TZ});function DZ(e){return e===e&&!Ur(e)}var K0,MP=P(()=>{ei(),K0=DZ});function AZ(e){for(var t=Xd(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,K0(i)]}return t}var UP,BZ=P(()=>{MP(),p0(),UP=AZ});function NZ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var W0,VP=P(()=>{W0=NZ});function FZ(e){var t=UP(e);return t.length==1&&t[0][2]?W0(t[0][0],t[0][1]):function(n){return n===e||RP(n,e,t)}}var HP,RZ=P(()=>{zZ(),BZ(),VP(),HP=FZ});function MZ(e,t){return e!=null&&t in Object(e)}var KP,UZ=P(()=>{KP=MZ});function VZ(e,t,n){t=rf(t,e);for(var o=-1,i=t.length,l=!1;++o<i;){var s=xl(t[o]);if(!(l=e!=null&&n(e,s)))break;e=e[s]}return l||++o!=i?l:(i=e==null?0:e.length,!!i&&Wd(i)&&ru(s,i)&&(zn(e)||$d(e)))}var WP,HZ=P(()=>{k0(),r0(),dr(),Vd(),Jg(),cu(),WP=VZ});function KZ(e,t){return e!=null&&WP(e,t,KP)}var qP,WZ=P(()=>{UZ(),HZ(),qP=KZ});function qZ(e,t){return Yd(e)&&K0(t)?W0(xl(e),t):function(n){var o=ni(n,e);return o===void 0&&o===t?qP(n,e):H0(t,o,$P|LP)}}var $P,LP,ZP,$Z=P(()=>{BP(),du(),WZ(),h0(),MP(),VP(),cu(),$P=1,LP=2,ZP=qZ});function LZ(e){return function(t){return t==null?void 0:t[e]}}var GP,ZZ=P(()=>{GP=LZ});function GZ(e){return function(t){return of(t,e)}}var XP,XZ=P(()=>{w0(),XP=GZ});function YZ(e){return Yd(e)?GP(xl(e)):XP(e)}var YP,QZ=P(()=>{ZZ(),XZ(),h0(),cu(),YP=YZ});function JZ(e){return typeof e=="function"?e:e==null?tu:typeof e=="object"?zn(e)?ZP(e[0],e[1]):HP(e):YP(e)}var El,hu=P(()=>{RZ(),$Z(),Fd(),dr(),QZ(),El=JZ});function eG(e,t,n,o){for(var i=-1,l=e==null?0:e.length;++i<l;){var s=e[i];t(o,s,n(s),e)}return o}var QP,tG=P(()=>{QP=eG});function nG(e){return function(t,n,o){for(var i=-1,l=Object(t),s=o(t),u=s.length;u--;){var d=s[e?u:++i];if(n(l[d],d,l)===!1)break}return t}}var JP,rG=P(()=>{JP=nG}),e5,t5,oG=P(()=>{rG(),e5=JP(),t5=e5});function aG(e,t){return e&&t5(e,t,Xd)}var q0,n5=P(()=>{oG(),p0(),q0=aG});function iG(e,t){return function(n,o){if(n==null)return n;if(!au(n))return e(n,o);for(var i=n.length,l=t?i:-1,s=Object(n);(t?l--:++l<i)&&o(s[l],l,s)!==!1;);return n}}var r5,lG=P(()=>{qd(),r5=iG}),o5,$0,a5=P(()=>{n5(),lG(),o5=r5(q0),$0=o5});function sG(e,t,n,o){return $0(e,function(i,l,s){t(o,i,n(i),s)}),o}var i5,uG=P(()=>{a5(),i5=sG});function cG(e,t){return function(n,o){var i=zn(n)?QP:i5,l=t?t():{};return i(n,e,El(o,2),l)}}var l5,dG=P(()=>{tG(),uG(),hu(),dr(),l5=cG}),s5,pf,fG=P(()=>{ur(),s5=function(){return $n.Date.now()},pf=s5});function pG(e,t,n){var o,i,l,s,u,d,f=0,m=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(u5);t=yo(t)||0,Ur(n)&&(m=!!n.leading,v="maxWait"in n,l=v?c5(yo(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g);function h(z){var V=o,W=i;return o=i=void 0,f=z,s=e.apply(W,V),s}function b(z){return f=z,u=setTimeout(x,t),m?h(z):s}function y(z){var V=z-d,W=z-f,B=t-V;return v?d5(B,l-W):B}function k(z){var V=z-d,W=z-f;return d===void 0||V>=t||V<0||v&&W>=l}function x(){var z=pf();if(k(z))return S(z);u=setTimeout(x,y(z))}function S(z){return u=void 0,g&&o?h(z):(o=i=void 0,s)}function _(){u!==void 0&&clearTimeout(u),f=0,o=d=i=u=void 0}function O(){return u===void 0?s:S(pf())}function j(){var z=pf(),V=k(z);if(o=arguments,i=this,d=z,V){if(u===void 0)return b(d);if(v)return clearTimeout(u),u=setTimeout(x,t),h(d)}return u===void 0&&(u=setTimeout(x,t)),s}return j.cancel=_,j.flush=O,j}var u5,c5,d5,L0,f5=P(()=>{ei(),fG(),Js(),u5="Expected a function",c5=Math.max,d5=Math.min,L0=pG});function hG(e,t,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}var p5,mG=P(()=>{p5=hG});function gG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oi,hf=P(()=>{oi=gG});function vG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=n==null?0:eu(n);return i<0&&(i=h5(o+i,0)),Ud(e,El(t,3),i)}var h5,Z0,yG=P(()=>{Zg(),hu(),Nd(),h5=Math.max,Z0=vG});function bG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=o-1;return n!==void 0&&(i=eu(n),i=n<0?m5(o+i,0):g5(i,o-1)),Ud(e,El(t,3),i,!0)}var m5,g5,v5,kG=P(()=>{Zg(),hu(),Nd(),m5=Math.max,g5=Math.min,v5=bG});function wG(e,t){var n=-1,o=au(e)?Array(e.length):[];return $0(e,function(i,l,s){o[++n]=t(i,l,s)}),o}var y5,xG=P(()=>{a5(),qd(),y5=wG});function SG(e,t,n){return e>=k5(t,n)&&e<b5(t,n)}var b5,k5,w5,EG=P(()=>{b5=Math.max,k5=Math.min,w5=SG});function _G(e,t,n){return t=Bd(t),n===void 0?(n=t,t=0):n=Bd(n),e=yo(e),w5(e,t,n)}var G0,PG=P(()=>{EG(),K2(),Js(),G0=_G});function CG(e){return typeof e=="number"&&e==eu(e)}var X0,x5=P(()=>{Nd(),X0=CG}),S5,mu,IG=P(()=>{Xg(),dG(),S5=l5(function(e,t,n){Hd(e,n,t)}),mu=S5});function jG(e,t){var n={};return t=El(t,3),q0(e,function(o,i,l){Hd(n,i,t(o,i,l))}),n}var ai,E5=P(()=>{Xg(),n5(),hu(),ai=jG});function OG(e,t,n,o){if(!Ur(e))return e;t=rf(t,e);for(var i=-1,l=t.length,s=l-1,u=e;u!=null&&++i<l;){var d=xl(t[i]),f=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var m=u[d];f=o?o(m,d,u):void 0,f===void 0&&(f=Ur(m)?m:ru(t[i+1])?[]:{})}zS(u,d,f),u=u[d]}return e}var _5,TG=P(()=>{v$(),k0(),Vd(),ei(),cu(),_5=OG});function zG(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var P5,DG=P(()=>{P5=zG});function AG(e,t){if(e!==t){var n=e!==void 0,o=e===null,i=e===e,l=Ja(e),s=t!==void 0,u=t===null,d=t===t,f=Ja(t);if(!u&&!f&&!l&&e>t||l&&s&&d&&!u&&!f||o&&s&&d||!n&&d||!i)return 1;if(!o&&!l&&!f&&e<t||f&&n&&i&&!o&&!l||u&&n&&i||!s&&i||!d)return-1}return 0}var C5,BG=P(()=>{Qs(),C5=AG});function NG(e,t,n){for(var o=-1,i=e.criteria,l=t.criteria,s=i.length,u=n.length;++o<s;){var d=C5(i[o],l[o]);if(d){if(o>=u)return d;var f=n[o];return d*(f=="desc"?-1:1)}}return e.index-t.index}var I5,FG=P(()=>{BG(),I5=NG});function RG(e,t,n){t.length?t=ml(t,function(l){return zn(l)?function(s){return of(s,l.length===1?l[0]:l)}:l}):t=[tu];var o=-1;t=ml(t,Zd(El));var i=y5(e,function(l,s,u){var d=ml(t,function(f){return f(l)});return{criteria:d,index:++o,value:l}});return P5(i,function(l,s){return I5(l,s,n)})}var j5,MG=P(()=>{Vg(),w0(),hu(),xG(),DG(),l0(),FG(),Fd(),dr(),j5=RG});function UG(e,t,n,o){for(var i=n-1,l=e.length;++i<l;)if(o(e[i],t))return i;return-1}var O5,VG=P(()=>{O5=UG});function HG(e,t,n,o){var i=o?O5:Gg,l=-1,s=t.length,u=e;for(e===t&&(t=fS(t)),n&&(u=ml(e,Zd(n)));++l<s;)for(var d=0,f=t[l],m=n?n(f):f;(d=i(u,m,d,o))>-1;)u!==e&&Y0.call(u,d,1),Y0.call(e,d,1);return e}var T5,Y0,z5,KG=P(()=>{Vg(),PS(),VG(),l0(),Qq(),T5=Array.prototype,Y0=T5.splice,z5=HG});function WG(e,t){return e&&e.length&&t&&t.length?z5(e,t):e}var D5,qG=P(()=>{KG(),D5=WG}),A5,B5,$G=P(()=>{AS(),qG(),A5=Qg(D5),B5=A5}),N5,F5,LG=P(()=>{VL(),N5=O_("round"),F5=N5});function ZG(e,t,n){return e==null?e:_5(e,t,n)}var _l,Q0=P(()=>{TG(),_l=ZG}),R5,M5,GG=P(()=>{FL(),MG(),AS(),E$(),R5=Qg(function(e,t){if(e==null)return[];var n=t.length;return n>1&&e0(e,t[0],t[1])?t=[]:n>2&&e0(t[0],t[1],t[2])&&(t=[t[0]]),j5(e,b_(t,1),[])}),M5=R5}),U5,V5,H5,XG=P(()=>{G_(),Xq(),F0(),U5=1/0,V5=ri&&1/df(new ri([,-0]))[1]==U5?function(e){return new ri(e)}:dS,H5=V5});function YG(e,t,n){var o=-1,i=CS,l=e.length,s=!0,u=[],d=u;if(n)s=!1,i=p5;else if(l>=K5){var f=t?null:H5(e);if(f)return df(f);s=!1,i=B0,d=new A0}else d=t?[]:u;e:for(;++o<l;){var m=e[o],v=t?t(m):m;if(m=n||m!==0?m:0,s&&v===v){for(var g=d.length;g--;)if(d[g]===v)continue e;t&&d.push(v),u.push(m)}else i(d,v,n)||(d!==u&&d.push(v),u.push(m))}return u}var K5,W5,QG=P(()=>{iP(),f$(),mG(),sP(),XG(),F0(),K5=200,W5=YG});function JG(e){return e&&e.length?W5(e):[]}var ra,eX=P(()=>{QG(),ra=JG}),Ft=P(()=>{lf(),f5(),yG(),PG(),x5(),C_(),hf(),E5(),l_(),LG(),eX()}),tX=He((e,t)=>{var n;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Wn):o=>(n||(n=Promise.resolve())).then(o).catch(i=>setTimeout(()=>{throw i},0))}),nX=He(e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function h(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function x(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}x.prototype.isReactComponent={},x.prototype.setState=function(A,N){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,N,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=x.prototype;function _(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}var O=_.prototype=new S;O.constructor=_,y(O,x.prototype),O.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,V={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function B(A,N,oe){var le,ue={},te=null,Oe=null;if(N!=null)for(le in N.ref!==void 0&&(Oe=N.ref),N.key!==void 0&&(te=""+N.key),N)z.call(N,le)&&!W.hasOwnProperty(le)&&(ue[le]=N[le]);var me=arguments.length-2;if(me===1)ue.children=oe;else if(1<me){for(var Ie=Array(me),Ae=0;Ae<me;Ae++)Ie[Ae]=arguments[Ae+2];ue.children=Ie}if(A&&A.defaultProps)for(le in me=A.defaultProps,me)ue[le]===void 0&&(ue[le]=me[le]);return{$$typeof:t,type:A,key:te,ref:Oe,props:ue,_owner:V.current}}function Z(A,N){return{$$typeof:t,type:A.type,key:N,ref:A.ref,props:A.props,_owner:A._owner}}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function D(A){var N={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(oe){return N[oe]})}var G=/\/+/g;function C(A,N){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):N.toString(36)}function Q(A,N,oe,le,ue){var te=typeof A;(te==="undefined"||te==="boolean")&&(A=null);var Oe=!1;if(A===null)Oe=!0;else switch(te){case"string":case"number":Oe=!0;break;case"object":switch(A.$$typeof){case t:case n:Oe=!0}}if(Oe)return Oe=A,ue=ue(Oe),A=le===""?"."+C(Oe,0):le,j(ue)?(oe="",A!=null&&(oe=A.replace(G,"$&/")+"/"),Q(ue,N,oe,"",function(Ae){return Ae})):ue!=null&&(re(ue)&&(ue=Z(ue,oe+(!ue.key||Oe&&Oe.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+A)),N.push(ue)),1;if(Oe=0,le=le===""?".":le+":",j(A))for(var me=0;me<A.length;me++){te=A[me];var Ie=le+C(te,me);Oe+=Q(te,N,oe,Ie,ue)}else if(Ie=h(A),typeof Ie=="function")for(A=Ie.call(A),me=0;!(te=A.next()).done;)te=te.value,Ie=le+C(te,me++),Oe+=Q(te,N,oe,Ie,ue);else if(te==="object")throw N=String(A),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xe(A,N,oe){if(A==null)return A;var le=[],ue=0;return Q(A,le,"","",function(te){return N.call(oe,te,ue++)}),le}function q(A){if(A._status===-1){var N=A._result;N=N(),N.then(function(oe){(A._status===0||A._status===-1)&&(A._status=1,A._result=oe)},function(oe){(A._status===0||A._status===-1)&&(A._status=2,A._result=oe)}),A._status===-1&&(A._status=0,A._result=N)}if(A._status===1)return A._result.default;throw A._result}var K={current:null},ee={transition:null},ge={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:ee,ReactCurrentOwner:V};e.Children={map:xe,forEach:function(A,N,oe){xe(A,function(){N.apply(this,arguments)},oe)},count:function(A){var N=0;return xe(A,function(){N++}),N},toArray:function(A){return xe(A,function(N){return N})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},e.Component=x,e.Fragment=o,e.Profiler=l,e.PureComponent=_,e.StrictMode=i,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,e.cloneElement=function(A,N,oe){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le=y({},A.props),ue=A.key,te=A.ref,Oe=A._owner;if(N!=null){if(N.ref!==void 0&&(te=N.ref,Oe=V.current),N.key!==void 0&&(ue=""+N.key),A.type&&A.type.defaultProps)var me=A.type.defaultProps;for(Ie in N)z.call(N,Ie)&&!W.hasOwnProperty(Ie)&&(le[Ie]=N[Ie]===void 0&&me!==void 0?me[Ie]:N[Ie])}var Ie=arguments.length-2;if(Ie===1)le.children=oe;else if(1<Ie){me=Array(Ie);for(var Ae=0;Ae<Ie;Ae++)me[Ae]=arguments[Ae+2];le.children=me}return{$$typeof:t,type:A.type,key:ue,ref:te,props:le,_owner:Oe}},e.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},e.createElement=B,e.createFactory=function(A){var N=B.bind(null,A);return N.type=A,N},e.createRef=function(){return{current:null}},e.forwardRef=function(A){return{$$typeof:d,render:A}},e.isValidElement=re,e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:q}},e.memo=function(A,N){return{$$typeof:m,type:A,compare:N===void 0?null:N}},e.startTransition=function(A){var N=ee.transition;ee.transition={};try{A()}finally{ee.transition=N}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(A,N){return K.current.useCallback(A,N)},e.useContext=function(A){return K.current.useContext(A)},e.useDebugValue=function(){},e.useDeferredValue=function(A){return K.current.useDeferredValue(A)},e.useEffect=function(A,N){return K.current.useEffect(A,N)},e.useId=function(){return K.current.useId()},e.useImperativeHandle=function(A,N,oe){return K.current.useImperativeHandle(A,N,oe)},e.useInsertionEffect=function(A,N){return K.current.useInsertionEffect(A,N)},e.useLayoutEffect=function(A,N){return K.current.useLayoutEffect(A,N)},e.useMemo=function(A,N){return K.current.useMemo(A,N)},e.useReducer=function(A,N,oe){return K.current.useReducer(A,N,oe)},e.useRef=function(A){return K.current.useRef(A)},e.useState=function(A){return K.current.useState(A)},e.useSyncExternalStore=function(A,N,oe){return K.current.useSyncExternalStore(A,N,oe)},e.useTransition=function(){return K.current.useTransition()},e.version="18.2.0"}),X=He((e,t)=>{t.exports=nX()}),rX=He(e=>{function t(K,ee){var ge=K.length;K.push(ee);e:for(;0<ge;){var A=ge-1>>>1,N=K[A];if(0<i(N,ee))K[A]=ee,K[ge]=N,ge=A;else break e}}function n(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ee=K[0],ge=K.pop();if(ge!==ee){K[0]=ge;e:for(var A=0,N=K.length,oe=N>>>1;A<oe;){var le=2*(A+1)-1,ue=K[le],te=le+1,Oe=K[te];if(0>i(ue,ge))te<N&&0>i(Oe,ue)?(K[A]=Oe,K[te]=ge,A=te):(K[A]=ue,K[le]=ge,A=le);else if(te<N&&0>i(Oe,ge))K[A]=Oe,K[te]=ge,A=te;else break e}}return ee}function i(K,ee){var ge=K.sortIndex-ee.sortIndex;return ge!==0?ge:K.id-ee.id}typeof performance=="object"&&typeof performance.now=="function"?(l=performance,e.unstable_now=function(){return l.now()}):(s=Date,u=s.now(),e.unstable_now=function(){return s.now()-u});var l,s,u,d=[],f=[],m=1,v=null,g=3,h=!1,b=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ee=n(f);ee!==null;){if(ee.callback===null)o(f);else if(ee.startTime<=K)o(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(f)}}function O(K){if(y=!1,_(K),!b)if(n(d)!==null)b=!0,xe(j);else{var ee=n(f);ee!==null&&q(O,ee.startTime-K)}}function j(K,ee){b=!1,y&&(y=!1,x(W),W=-1),h=!0;var ge=g;try{for(_(ee),v=n(d);v!==null&&(!(v.expirationTime>ee)||K&&!re());){var A=v.callback;if(typeof A=="function"){v.callback=null,g=v.priorityLevel;var N=A(v.expirationTime<=ee);ee=e.unstable_now(),typeof N=="function"?v.callback=N:v===n(d)&&o(d),_(ee)}else o(d);v=n(d)}if(v!==null)var oe=!0;else{var le=n(f);le!==null&&q(O,le.startTime-ee),oe=!1}return oe}finally{v=null,g=ge,h=!1}}var z=!1,V=null,W=-1,B=5,Z=-1;function re(){return!(e.unstable_now()-Z<B)}function D(){if(V!==null){var K=e.unstable_now();Z=K;var ee=!0;try{ee=V(!0,K)}finally{ee?G():(z=!1,V=null)}}else z=!1}var G;typeof S=="function"?G=function(){S(D)}:typeof MessageChannel<"u"?(C=new MessageChannel,Q=C.port2,C.port1.onmessage=D,G=function(){Q.postMessage(null)}):G=function(){k(D,0)};var C,Q;function xe(K){V=K,z||(z=!0,G())}function q(K,ee){W=k(function(){K(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,xe(j))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ge=g;g=ee;try{return K()}finally{g=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=g;g=K;try{return ee()}finally{g=ge}},e.unstable_scheduleCallback=function(K,ee,ge){var A=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?A+ge:A):ge=A,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,K={id:m++,callback:ee,priorityLevel:K,startTime:ge,expirationTime:N,sortIndex:-1},ge>A?(K.sortIndex=ge,t(f,K),n(d)===null&&K===n(f)&&(y?(x(W),W=-1):y=!0,q(O,ge-A))):(K.sortIndex=N,t(d,K),b||h||(b=!0,xe(j))),K},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(K){var ee=g;return function(){var ge=g;g=ee;try{return K.apply(this,arguments)}finally{g=ge}}}}),oX=He((e,t)=>{t.exports=rX()}),aX=He(e=>{var t=X(),n=oX();function o(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function h(r){return f.call(g,r)?!0:f.call(v,r)?!1:m.test(r)?g[r]=!0:(v[r]=!0,!1)}function b(r,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function y(r,a,c,p){if(a===null||typeof a>"u"||b(r,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(r,a,c,p,w,E,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=E,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];x[a]=new k(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,a,c,p){var w=x.hasOwnProperty(a)?x[a]:null;(w!==null?w.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(y(a,c,w,p)&&(c=null),p||w===null?h(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):w.mustUseProperty?r[w.propertyName]=c===null?w.type===3?!1:"":c:(a=w.attributeName,p=w.attributeNamespace,c===null?r.removeAttribute(a):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?r.setAttributeNS(p,a,c):r.setAttribute(a,c))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),V=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var A=Object.assign,N;function oe(r){if(N===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||""}return`
`+N+r}var le=!1;function ue(r,a){if(!r||le)return"";le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(pe){var p=pe}Reflect.construct(r,[],a)}else{try{a.call()}catch(pe){p=pe}r.call(a.prototype)}else{try{throw Error()}catch(pe){p=pe}r()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var w=pe.stack.split(`
`),E=p.stack.split(`
`),T=w.length-1,H=E.length-1;1<=T&&0<=H&&w[T]!==E[H];)H--;for(;1<=T&&0<=H;T--,H--)if(w[T]!==E[H]){if(T!==1||H!==1)do if(T--,H--,0>H||w[T]!==E[H]){var Y=`
`+w[T].replace(" at new "," at ");return r.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",r.displayName)),Y}while(1<=T&&0<=H);break}}}finally{le=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?oe(r):""}function te(r){switch(r.tag){case 5:return oe(r.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case W:return"Fragment";case V:return"Portal";case Z:return"Profiler";case B:return"StrictMode";case C:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case re:return(r._context.displayName||"Context")+".Provider";case G:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return a=r.displayName||null,a!==null?a:Oe(r.type)||"Memo";case q:a=r._payload,r=r._init;try{return Oe(r(a))}catch{}}return null}function me(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(r){var a=Ae(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),p=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,E=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return w.call(this)},set:function(T){p=""+T,E.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ve(r){r._valueTracker||(r._valueTracker=We(r))}function it(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return r&&(p=Ae(r)?r.checked?"true":"false":r.value),r=p,r!==c?(a.setValue(r),!0):!1}function I(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fe(r,a){var c=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ce(r,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function U(r,a){a=a.checked,a!=null&&O(r,"checked",a,!1)}function R(r,a){U(r,a);var c=Ie(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?ve(r,a.type,c):a.hasOwnProperty("defaultValue")&&ve(r,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function ne(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function ve(r,a,c){(a!=="number"||I(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var ke=Array.isArray;function ae(r,a,c,p){if(r=r.options,a){a={};for(var w=0;w<c.length;w++)a["$"+c[w]]=!0;for(c=0;c<r.length;c++)w=a.hasOwnProperty("$"+r[c].value),r[c].selected!==w&&(r[c].selected=w),w&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,w=0;w<r.length;w++){if(r[w].value===c){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}a!==null||r[w].disabled||(a=r[w])}a!==null&&(a.selected=!0)}}function Se(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(o(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ye(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(o(92));if(ke(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:Ie(c)}}function we(r,a){var c=Ie(a.value),p=Ie(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Ue(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function ot(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?ot(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var tn,za=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,w){MSApp.execUnsafeLocalFunction(function(){return r(a,c,p,w)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=tn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function un(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(r){Et.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),jr[a]=jr[r]})});function Xi(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||jr.hasOwnProperty(r)&&jr[r]?(""+a).trim():a+"px"}function Es(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=Xi(c,a[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,w):r[c]=w}}var Or=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _s(r,a){if(a){if(Or[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(o(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(o(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(o(61))}if(a.style!=null&&typeof a.style!="object")throw Error(o(62))}}function Lc(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function Gc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ps=null,tr=null,Tr=null;function wH(r){if(r=gd(r)){if(typeof Ps!="function")throw Error(o(280));var a=r.stateNode;a&&(a=qm(a),Ps(r.stateNode,r.type,a))}}function xH(r){tr?Tr?Tr.push(r):Tr=[r]:tr=r}function SH(){if(tr){var r=tr,a=Tr;if(Tr=tr=null,wH(r),a)for(r=0;r<a.length;r++)wH(a[r])}}function EH(r,a){return r(a)}function _H(){}var Ew=!1;function PH(r,a,c){if(Ew)return r(a,c);Ew=!0;try{return EH(r,a,c)}finally{Ew=!1,(tr!==null||Tr!==null)&&(_H(),SH())}}function Xc(r,a){var c=r.stateNode;if(c===null)return null;var p=qm(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(o(231,a,typeof c));return c}var _w=!1;if(d)try{Cs={},Object.defineProperty(Cs,"passive",{get:function(){_w=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{_w=!1}var Cs;function wae(r,a,c,p,w,E,T,H,Y){var pe=Array.prototype.slice.call(arguments,3);try{a.apply(c,pe)}catch(_e){this.onError(_e)}}var Yc=!1,km=null,wm=!1,Pw=null,xae={onError:function(r){Yc=!0,km=r}};function Sae(r,a,c,p,w,E,T,H,Y){Yc=!1,km=null,wae.apply(xae,arguments)}function Eae(r,a,c,p,w,E,T,H,Y){if(Sae.apply(this,arguments),Yc){if(Yc){var pe=km;Yc=!1,km=null}else throw Error(o(198));wm||(wm=!0,Pw=pe)}}function Yi(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function CH(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function IH(r){if(Yi(r)!==r)throw Error(o(188))}function _ae(r){var a=r.alternate;if(!a){if(a=Yi(r),a===null)throw Error(o(188));return a!==r?null:r}for(var c=r,p=a;;){var w=c.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===c)return IH(w),r;if(E===p)return IH(w),a;E=E.sibling}throw Error(o(188))}if(c.return!==p.return)c=w,p=E;else{for(var T=!1,H=w.child;H;){if(H===c){T=!0,c=w,p=E;break}if(H===p){T=!0,p=w,c=E;break}H=H.sibling}if(!T){for(H=E.child;H;){if(H===c){T=!0,c=E,p=w;break}if(H===p){T=!0,p=E,c=w;break}H=H.sibling}if(!T)throw Error(o(189))}}if(c.alternate!==p)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?r:a}function jH(r){return r=_ae(r),r!==null?OH(r):null}function OH(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=OH(r);if(a!==null)return a;r=r.sibling}return null}var TH=n.unstable_scheduleCallback,zH=n.unstable_cancelCallback,Pae=n.unstable_shouldYield,Cae=n.unstable_requestPaint,Tt=n.unstable_now,Iae=n.unstable_getCurrentPriorityLevel,Cw=n.unstable_ImmediatePriority,DH=n.unstable_UserBlockingPriority,xm=n.unstable_NormalPriority,jae=n.unstable_LowPriority,AH=n.unstable_IdlePriority,Sm=null,po=null;function Oae(r){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(Sm,r,void 0,(r.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:Dae,Tae=Math.log,zae=Math.LN2;function Dae(r){return r>>>=0,r===0?32:31-(Tae(r)/zae|0)|0}var Em=64,_m=4194304;function Qc(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Pm(r,a){var c=r.pendingLanes;if(c===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,T=c&268435455;if(T!==0){var H=T&~w;H!==0?p=Qc(H):(E&=T,E!==0&&(p=Qc(E)))}else T=c&~w,T!==0?p=Qc(T):E!==0&&(p=Qc(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&w)&&(w=p&-p,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=p;0<a;)c=31-zr(a),w=1<<c,p|=r[c],a&=~w;return p}function Aae(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bae(r,a){for(var c=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var T=31-zr(E),H=1<<T,Y=w[T];Y===-1?(!(H&c)||H&p)&&(w[T]=Aae(H,a)):Y<=a&&(r.expiredLanes|=H),E&=~H}}function Iw(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function BH(){var r=Em;return Em<<=1,!(Em&4194240)&&(Em=64),r}function jw(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Jc(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-zr(a),r[a]=c}function Nae(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var w=31-zr(c),E=1<<w;a[w]=0,p[w]=-1,r[w]=-1,c&=~E}}function Ow(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var p=31-zr(c),w=1<<p;w&a|r[p]&a&&(r[p]|=a),c&=~w}}var ut=0;function NH(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var FH,Tw,RH,MH,UH,zw=!1,Cm=[],Da=null,Aa=null,Ba=null,ed=new Map,td=new Map,Na=[],Fae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VH(r,a){switch(r){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":ed.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(a.pointerId)}}function nd(r,a,c,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},a!==null&&(a=gd(a),a!==null&&Tw(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),r)}function Rae(r,a,c,p,w){switch(a){case"focusin":return Da=nd(Da,r,a,c,p,w),!0;case"dragenter":return Aa=nd(Aa,r,a,c,p,w),!0;case"mouseover":return Ba=nd(Ba,r,a,c,p,w),!0;case"pointerover":var E=w.pointerId;return ed.set(E,nd(ed.get(E)||null,r,a,c,p,w)),!0;case"gotpointercapture":return E=w.pointerId,td.set(E,nd(td.get(E)||null,r,a,c,p,w)),!0}return!1}function HH(r){var a=Qi(r.target);if(a!==null){var c=Yi(a);if(c!==null){if(a=c.tag,a===13){if(a=CH(c),a!==null){r.blockedOn=a,UH(r.priority,function(){RH(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Im(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Aw(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Zc=p,c.target.dispatchEvent(p),Zc=null}else return a=gd(c),a!==null&&Tw(a),r.blockedOn=c,!1;a.shift()}return!0}function KH(r,a,c){Im(r)&&c.delete(a)}function Mae(){zw=!1,Da!==null&&Im(Da)&&(Da=null),Aa!==null&&Im(Aa)&&(Aa=null),Ba!==null&&Im(Ba)&&(Ba=null),ed.forEach(KH),td.forEach(KH)}function rd(r,a){r.blockedOn===a&&(r.blockedOn=null,zw||(zw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mae)))}function od(r){function a(w){return rd(w,r)}if(0<Cm.length){rd(Cm[0],r);for(var c=1;c<Cm.length;c++){var p=Cm[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Da!==null&&rd(Da,r),Aa!==null&&rd(Aa,r),Ba!==null&&rd(Ba,r),ed.forEach(a),td.forEach(a),c=0;c<Na.length;c++)p=Na[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Na.length&&(c=Na[0],c.blockedOn===null);)HH(c),c.blockedOn===null&&Na.shift()}var Is=j.ReactCurrentBatchConfig,jm=!0;function Uae(r,a,c,p){var w=ut,E=Is.transition;Is.transition=null;try{ut=1,Dw(r,a,c,p)}finally{ut=w,Is.transition=E}}function Vae(r,a,c,p){var w=ut,E=Is.transition;Is.transition=null;try{ut=4,Dw(r,a,c,p)}finally{ut=w,Is.transition=E}}function Dw(r,a,c,p){if(jm){var w=Aw(r,a,c,p);if(w===null)Gw(r,a,p,Om,c),VH(r,p);else if(Rae(w,r,a,c,p))p.stopPropagation();else if(VH(r,p),a&4&&-1<Fae.indexOf(r)){for(;w!==null;){var E=gd(w);if(E!==null&&FH(E),E=Aw(r,a,c,p),E===null&&Gw(r,a,p,Om,c),E===w)break;w=E}w!==null&&p.stopPropagation()}else Gw(r,a,p,null,c)}}var Om=null;function Aw(r,a,c,p){if(Om=null,r=Gc(p),r=Qi(r),r!==null)if(a=Yi(r),a===null)r=null;else if(c=a.tag,c===13){if(r=CH(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Om=r,null}function WH(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iae()){case Cw:return 1;case DH:return 4;case xm:case jae:return 16;case AH:return 536870912;default:return 16}default:return 16}}var Fa=null,Bw=null,Tm=null;function qH(){if(Tm)return Tm;var r,a=Bw,c=a.length,p,w="value"in Fa?Fa.value:Fa.textContent,E=w.length;for(r=0;r<c&&a[r]===w[r];r++);var T=c-r;for(p=1;p<=T&&a[c-p]===w[E-p];p++);return Tm=w.slice(r,1<p?1-p:void 0)}function zm(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Dm(){return!0}function $H(){return!1}function Un(r){function a(c,p,w,E,T){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(c=r[H],this[H]=c?c(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Dm:$H,this.isPropagationStopped=$H,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Dm)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Dm)},persist:function(){},isPersistent:Dm}),a}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nw=Un(js),ad=A({},js,{view:0,detail:0}),Hae=Un(ad),Fw,Rw,id,Am=A({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==id&&(id&&r.type==="mousemove"?(Fw=r.screenX-id.screenX,Rw=r.screenY-id.screenY):Rw=Fw=0,id=r),Fw)},movementY:function(r){return"movementY"in r?r.movementY:Rw}}),LH=Un(Am),Kae=A({},Am,{dataTransfer:0}),Wae=Un(Kae),qae=A({},ad,{relatedTarget:0}),Mw=Un(qae),$ae=A({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),Lae=Un($ae),Zae=A({},js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gae=Un(Zae),Xae=A({},js,{data:0}),ZH=Un(Xae),Yae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eie(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Jae[r])?!!a[r]:!1}function Uw(){return eie}var tie=A({},ad,{key:function(r){if(r.key){var a=Yae[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=zm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qae[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(r){return r.type==="keypress"?zm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nie=Un(tie),rie=A({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GH=Un(rie),oie=A({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),aie=Un(oie),iie=A({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),lie=Un(iie),sie=A({},Am,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uie=Un(sie),cie=[9,13,27,32],Vw=d&&"CompositionEvent"in window,ld=null;d&&"documentMode"in document&&(ld=document.documentMode);var die=d&&"TextEvent"in window&&!ld,XH=d&&(!Vw||ld&&8<ld&&11>=ld),YH=" ",QH=!1;function JH(r,a){switch(r){case"keyup":return cie.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eK(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Os=!1;function fie(r,a){switch(r){case"compositionend":return eK(a);case"keypress":return a.which!==32?null:(QH=!0,YH);case"textInput":return r=a.data,r===YH&&QH?null:r;default:return null}}function pie(r,a){if(Os)return r==="compositionend"||!Vw&&JH(r,a)?(r=qH(),Tm=Bw=Fa=null,Os=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return XH&&a.locale!=="ko"?null:a.data;default:return null}}var hie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tK(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!hie[r.type]:a==="textarea"}function nK(r,a,c,p){xH(p),a=Hm(a,"onChange"),0<a.length&&(c=new Nw("onChange","change",null,c,p),r.push({event:c,listeners:a}))}var sd=null,ud=null;function mie(r){wK(r,0)}function Bm(r){var a=Bs(r);if(it(a))return r}function gie(r,a){if(r==="change")return a}var rK=!1;d&&(d?(Nm="oninput"in document,Nm||(Kw=document.createElement("div"),Kw.setAttribute("oninput","return;"),Nm=typeof Kw.oninput=="function"),Hw=Nm):Hw=!1,rK=Hw&&(!document.documentMode||9<document.documentMode));var Hw,Nm,Kw;function oK(){sd&&(sd.detachEvent("onpropertychange",aK),ud=sd=null)}function aK(r){if(r.propertyName==="value"&&Bm(ud)){var a=[];nK(a,ud,r,Gc(r)),PH(mie,a)}}function vie(r,a,c){r==="focusin"?(oK(),sd=a,ud=c,sd.attachEvent("onpropertychange",aK)):r==="focusout"&&oK()}function yie(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bm(ud)}function bie(r,a){if(r==="click")return Bm(a)}function kie(r,a){if(r==="input"||r==="change")return Bm(a)}function wie(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Dr=typeof Object.is=="function"?Object.is:wie;function cd(r,a){if(Dr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!f.call(a,w)||!Dr(r[w],a[w]))return!1}return!0}function iK(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lK(r,a){var c=iK(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=a&&p>=a)return{node:c,offset:a-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=iK(c)}}function sK(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?sK(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function uK(){for(var r=window,a=I();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=I(r.document)}return a}function Ww(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function xie(r){var a=uK(),c=r.focusedElem,p=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&sK(c.ownerDocument.documentElement,c)){if(p!==null&&Ww(c)){if(a=p.start,r=p.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var w=c.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=lK(c,E);var T=lK(c,p);w&&T&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(a),r.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Sie=d&&"documentMode"in document&&11>=document.documentMode,Ts=null,qw=null,dd=null,$w=!1;function cK(r,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;$w||Ts==null||Ts!==I(p)||(p=Ts,"selectionStart"in p&&Ww(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),dd&&cd(dd,p)||(dd=p,p=Hm(qw,"onSelect"),0<p.length&&(a=new Nw("onSelect","select",null,a,c),r.push({event:a,listeners:p}),a.target=Ts)))}function Fm(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var zs={animationend:Fm("Animation","AnimationEnd"),animationiteration:Fm("Animation","AnimationIteration"),animationstart:Fm("Animation","AnimationStart"),transitionend:Fm("Transition","TransitionEnd")},Lw={},dK={};d&&(dK=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Rm(r){if(Lw[r])return Lw[r];if(!zs[r])return r;var a=zs[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in dK)return Lw[r]=a[c];return r}var fK=Rm("animationend"),pK=Rm("animationiteration"),hK=Rm("animationstart"),mK=Rm("transitionend"),gK=new Map,vK="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(r,a){gK.set(r,a),s(a,[r])}for(Um=0;Um<vK.length;Um++)Mm=vK[Um],yK=Mm.toLowerCase(),bK=Mm[0].toUpperCase()+Mm.slice(1),Ra(yK,"on"+bK);var Mm,yK,bK,Um;Ra(fK,"onAnimationEnd"),Ra(pK,"onAnimationIteration"),Ra(hK,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(mK,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eie=new Set("cancel close invalid load scroll toggle".split(" ").concat(fd));function kK(r,a,c){var p=r.type||"unknown-event";r.currentTarget=c,Eae(p,a,void 0,r),r.currentTarget=null}function wK(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],w=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var T=p.length-1;0<=T;T--){var H=p[T],Y=H.instance,pe=H.currentTarget;if(H=H.listener,Y!==E&&w.isPropagationStopped())break e;kK(w,H,pe),E=Y}else for(T=0;T<p.length;T++){if(H=p[T],Y=H.instance,pe=H.currentTarget,H=H.listener,Y!==E&&w.isPropagationStopped())break e;kK(w,H,pe),E=Y}}}if(wm)throw r=Pw,wm=!1,Pw=null,r}function yt(r,a){var c=a[tx];c===void 0&&(c=a[tx]=new Set);var p=r+"__bubble";c.has(p)||(xK(a,r,2,!1),c.add(p))}function Zw(r,a,c){var p=0;a&&(p|=4),xK(c,r,p,a)}var Vm="_reactListening"+Math.random().toString(36).slice(2);function pd(r){if(!r[Vm]){r[Vm]=!0,i.forEach(function(c){c!=="selectionchange"&&(Eie.has(c)||Zw(c,!1,r),Zw(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Vm]||(a[Vm]=!0,Zw("selectionchange",!1,a))}}function xK(r,a,c,p){switch(WH(a)){case 1:var w=Uae;break;case 4:w=Vae;break;default:w=Dw}c=w.bind(null,a,c,r),w=void 0,!_w||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(a,c,{capture:!0,passive:w}):r.addEventListener(a,c,!0):w!==void 0?r.addEventListener(a,c,{passive:w}):r.addEventListener(a,c,!1)}function Gw(r,a,c,p,w){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var H=p.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(T===4)for(T=p.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&(Y=T.stateNode.containerInfo,Y===w||Y.nodeType===8&&Y.parentNode===w))return;T=T.return}for(;H!==null;){if(T=Qi(H),T===null)return;if(Y=T.tag,Y===5||Y===6){p=E=T;continue e}H=H.parentNode}}p=p.return}PH(function(){var pe=E,_e=Gc(c),Pe=[];e:{var Ee=gK.get(r);if(Ee!==void 0){var Te=Nw,Be=r;switch(r){case"keypress":if(zm(c)===0)break e;case"keydown":case"keyup":Te=nie;break;case"focusin":Be="focus",Te=Mw;break;case"focusout":Be="blur",Te=Mw;break;case"beforeblur":case"afterblur":Te=Mw;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=LH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=aie;break;case fK:case pK:case hK:Te=Lae;break;case mK:Te=lie;break;case"scroll":Te=Hae;break;case"wheel":Te=uie;break;case"copy":case"cut":case"paste":Te=Gae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=GH}var Fe=(a&4)!==0,zt=!Fe&&r==="scroll",ie=Fe?Ee!==null?Ee+"Capture":null:Ee;Fe=[];for(var J=pe,se;J!==null;){se=J;var Ce=se.stateNode;if(se.tag===5&&Ce!==null&&(se=Ce,ie!==null&&(Ce=Xc(J,ie),Ce!=null&&Fe.push(hd(J,Ce,se)))),zt)break;J=J.return}0<Fe.length&&(Ee=new Te(Ee,Be,null,c,_e),Pe.push({event:Ee,listeners:Fe}))}}if(!(a&7)){e:{if(Ee=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Ee&&c!==Zc&&(Be=c.relatedTarget||c.fromElement)&&(Qi(Be)||Be[Ko]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Be=c.relatedTarget||c.toElement,Te=pe,Be=Be?Qi(Be):null,Be!==null&&(zt=Yi(Be),Be!==zt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Te=null,Be=pe),Te!==Be)){if(Fe=LH,Ce="onMouseLeave",ie="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=GH,Ce="onPointerLeave",ie="onPointerEnter",J="pointer"),zt=Te==null?Ee:Bs(Te),se=Be==null?Ee:Bs(Be),Ee=new Fe(Ce,J+"leave",Te,c,_e),Ee.target=zt,Ee.relatedTarget=se,Ce=null,Qi(_e)===pe&&(Fe=new Fe(ie,J+"enter",Be,c,_e),Fe.target=se,Fe.relatedTarget=zt,Ce=Fe),zt=Ce,Te&&Be)t:{for(Fe=Te,ie=Be,J=0,se=Fe;se;se=Ds(se))J++;for(se=0,Ce=ie;Ce;Ce=Ds(Ce))se++;for(;0<J-se;)Fe=Ds(Fe),J--;for(;0<se-J;)ie=Ds(ie),se--;for(;J--;){if(Fe===ie||ie!==null&&Fe===ie.alternate)break t;Fe=Ds(Fe),ie=Ds(ie)}Fe=null}else Fe=null;Te!==null&&SK(Pe,Ee,Te,Fe,!1),Be!==null&&zt!==null&&SK(Pe,zt,Be,Fe,!0)}}e:{if(Ee=pe?Bs(pe):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Me=gie;else if(tK(Ee))if(rK)Me=kie;else{Me=yie;var qe=vie}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Me=bie);if(Me&&(Me=Me(r,pe))){nK(Pe,Me,c,_e);break e}qe&&qe(r,Ee,pe),r==="focusout"&&(qe=Ee._wrapperState)&&qe.controlled&&Ee.type==="number"&&ve(Ee,"number",Ee.value)}switch(qe=pe?Bs(pe):window,r){case"focusin":(tK(qe)||qe.contentEditable==="true")&&(Ts=qe,qw=pe,dd=null);break;case"focusout":dd=qw=Ts=null;break;case"mousedown":$w=!0;break;case"contextmenu":case"mouseup":case"dragend":$w=!1,cK(Pe,c,_e);break;case"selectionchange":if(Sie)break;case"keydown":case"keyup":cK(Pe,c,_e)}var $e;if(Vw)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Os?JH(r,c)&&(Ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(XH&&c.locale!=="ko"&&(Os||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Os&&($e=qH()):(Fa=_e,Bw="value"in Fa?Fa.value:Fa.textContent,Os=!0)),qe=Hm(pe,Ge),0<qe.length&&(Ge=new ZH(Ge,r,null,c,_e),Pe.push({event:Ge,listeners:qe}),$e?Ge.data=$e:($e=eK(c),$e!==null&&(Ge.data=$e)))),($e=die?fie(r,c):pie(r,c))&&(pe=Hm(pe,"onBeforeInput"),0<pe.length&&(_e=new ZH("onBeforeInput","beforeinput",null,c,_e),Pe.push({event:_e,listeners:pe}),_e.data=$e))}wK(Pe,a)})}function hd(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Hm(r,a){for(var c=a+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Xc(r,c),E!=null&&p.unshift(hd(r,E,w)),E=Xc(r,a),E!=null&&p.push(hd(r,E,w))),r=r.return}return p}function Ds(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function SK(r,a,c,p,w){for(var E=a._reactName,T=[];c!==null&&c!==p;){var H=c,Y=H.alternate,pe=H.stateNode;if(Y!==null&&Y===p)break;H.tag===5&&pe!==null&&(H=pe,w?(Y=Xc(c,E),Y!=null&&T.unshift(hd(c,Y,H))):w||(Y=Xc(c,E),Y!=null&&T.push(hd(c,Y,H)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var _ie=/\r\n?/g,Pie=/\u0000|\uFFFD/g;function EK(r){return(typeof r=="string"?r:""+r).replace(_ie,`
`).replace(Pie,"")}function Km(r,a,c){if(a=EK(a),EK(r)!==a&&c)throw Error(o(425))}function Wm(){}var Xw=null,Yw=null;function Qw(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jw=typeof setTimeout=="function"?setTimeout:void 0,Cie=typeof clearTimeout=="function"?clearTimeout:void 0,_K=typeof Promise=="function"?Promise:void 0,Iie=typeof queueMicrotask=="function"?queueMicrotask:typeof _K<"u"?function(r){return _K.resolve(null).then(r).catch(jie)}:Jw;function jie(r){setTimeout(function(){throw r})}function ex(r,a){var c=a,p=0;do{var w=c.nextSibling;if(r.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){r.removeChild(w),od(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);od(a)}function Ma(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function PK(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var As=Math.random().toString(36).slice(2),ho="__reactFiber$"+As,md="__reactProps$"+As,Ko="__reactContainer$"+As,tx="__reactEvents$"+As,Oie="__reactListeners$"+As,Tie="__reactHandles$"+As;function Qi(r){var a=r[ho];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Ko]||c[ho]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=PK(r);r!==null;){if(c=r[ho])return c;r=PK(r)}return a}r=c,c=r.parentNode}return null}function gd(r){return r=r[ho]||r[Ko],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Bs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(o(33))}function qm(r){return r[md]||null}var nx=[],Ns=-1;function Ua(r){return{current:r}}function bt(r){0>Ns||(r.current=nx[Ns],nx[Ns]=null,Ns--)}function mt(r,a){Ns++,nx[Ns]=r.current,r.current=a}var Va={},cn=Ua(Va),Cn=Ua(!1),Ji=Va;function Fs(r,a){var c=r.type.contextTypes;if(!c)return Va;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in c)w[E]=a[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=w),w}function In(r){return r=r.childContextTypes,r!=null}function $m(){bt(Cn),bt(cn)}function CK(r,a,c){if(cn.current!==Va)throw Error(o(168));mt(cn,a),mt(Cn,c)}function IK(r,a,c){var p=r.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in a))throw Error(o(108,me(r)||"Unknown",w));return A({},c,p)}function Lm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Va,Ji=cn.current,mt(cn,r),mt(Cn,Cn.current),!0}function jK(r,a,c){var p=r.stateNode;if(!p)throw Error(o(169));c?(r=IK(r,a,Ji),p.__reactInternalMemoizedMergedChildContext=r,bt(Cn),bt(cn),mt(cn,r)):bt(Cn),mt(Cn,c)}var Wo=null,Zm=!1,rx=!1;function OK(r){Wo===null?Wo=[r]:Wo.push(r)}function zie(r){Zm=!0,OK(r)}function Ha(){if(!rx&&Wo!==null){rx=!0;var r=0,a=ut;try{var c=Wo;for(ut=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}Wo=null,Zm=!1}catch(w){throw Wo!==null&&(Wo=Wo.slice(r+1)),TH(Cw,Ha),w}finally{ut=a,rx=!1}}return null}var Rs=[],Ms=0,Gm=null,Xm=0,nr=[],rr=0,el=null,qo=1,$o="";function tl(r,a){Rs[Ms++]=Xm,Rs[Ms++]=Gm,Gm=r,Xm=a}function TK(r,a,c){nr[rr++]=qo,nr[rr++]=$o,nr[rr++]=el,el=r;var p=qo;r=$o;var w=32-zr(p)-1;p&=~(1<<w),c+=1;var E=32-zr(a)+w;if(30<E){var T=w-w%5;E=(p&(1<<T)-1).toString(32),p>>=T,w-=T,qo=1<<32-zr(a)+w|c<<w|p,$o=E+r}else qo=1<<E|c<<w|p,$o=r}function ox(r){r.return!==null&&(tl(r,1),TK(r,1,0))}function ax(r){for(;r===Gm;)Gm=Rs[--Ms],Rs[Ms]=null,Xm=Rs[--Ms],Rs[Ms]=null;for(;r===el;)el=nr[--rr],nr[rr]=null,$o=nr[--rr],nr[rr]=null,qo=nr[--rr],nr[rr]=null}var Vn=null,Hn=null,wt=!1,Ar=null;function zK(r,a){var c=lr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function DK(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Vn=r,Hn=Ma(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Vn=r,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=el!==null?{id:qo,overflow:$o}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=lr(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Vn=r,Hn=null,!0):!1;default:return!1}}function ix(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lx(r){if(wt){var a=Hn;if(a){var c=a;if(!DK(r,a)){if(ix(r))throw Error(o(418));a=Ma(c.nextSibling);var p=Vn;a&&DK(r,a)?zK(p,c):(r.flags=r.flags&-4097|2,wt=!1,Vn=r)}}else{if(ix(r))throw Error(o(418));r.flags=r.flags&-4097|2,wt=!1,Vn=r}}}function AK(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vn=r}function Ym(r){if(r!==Vn)return!1;if(!wt)return AK(r),wt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Qw(r.type,r.memoizedProps)),a&&(a=Hn)){if(ix(r))throw BK(),Error(o(418));for(;a;)zK(r,a),a=Ma(a.nextSibling)}if(AK(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){Hn=Ma(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}Hn=null}}else Hn=Vn?Ma(r.stateNode.nextSibling):null;return!0}function BK(){for(var r=Hn;r;)r=Ma(r.nextSibling)}function Us(){Hn=Vn=null,wt=!1}function sx(r){Ar===null?Ar=[r]:Ar.push(r)}var Die=j.ReactCurrentBatchConfig;function Br(r,a){if(r&&r.defaultProps){a=A({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}var Qm=Ua(null),Jm=null,Vs=null,ux=null;function cx(){ux=Vs=Jm=null}function dx(r){var a=Qm.current;bt(Qm),r._currentValue=a}function fx(r,a,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===c)break;r=r.return}}function Hs(r,a){Jm=r,ux=Vs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(jn=!0),r.firstContext=null)}function or(r){var a=r._currentValue;if(ux!==r)if(r={context:r,memoizedValue:a,next:null},Vs===null){if(Jm===null)throw Error(o(308));Vs=r,Jm.dependencies={lanes:0,firstContext:r}}else Vs=Vs.next=r;return a}var nl=null;function px(r){nl===null?nl=[r]:nl.push(r)}function NK(r,a,c,p){var w=a.interleaved;return w===null?(c.next=c,px(a)):(c.next=w.next,w.next=c),a.interleaved=c,Lo(r,p)}function Lo(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ka=!1;function hx(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FK(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Zo(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Wa(r,a,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,at&2){var w=p.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),p.pending=a,Lo(r,c)}return w=p.interleaved,w===null?(a.next=a,px(p)):(a.next=w.next,w.next=a),p.interleaved=a,Lo(r,c)}function eg(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Ow(r,c)}}function RK(r,a){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?w=E=T:E=E.next=T,c=c.next}while(c!==null);E===null?w=E=a:E=E.next=a}else w=E=a;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function tg(r,a,c,p){var w=r.updateQueue;Ka=!1;var E=w.firstBaseUpdate,T=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var Y=H,pe=Y.next;Y.next=null,T===null?E=pe:T.next=pe,T=Y;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,H=_e.lastBaseUpdate,H!==T&&(H===null?_e.firstBaseUpdate=pe:H.next=pe,_e.lastBaseUpdate=Y))}if(E!==null){var Pe=w.baseState;T=0,_e=pe=Y=null,H=E;do{var Ee=H.lane,Te=H.eventTime;if((p&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Be=r,Fe=H;switch(Ee=a,Te=c,Fe.tag){case 1:if(Be=Fe.payload,typeof Be=="function"){Pe=Be.call(Te,Pe,Ee);break e}Pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Fe.payload,Ee=typeof Be=="function"?Be.call(Te,Pe,Ee):Be,Ee==null)break e;Pe=A({},Pe,Ee);break e;case 2:Ka=!0}}H.callback!==null&&H.lane!==0&&(r.flags|=64,Ee=w.effects,Ee===null?w.effects=[H]:Ee.push(H))}else Te={eventTime:Te,lane:Ee,tag:H.tag,payload:H.payload,callback:H.callback,next:null},_e===null?(pe=_e=Te,Y=Pe):_e=_e.next=Te,T|=Ee;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;Ee=H,H=Ee.next,Ee.next=null,w.lastBaseUpdate=Ee,w.shared.pending=null}}while(!0);if(_e===null&&(Y=Pe),w.baseState=Y,w.firstBaseUpdate=pe,w.lastBaseUpdate=_e,a=w.shared.interleaved,a!==null){w=a;do T|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);al|=T,r.lanes=T,r.memoizedState=Pe}}function MK(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(o(191,w));w.call(p)}}}var UK=new t.Component().refs;function mx(r,a,c,p){a=r.memoizedState,c=c(p,a),c=c==null?a:A({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ng={isMounted:function(r){return(r=r._reactInternals)?Yi(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var p=xn(),w=Za(r),E=Zo(p,w);E.payload=a,c!=null&&(E.callback=c),a=Wa(r,E,w),a!==null&&(Rr(a,r,w,p),eg(a,r,w))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var p=xn(),w=Za(r),E=Zo(p,w);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=Wa(r,E,w),a!==null&&(Rr(a,r,w,p),eg(a,r,w))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=xn(),p=Za(r),w=Zo(c,p);w.tag=2,a!=null&&(w.callback=a),a=Wa(r,w,p),a!==null&&(Rr(a,r,p,c),eg(a,r,p))}};function VK(r,a,c,p,w,E,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,T):a.prototype&&a.prototype.isPureReactComponent?!cd(c,p)||!cd(w,E):!0}function HK(r,a,c){var p=!1,w=Va,E=a.contextType;return typeof E=="object"&&E!==null?E=or(E):(w=In(a)?Ji:cn.current,p=a.contextTypes,E=(p=p!=null)?Fs(r,w):Va),a=new a(c,E),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ng,r.stateNode=a,a._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),a}function KK(r,a,c,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==r&&ng.enqueueReplaceState(a,a.state,null)}function gx(r,a,c,p){var w=r.stateNode;w.props=c,w.state=r.memoizedState,w.refs=UK,hx(r);var E=a.contextType;typeof E=="object"&&E!==null?w.context=or(E):(E=In(a)?Ji:cn.current,w.context=Fs(r,E)),w.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(mx(r,a,E,c),w.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&ng.enqueueReplaceState(w,w.state,null),tg(r,c,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function vd(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o(309));var p=c.stateNode}if(!p)throw Error(o(147,r));var w=p,E=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(T){var H=w.refs;H===UK&&(H=w.refs={}),T===null?delete H[E]:H[E]=T},a._stringRef=E,a)}if(typeof r!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,r))}return r}function rg(r,a){throw r=Object.prototype.toString.call(a),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function WK(r){var a=r._init;return a(r._payload)}function qK(r){function a(ie,J){if(r){var se=ie.deletions;se===null?(ie.deletions=[J],ie.flags|=16):se.push(J)}}function c(ie,J){if(!r)return null;for(;J!==null;)a(ie,J),J=J.sibling;return null}function p(ie,J){for(ie=new Map;J!==null;)J.key!==null?ie.set(J.key,J):ie.set(J.index,J),J=J.sibling;return ie}function w(ie,J){return ie=Xa(ie,J),ie.index=0,ie.sibling=null,ie}function E(ie,J,se){return ie.index=se,r?(se=ie.alternate,se!==null?(se=se.index,se<J?(ie.flags|=2,J):se):(ie.flags|=2,J)):(ie.flags|=1048576,J)}function T(ie){return r&&ie.alternate===null&&(ie.flags|=2),ie}function H(ie,J,se,Ce){return J===null||J.tag!==6?(J=Qx(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Y(ie,J,se,Ce){var Me=se.type;return Me===W?_e(ie,J,se.props.children,Ce,se.key):J!==null&&(J.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&WK(Me)===J.type)?(Ce=w(J,se.props),Ce.ref=vd(ie,J,se),Ce.return=ie,Ce):(Ce=xg(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=vd(ie,J,se),Ce.return=ie,Ce)}function pe(ie,J,se,Ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=Jx(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se.children||[]),J.return=ie,J)}function _e(ie,J,se,Ce,Me){return J===null||J.tag!==7?(J=ul(se,ie.mode,Ce,Me),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Pe(ie,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Qx(""+J,ie.mode,se),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return se=xg(J.type,J.key,J.props,null,ie.mode,se),se.ref=vd(ie,null,J),se.return=ie,se;case V:return J=Jx(J,ie.mode,se),J.return=ie,J;case q:var Ce=J._init;return Pe(ie,Ce(J._payload),se)}if(ke(J)||ge(J))return J=ul(J,ie.mode,se,null),J.return=ie,J;rg(ie,J)}return null}function Ee(ie,J,se,Ce){var Me=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Me!==null?null:H(ie,J,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return se.key===Me?Y(ie,J,se,Ce):null;case V:return se.key===Me?pe(ie,J,se,Ce):null;case q:return Me=se._init,Ee(ie,J,Me(se._payload),Ce)}if(ke(se)||ge(se))return Me!==null?null:_e(ie,J,se,Ce,null);rg(ie,se)}return null}function Te(ie,J,se,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ie=ie.get(se)||null,H(J,ie,""+Ce,Me);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case z:return ie=ie.get(Ce.key===null?se:Ce.key)||null,Y(J,ie,Ce,Me);case V:return ie=ie.get(Ce.key===null?se:Ce.key)||null,pe(J,ie,Ce,Me);case q:var qe=Ce._init;return Te(ie,J,se,qe(Ce._payload),Me)}if(ke(Ce)||ge(Ce))return ie=ie.get(se)||null,_e(J,ie,Ce,Me,null);rg(J,Ce)}return null}function Be(ie,J,se,Ce){for(var Me=null,qe=null,$e=J,Ge=J=0,qt=null;$e!==null&&Ge<se.length;Ge++){$e.index>Ge?(qt=$e,$e=null):qt=$e.sibling;var lt=Ee(ie,$e,se[Ge],Ce);if(lt===null){$e===null&&($e=qt);break}r&&$e&&lt.alternate===null&&a(ie,$e),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt,$e=qt}if(Ge===se.length)return c(ie,$e),wt&&tl(ie,Ge),Me;if($e===null){for(;Ge<se.length;Ge++)$e=Pe(ie,se[Ge],Ce),$e!==null&&(J=E($e,J,Ge),qe===null?Me=$e:qe.sibling=$e,qe=$e);return wt&&tl(ie,Ge),Me}for($e=p(ie,$e);Ge<se.length;Ge++)qt=Te($e,ie,Ge,se[Ge],Ce),qt!==null&&(r&&qt.alternate!==null&&$e.delete(qt.key===null?Ge:qt.key),J=E(qt,J,Ge),qe===null?Me=qt:qe.sibling=qt,qe=qt);return r&&$e.forEach(function(Ya){return a(ie,Ya)}),wt&&tl(ie,Ge),Me}function Fe(ie,J,se,Ce){var Me=ge(se);if(typeof Me!="function")throw Error(o(150));if(se=Me.call(se),se==null)throw Error(o(151));for(var qe=Me=null,$e=J,Ge=J=0,qt=null,lt=se.next();$e!==null&&!lt.done;Ge++,lt=se.next()){$e.index>Ge?(qt=$e,$e=null):qt=$e.sibling;var Ya=Ee(ie,$e,lt.value,Ce);if(Ya===null){$e===null&&($e=qt);break}r&&$e&&Ya.alternate===null&&a(ie,$e),J=E(Ya,J,Ge),qe===null?Me=Ya:qe.sibling=Ya,qe=Ya,$e=qt}if(lt.done)return c(ie,$e),wt&&tl(ie,Ge),Me;if($e===null){for(;!lt.done;Ge++,lt=se.next())lt=Pe(ie,lt.value,Ce),lt!==null&&(J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return wt&&tl(ie,Ge),Me}for($e=p(ie,$e);!lt.done;Ge++,lt=se.next())lt=Te($e,ie,Ge,lt.value,Ce),lt!==null&&(r&&lt.alternate!==null&&$e.delete(lt.key===null?Ge:lt.key),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return r&&$e.forEach(function(fle){return a(ie,fle)}),wt&&tl(ie,Ge),Me}function zt(ie,J,se,Ce){if(typeof se=="object"&&se!==null&&se.type===W&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case z:e:{for(var Me=se.key,qe=J;qe!==null;){if(qe.key===Me){if(Me=se.type,Me===W){if(qe.tag===7){c(ie,qe.sibling),J=w(qe,se.props.children),J.return=ie,ie=J;break e}}else if(qe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&WK(Me)===qe.type){c(ie,qe.sibling),J=w(qe,se.props),J.ref=vd(ie,qe,se),J.return=ie,ie=J;break e}c(ie,qe);break}else a(ie,qe);qe=qe.sibling}se.type===W?(J=ul(se.props.children,ie.mode,Ce,se.key),J.return=ie,ie=J):(Ce=xg(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=vd(ie,J,se),Ce.return=ie,ie=Ce)}return T(ie);case V:e:{for(qe=se.key;J!==null;){if(J.key===qe)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){c(ie,J.sibling),J=w(J,se.children||[]),J.return=ie,ie=J;break e}else{c(ie,J);break}else a(ie,J);J=J.sibling}J=Jx(se,ie.mode,Ce),J.return=ie,ie=J}return T(ie);case q:return qe=se._init,zt(ie,J,qe(se._payload),Ce)}if(ke(se))return Be(ie,J,se,Ce);if(ge(se))return Fe(ie,J,se,Ce);rg(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(c(ie,J.sibling),J=w(J,se),J.return=ie,ie=J):(c(ie,J),J=Qx(se,ie.mode,Ce),J.return=ie,ie=J),T(ie)):c(ie,J)}return zt}var Ks=qK(!0),$K=qK(!1),yd={},mo=Ua(yd),bd=Ua(yd),kd=Ua(yd);function rl(r){if(r===yd)throw Error(o(174));return r}function vx(r,a){switch(mt(kd,a),mt(bd,r),mt(mo,yd),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ze(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Ze(a,r)}bt(mo),mt(mo,a)}function Ws(){bt(mo),bt(bd),bt(kd)}function LK(r){rl(kd.current);var a=rl(mo.current),c=Ze(a,r.type);a!==c&&(mt(bd,r),mt(mo,c))}function yx(r){bd.current===r&&(bt(mo),bt(bd))}var _t=Ua(0);function og(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bx=[];function kx(){for(var r=0;r<bx.length;r++)bx[r]._workInProgressVersionPrimary=null;bx.length=0}var ag=j.ReactCurrentDispatcher,wx=j.ReactCurrentBatchConfig,ol=0,Pt=null,Mt=null,Kt=null,ig=!1,wd=!1,xd=0,Aie=0;function dn(){throw Error(o(321))}function xx(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Dr(r[c],a[c]))return!1;return!0}function Sx(r,a,c,p,w,E){if(ol=E,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ag.current=r===null||r.memoizedState===null?Rie:Mie,r=c(p,w),wd){E=0;do{if(wd=!1,xd=0,25<=E)throw Error(o(301));E+=1,Kt=Mt=null,a.updateQueue=null,ag.current=Uie,r=c(p,w)}while(wd)}if(ag.current=ug,a=Mt!==null&&Mt.next!==null,ol=0,Kt=Mt=Pt=null,ig=!1,a)throw Error(o(300));return r}function Ex(){var r=xd!==0;return xd=0,r}function go(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function ar(){if(Mt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=Kt===null?Pt.memoizedState:Kt.next;if(a!==null)Kt=a,Mt=r;else{if(r===null)throw Error(o(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function Sd(r,a){return typeof a=="function"?a(r):a}function _x(r){var a=ar(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=Mt,w=p.baseQueue,E=c.pending;if(E!==null){if(w!==null){var T=w.next;w.next=E.next,E.next=T}p.baseQueue=w=E,c.pending=null}if(w!==null){E=w.next,p=p.baseState;var H=T=null,Y=null,pe=E;do{var _e=pe.lane;if((ol&_e)===_e)Y!==null&&(Y=Y.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:r(p,pe.action);else{var Pe={lane:_e,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Y===null?(H=Y=Pe,T=p):Y=Y.next=Pe,Pt.lanes|=_e,al|=_e}pe=pe.next}while(pe!==null&&pe!==E);Y===null?T=p:Y.next=H,Dr(p,a.memoizedState)||(jn=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=Y,c.lastRenderedState=p}if(r=c.interleaved,r!==null){w=r;do E=w.lane,Pt.lanes|=E,al|=E,w=w.next;while(w!==r)}else w===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Px(r){var a=ar(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=c.dispatch,w=c.pending,E=a.memoizedState;if(w!==null){c.pending=null;var T=w=w.next;do E=r(E,T.action),T=T.next;while(T!==w);Dr(E,a.memoizedState)||(jn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function ZK(){}function GK(r,a){var c=Pt,p=ar(),w=a(),E=!Dr(p.memoizedState,w);if(E&&(p.memoizedState=w,jn=!0),p=p.queue,Cx(QK.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Ed(9,YK.bind(null,c,p,w,a),void 0,null),Wt===null)throw Error(o(349));ol&30||XK(c,a,w)}return w}function XK(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function YK(r,a,c,p){a.value=c,a.getSnapshot=p,JK(a)&&eW(r)}function QK(r,a,c){return c(function(){JK(a)&&eW(r)})}function JK(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Dr(r,c)}catch{return!0}}function eW(r){var a=Lo(r,1);a!==null&&Rr(a,r,1,-1)}function tW(r){var a=go();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:r},a.queue=r,r=r.dispatch=Fie.bind(null,Pt,r),[a.memoizedState,r]}function Ed(r,a,c,p){return r={tag:r,create:a,destroy:c,deps:p,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,a.lastEffect=r)),r}function nW(){return ar().memoizedState}function lg(r,a,c,p){var w=go();Pt.flags|=r,w.memoizedState=Ed(1|a,c,void 0,p===void 0?null:p)}function sg(r,a,c,p){var w=ar();p=p===void 0?null:p;var E=void 0;if(Mt!==null){var T=Mt.memoizedState;if(E=T.destroy,p!==null&&xx(p,T.deps)){w.memoizedState=Ed(a,c,E,p);return}}Pt.flags|=r,w.memoizedState=Ed(1|a,c,E,p)}function rW(r,a){return lg(8390656,8,r,a)}function Cx(r,a){return sg(2048,8,r,a)}function oW(r,a){return sg(4,2,r,a)}function aW(r,a){return sg(4,4,r,a)}function iW(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function lW(r,a,c){return c=c!=null?c.concat([r]):null,sg(4,4,iW.bind(null,a,r),c)}function Ix(){}function sW(r,a){var c=ar();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&xx(a,p[1])?p[0]:(c.memoizedState=[r,a],r)}function uW(r,a){var c=ar();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&xx(a,p[1])?p[0]:(r=r(),c.memoizedState=[r,a],r)}function cW(r,a,c){return ol&21?(Dr(c,a)||(c=BH(),Pt.lanes|=c,al|=c,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,jn=!0),r.memoizedState=c)}function Bie(r,a){var c=ut;ut=c!==0&&4>c?c:4,r(!0);var p=wx.transition;wx.transition={};try{r(!1),a()}finally{ut=c,wx.transition=p}}function dW(){return ar().memoizedState}function Nie(r,a,c){var p=Za(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},fW(r))pW(a,c);else if(c=NK(r,a,c,p),c!==null){var w=xn();Rr(c,r,p,w),hW(c,a,p)}}function Fie(r,a,c){var p=Za(r),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(fW(r))pW(a,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var T=a.lastRenderedState,H=E(T,c);if(w.hasEagerState=!0,w.eagerState=H,Dr(H,T)){var Y=a.interleaved;Y===null?(w.next=w,px(a)):(w.next=Y.next,Y.next=w),a.interleaved=w;return}}catch{}finally{}c=NK(r,a,w,p),c!==null&&(w=xn(),Rr(c,r,p,w),hW(c,a,p))}}function fW(r){var a=r.alternate;return r===Pt||a!==null&&a===Pt}function pW(r,a){wd=ig=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function hW(r,a,c){if(c&4194240){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Ow(r,c)}}var ug={readContext:or,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Rie={readContext:or,useCallback:function(r,a){return go().memoizedState=[r,a===void 0?null:a],r},useContext:or,useEffect:rW,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,lg(4194308,4,iW.bind(null,a,r),c)},useLayoutEffect:function(r,a){return lg(4194308,4,r,a)},useInsertionEffect:function(r,a){return lg(4,2,r,a)},useMemo:function(r,a){var c=go();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var p=go();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},p.queue=r,r=r.dispatch=Nie.bind(null,Pt,r),[p.memoizedState,r]},useRef:function(r){var a=go();return r={current:r},a.memoizedState=r},useState:tW,useDebugValue:Ix,useDeferredValue:function(r){return go().memoizedState=r},useTransition:function(){var r=tW(!1),a=r[0];return r=Bie.bind(null,r[1]),go().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var p=Pt,w=go();if(wt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=a(),Wt===null)throw Error(o(349));ol&30||XK(p,a,c)}w.memoizedState=c;var E={value:c,getSnapshot:a};return w.queue=E,rW(QK.bind(null,p,E,r),[r]),p.flags|=2048,Ed(9,YK.bind(null,p,E,c,a),void 0,null),c},useId:function(){var r=go(),a=Wt.identifierPrefix;if(wt){var c=$o,p=qo;c=(p&~(1<<32-zr(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=xd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Aie++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},Mie={readContext:or,useCallback:sW,useContext:or,useEffect:Cx,useImperativeHandle:lW,useInsertionEffect:oW,useLayoutEffect:aW,useMemo:uW,useReducer:_x,useRef:nW,useState:function(){return _x(Sd)},useDebugValue:Ix,useDeferredValue:function(r){var a=ar();return cW(a,Mt.memoizedState,r)},useTransition:function(){var r=_x(Sd)[0],a=ar().memoizedState;return[r,a]},useMutableSource:ZK,useSyncExternalStore:GK,useId:dW,unstable_isNewReconciler:!1},Uie={readContext:or,useCallback:sW,useContext:or,useEffect:Cx,useImperativeHandle:lW,useInsertionEffect:oW,useLayoutEffect:aW,useMemo:uW,useReducer:Px,useRef:nW,useState:function(){return Px(Sd)},useDebugValue:Ix,useDeferredValue:function(r){var a=ar();return Mt===null?a.memoizedState=r:cW(a,Mt.memoizedState,r)},useTransition:function(){var r=Px(Sd)[0],a=ar().memoizedState;return[r,a]},useMutableSource:ZK,useSyncExternalStore:GK,useId:dW,unstable_isNewReconciler:!1};function qs(r,a){try{var c="",p=a;do c+=te(p),p=p.return;while(p);var w=c}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:a,stack:w,digest:null}}function jx(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function Ox(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Vie=typeof WeakMap=="function"?WeakMap:Map;function mW(r,a,c){c=Zo(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){gg||(gg=!0,Wx=p),Ox(r,a)},c}function gW(r,a,c){c=Zo(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=a.value;c.payload=function(){return p(w)},c.callback=function(){Ox(r,a)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Ox(r,a),typeof p!="function"&&($a===null?$a=new Set([this]):$a.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function vW(r,a,c){var p=r.pingCache;if(p===null){p=r.pingCache=new Vie;var w=new Set;p.set(a,w)}else w=p.get(a),w===void 0&&(w=new Set,p.set(a,w));w.has(c)||(w.add(c),r=tle.bind(null,r,a,c),a.then(r,r))}function yW(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function bW(r,a,c,p,w){return r.mode&1?(r.flags|=65536,r.lanes=w,r):(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Zo(-1,1),a.tag=2,Wa(c,a,1))),c.lanes|=1),r)}var Hie=j.ReactCurrentOwner,jn=!1;function wn(r,a,c,p){a.child=r===null?$K(a,null,c,p):Ks(a,r.child,c,p)}function kW(r,a,c,p,w){c=c.render;var E=a.ref;return Hs(a,w),p=Sx(r,a,c,p,E,w),c=Ex(),r!==null&&!jn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Go(r,a,w)):(wt&&c&&ox(a),a.flags|=1,wn(r,a,p,w),a.child)}function wW(r,a,c,p,w){if(r===null){var E=c.type;return typeof E=="function"&&!Yx(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,xW(r,a,E,p,w)):(r=xg(c.type,null,p,a,a.mode,w),r.ref=a.ref,r.return=a,a.child=r)}if(E=r.child,!(r.lanes&w)){var T=E.memoizedProps;if(c=c.compare,c=c!==null?c:cd,c(T,p)&&r.ref===a.ref)return Go(r,a,w)}return a.flags|=1,r=Xa(E,p),r.ref=a.ref,r.return=a,a.child=r}function xW(r,a,c,p,w){if(r!==null){var E=r.memoizedProps;if(cd(E,p)&&r.ref===a.ref)if(jn=!1,a.pendingProps=p=E,(r.lanes&w)!==0)r.flags&131072&&(jn=!0);else return a.lanes=r.lanes,Go(r,a,w)}return Tx(r,a,c,p,w)}function SW(r,a,c){var p=a.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ls,Kn),Kn|=c;else{if(!(c&1073741824))return r=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,mt(Ls,Kn),Kn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,mt(Ls,Kn),Kn|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,mt(Ls,Kn),Kn|=p;return wn(r,a,w,c),a.child}function EW(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Tx(r,a,c,p,w){var E=In(c)?Ji:cn.current;return E=Fs(a,E),Hs(a,w),c=Sx(r,a,c,p,E,w),p=Ex(),r!==null&&!jn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Go(r,a,w)):(wt&&p&&ox(a),a.flags|=1,wn(r,a,c,w),a.child)}function _W(r,a,c,p,w){if(In(c)){var E=!0;Lm(a)}else E=!1;if(Hs(a,w),a.stateNode===null)dg(r,a),HK(a,c,p),gx(a,c,p,w),p=!0;else if(r===null){var T=a.stateNode,H=a.memoizedProps;T.props=H;var Y=T.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=or(pe):(pe=In(c)?Ji:cn.current,pe=Fs(a,pe));var _e=c.getDerivedStateFromProps,Pe=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function";Pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==p||Y!==pe)&&KK(a,T,p,pe),Ka=!1;var Ee=a.memoizedState;T.state=Ee,tg(a,p,T,w),Y=a.memoizedState,H!==p||Ee!==Y||Cn.current||Ka?(typeof _e=="function"&&(mx(a,c,_e,p),Y=a.memoizedState),(H=Ka||VK(a,c,H,p,Ee,Y,pe))?(Pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Y),T.props=p,T.state=Y,T.context=pe,p=H):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,FK(r,a),H=a.memoizedProps,pe=a.type===a.elementType?H:Br(a.type,H),T.props=pe,Pe=a.pendingProps,Ee=T.context,Y=c.contextType,typeof Y=="object"&&Y!==null?Y=or(Y):(Y=In(c)?Ji:cn.current,Y=Fs(a,Y));var Te=c.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==Pe||Ee!==Y)&&KK(a,T,p,Y),Ka=!1,Ee=a.memoizedState,T.state=Ee,tg(a,p,T,w);var Be=a.memoizedState;H!==Pe||Ee!==Be||Cn.current||Ka?(typeof Te=="function"&&(mx(a,c,Te,p),Be=a.memoizedState),(pe=Ka||VK(a,c,pe,p,Ee,Be,Y)||!1)?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Be,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Be,Y)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Be),T.props=p,T.state=Be,T.context=Y,p=pe):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),p=!1)}return zx(r,a,c,p,E,w)}function zx(r,a,c,p,w,E){EW(r,a);var T=(a.flags&128)!==0;if(!p&&!T)return w&&jK(a,c,!1),Go(r,a,E);p=a.stateNode,Hie.current=a;var H=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&T?(a.child=Ks(a,r.child,null,E),a.child=Ks(a,null,H,E)):wn(r,a,H,E),a.memoizedState=p.state,w&&jK(a,c,!0),a.child}function PW(r){var a=r.stateNode;a.pendingContext?CK(r,a.pendingContext,a.pendingContext!==a.context):a.context&&CK(r,a.context,!1),vx(r,a.containerInfo)}function CW(r,a,c,p,w){return Us(),sx(w),a.flags|=256,wn(r,a,c,p),a.child}var Dx={dehydrated:null,treeContext:null,retryLane:0};function Ax(r){return{baseLanes:r,cachePool:null,transitions:null}}function IW(r,a,c){var p=a.pendingProps,w=_t.current,E=!1,T=(a.flags&128)!==0,H;if((H=T)||(H=r!==null&&r.memoizedState===null?!1:(w&2)!==0),H?(E=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),mt(_t,w&1),r===null)return lx(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(T=p.children,r=p.fallback,E?(p=a.mode,E=a.child,T={mode:"hidden",children:T},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=T):E=Sg(T,p,0,null),r=ul(r,p,c,null),E.return=a,r.return=a,E.sibling=r,a.child=E,a.child.memoizedState=Ax(c),a.memoizedState=Dx,r):Bx(a,T));if(w=r.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return Kie(r,a,T,p,H,w,c);if(E){E=p.fallback,T=a.mode,w=r.child,H=w.sibling;var Y={mode:"hidden",children:p.children};return!(T&1)&&a.child!==w?(p=a.child,p.childLanes=0,p.pendingProps=Y,a.deletions=null):(p=Xa(w,Y),p.subtreeFlags=w.subtreeFlags&14680064),H!==null?E=Xa(H,E):(E=ul(E,T,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,T=r.child.memoizedState,T=T===null?Ax(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},E.memoizedState=T,E.childLanes=r.childLanes&~c,a.memoizedState=Dx,p}return E=r.child,r=E.sibling,p=Xa(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=p,a.memoizedState=null,p}function Bx(r,a){return a=Sg({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function cg(r,a,c,p){return p!==null&&sx(p),Ks(a,r.child,null,c),r=Bx(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Kie(r,a,c,p,w,E,T){if(c)return a.flags&256?(a.flags&=-257,p=jx(Error(o(422))),cg(r,a,T,p)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(E=p.fallback,w=a.mode,p=Sg({mode:"visible",children:p.children},w,0,null),E=ul(E,w,T,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&Ks(a,r.child,null,T),a.child.memoizedState=Ax(T),a.memoizedState=Dx,E);if(!(a.mode&1))return cg(r,a,T,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var H=p.dgst;return p=H,E=Error(o(419)),p=jx(E,p,void 0),cg(r,a,T,p)}if(H=(T&r.childLanes)!==0,jn||H){if(p=Wt,p!==null){switch(T&-T){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|T)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Lo(r,w),Rr(p,r,w,-1))}return Xx(),p=jx(Error(o(421))),cg(r,a,T,p)}return w.data==="$?"?(a.flags|=128,a.child=r.child,a=nle.bind(null,r),w._reactRetry=a,null):(r=E.treeContext,Hn=Ma(w.nextSibling),Vn=a,wt=!0,Ar=null,r!==null&&(nr[rr++]=qo,nr[rr++]=$o,nr[rr++]=el,qo=r.id,$o=r.overflow,el=a),a=Bx(a,p.children),a.flags|=4096,a)}function jW(r,a,c){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),fx(r.return,a,c)}function Nx(r,a,c,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=w)}function OW(r,a,c){var p=a.pendingProps,w=p.revealOrder,E=p.tail;if(wn(r,a,p.children,c),p=_t.current,p&2)p=p&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jW(r,c,a);else if(r.tag===19)jW(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(mt(_t,p),!(a.mode&1))a.memoizedState=null;else switch(w){case"forwards":for(c=a.child,w=null;c!==null;)r=c.alternate,r!==null&&og(r)===null&&(w=c),c=c.sibling;c=w,c===null?(w=a.child,a.child=null):(w=c.sibling,c.sibling=null),Nx(a,!1,w,c,E);break;case"backwards":for(c=null,w=a.child,a.child=null;w!==null;){if(r=w.alternate,r!==null&&og(r)===null){a.child=w;break}r=w.sibling,w.sibling=c,c=w,w=r}Nx(a,!0,c,null,E);break;case"together":Nx(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function dg(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Go(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),al|=a.lanes,!(c&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(o(153));if(a.child!==null){for(r=a.child,c=Xa(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Xa(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Wie(r,a,c){switch(a.tag){case 3:PW(a),Us();break;case 5:LK(a);break;case 1:In(a.type)&&Lm(a);break;case 4:vx(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,w=a.memoizedProps.value;mt(Qm,p._currentValue),p._currentValue=w;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(mt(_t,_t.current&1),a.flags|=128,null):c&a.child.childLanes?IW(r,a,c):(mt(_t,_t.current&1),r=Go(r,a,c),r!==null?r.sibling:null);mt(_t,_t.current&1);break;case 19:if(p=(c&a.childLanes)!==0,r.flags&128){if(p)return OW(r,a,c);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(_t,_t.current),p)break;return null;case 22:case 23:return a.lanes=0,SW(r,a,c)}return Go(r,a,c)}var TW,Fx,zW,DW;TW=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fx=function(){},zW=function(r,a,c,p){var w=r.memoizedProps;if(w!==p){r=a.stateNode,rl(mo.current);var E=null;switch(c){case"input":w=fe(r,w),p=fe(r,p),E=[];break;case"select":w=A({},w,{value:void 0}),p=A({},p,{value:void 0}),E=[];break;case"textarea":w=Se(r,w),p=Se(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Wm)}_s(c,p);var T;c=null;for(pe in w)if(!p.hasOwnProperty(pe)&&w.hasOwnProperty(pe)&&w[pe]!=null)if(pe==="style"){var H=w[pe];for(T in H)H.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(l.hasOwnProperty(pe)?E||(E=[]):(E=E||[]).push(pe,null));for(pe in p){var Y=p[pe];if(H=w!=null?w[pe]:void 0,p.hasOwnProperty(pe)&&Y!==H&&(Y!=null||H!=null))if(pe==="style")if(H){for(T in H)!H.hasOwnProperty(T)||Y&&Y.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in Y)Y.hasOwnProperty(T)&&H[T]!==Y[T]&&(c||(c={}),c[T]=Y[T])}else c||(E||(E=[]),E.push(pe,c)),c=Y;else pe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(E=E||[]).push(pe,Y)):pe==="children"?typeof Y!="string"&&typeof Y!="number"||(E=E||[]).push(pe,""+Y):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(l.hasOwnProperty(pe)?(Y!=null&&pe==="onScroll"&&yt("scroll",r),E||H===Y||(E=[])):(E=E||[]).push(pe,Y))}c&&(E=E||[]).push("style",c);var pe=E;(a.updateQueue=pe)&&(a.flags|=4)}},DW=function(r,a,c,p){c!==p&&(a.flags|=4)};function _d(r,a){if(!wt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function fn(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(a)for(var w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=c,a}function qie(r,a,c){var p=a.pendingProps;switch(ax(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(a),null;case 1:return In(a.type)&&$m(),fn(a),null;case 3:return p=a.stateNode,Ws(),bt(Cn),bt(cn),kx(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Ym(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Ar!==null&&(Lx(Ar),Ar=null))),Fx(r,a),fn(a),null;case 5:yx(a);var w=rl(kd.current);if(c=a.type,r!==null&&a.stateNode!=null)zW(r,a,c,p,w),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(o(166));return fn(a),null}if(r=rl(mo.current),Ym(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[ho]=a,p[md]=E,r=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(w=0;w<fd.length;w++)yt(fd[w],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":ce(p,E),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},yt("invalid",p);break;case"textarea":ye(p,E),yt("invalid",p)}_s(c,E),w=null;for(var T in E)if(E.hasOwnProperty(T)){var H=E[T];T==="children"?typeof H=="string"?p.textContent!==H&&(E.suppressHydrationWarning!==!0&&Km(p.textContent,H,r),w=["children",H]):typeof H=="number"&&p.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&Km(p.textContent,H,r),w=["children",""+H]):l.hasOwnProperty(T)&&H!=null&&T==="onScroll"&&yt("scroll",p)}switch(c){case"input":Ve(p),ne(p,E,!0);break;case"textarea":Ve(p),Ue(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Wm)}p=w,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ot(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=T.createElement(c,{is:p.is}):(r=T.createElement(c),c==="select"&&(T=r,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):r=T.createElementNS(r,c),r[ho]=a,r[md]=p,TW(r,a,!1,!1),a.stateNode=r;e:{switch(T=Lc(c,p),c){case"dialog":yt("cancel",r),yt("close",r),w=p;break;case"iframe":case"object":case"embed":yt("load",r),w=p;break;case"video":case"audio":for(w=0;w<fd.length;w++)yt(fd[w],r);w=p;break;case"source":yt("error",r),w=p;break;case"img":case"image":case"link":yt("error",r),yt("load",r),w=p;break;case"details":yt("toggle",r),w=p;break;case"input":ce(r,p),w=fe(r,p),yt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=A({},p,{value:void 0}),yt("invalid",r);break;case"textarea":ye(r,p),w=Se(r,p),yt("invalid",r);break;default:w=p}_s(c,w),H=w;for(E in H)if(H.hasOwnProperty(E)){var Y=H[E];E==="style"?Es(r,Y):E==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&za(r,Y)):E==="children"?typeof Y=="string"?(c!=="textarea"||Y!=="")&&un(r,Y):typeof Y=="number"&&un(r,""+Y):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?Y!=null&&E==="onScroll"&&yt("scroll",r):Y!=null&&O(r,E,Y,T))}switch(c){case"input":Ve(r),ne(r,p,!1);break;case"textarea":Ve(r),Ue(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ie(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?ae(r,!!p.multiple,E,!1):p.defaultValue!=null&&ae(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=Wm)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return fn(a),null;case 6:if(r&&a.stateNode!=null)DW(r,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(o(166));if(c=rl(kd.current),rl(mo.current),Ym(a)){if(p=a.stateNode,c=a.memoizedProps,p[ho]=a,(E=p.nodeValue!==c)&&(r=Vn,r!==null))switch(r.tag){case 3:Km(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Km(p.nodeValue,c,(r.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ho]=a,a.stateNode=p}return fn(a),null;case 13:if(bt(_t),p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&Hn!==null&&a.mode&1&&!(a.flags&128))BK(),Us(),a.flags|=98560,E=!1;else if(E=Ym(a),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(o(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));E[ho]=a}else Us(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;fn(a),E=!1}else Ar!==null&&(Lx(Ar),Ar=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(r===null||_t.current&1?Ut===0&&(Ut=3):Xx())),a.updateQueue!==null&&(a.flags|=4),fn(a),null);case 4:return Ws(),Fx(r,a),r===null&&pd(a.stateNode.containerInfo),fn(a),null;case 10:return dx(a.type._context),fn(a),null;case 17:return In(a.type)&&$m(),fn(a),null;case 19:if(bt(_t),E=a.memoizedState,E===null)return fn(a),null;if(p=(a.flags&128)!==0,T=E.rendering,T===null)if(p)_d(E,!1);else{if(Ut!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(T=og(r),T!==null){for(a.flags|=128,_d(E,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,r=p,E.flags&=14680066,T=E.alternate,T===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=T.childLanes,E.lanes=T.lanes,E.child=T.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=T.memoizedProps,E.memoizedState=T.memoizedState,E.updateQueue=T.updateQueue,E.type=T.type,r=T.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return mt(_t,_t.current&1|2),a.child}r=r.sibling}E.tail!==null&&Tt()>Zs&&(a.flags|=128,p=!0,_d(E,!1),a.lanes=4194304)}else{if(!p)if(r=og(T),r!==null){if(a.flags|=128,p=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),_d(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!wt)return fn(a),null}else 2*Tt()-E.renderingStartTime>Zs&&c!==1073741824&&(a.flags|=128,p=!0,_d(E,!1),a.lanes=4194304);E.isBackwards?(T.sibling=a.child,a.child=T):(c=E.last,c!==null?c.sibling=T:a.child=T,E.last=T)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Tt(),a.sibling=null,c=_t.current,mt(_t,p?c&1|2:c&1),a):(fn(a),null);case 22:case 23:return Gx(),p=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Kn&1073741824&&(fn(a),a.subtreeFlags&6&&(a.flags|=8192)):fn(a),null;case 24:return null;case 25:return null}throw Error(o(156,a.tag))}function $ie(r,a){switch(ax(a),a.tag){case 1:return In(a.type)&&$m(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ws(),bt(Cn),bt(cn),kx(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return yx(a),null;case 13:if(bt(_t),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Us()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(_t),null;case 4:return Ws(),null;case 10:return dx(a.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var fg=!1,pn=!1,Lie=typeof WeakSet=="function"?WeakSet:Set,De=null;function $s(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ct(r,a,p)}else c.current=null}function AW(r,a,c){try{c()}catch(p){Ct(r,a,p)}}var BW=!1;function Zie(r,a){if(Xw=jm,r=uK(),Ww(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var T=0,H=-1,Y=-1,pe=0,_e=0,Pe=r,Ee=null;t:for(;;){for(var Te;Pe!==c||w!==0&&Pe.nodeType!==3||(H=T+w),Pe!==E||p!==0&&Pe.nodeType!==3||(Y=T+p),Pe.nodeType===3&&(T+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ee=Pe,Pe=Te;for(;;){if(Pe===r)break t;if(Ee===c&&++pe===w&&(H=T),Ee===E&&++_e===p&&(Y=T),(Te=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Te}c=H===-1||Y===-1?null:{start:H,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yw={focusedElem:r,selectionRange:c},jm=!1,De=a;De!==null;)if(a=De,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,De=r;else for(;De!==null;){a=De;try{var Be=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Fe=Be.memoizedProps,zt=Be.memoizedState,ie=a.stateNode,J=ie.getSnapshotBeforeUpdate(a.elementType===a.type?Fe:Br(a.type,Fe),zt);ie.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=a.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Ct(a,a.return,Ce)}if(r=a.sibling,r!==null){r.return=a.return,De=r;break}De=a.return}return Be=BW,BW=!1,Be}function Pd(r,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&AW(a,c,E)}w=w.next}while(w!==p)}}function pg(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Rx(r){var a=r.ref;if(a!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof a=="function"?a(r):a.current=r}}function NW(r){var a=r.alternate;a!==null&&(r.alternate=null,NW(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[ho],delete a[md],delete a[tx],delete a[Oie],delete a[Tie])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function FW(r){return r.tag===5||r.tag===3||r.tag===4}function RW(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||FW(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mx(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Wm));else if(p!==4&&(r=r.child,r!==null))for(Mx(r,a,c),r=r.sibling;r!==null;)Mx(r,a,c),r=r.sibling}function Ux(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Ux(r,a,c),r=r.sibling;r!==null;)Ux(r,a,c),r=r.sibling}var nn=null,Nr=!1;function qa(r,a,c){for(c=c.child;c!==null;)MW(r,a,c),c=c.sibling}function MW(r,a,c){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(Sm,c)}catch{}switch(c.tag){case 5:pn||$s(c,a);case 6:var p=nn,w=Nr;nn=null,qa(r,a,c),nn=p,Nr=w,nn!==null&&(Nr?(r=nn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(Nr?(r=nn,c=c.stateNode,r.nodeType===8?ex(r.parentNode,c):r.nodeType===1&&ex(r,c),od(r)):ex(nn,c.stateNode));break;case 4:p=nn,w=Nr,nn=c.stateNode.containerInfo,Nr=!0,qa(r,a,c),nn=p,Nr=w;break;case 0:case 11:case 14:case 15:if(!pn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&AW(c,a,T),w=w.next}while(w!==p)}qa(r,a,c);break;case 1:if(!pn&&($s(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(H){Ct(c,a,H)}qa(r,a,c);break;case 21:qa(r,a,c);break;case 22:c.mode&1?(pn=(p=pn)||c.memoizedState!==null,qa(r,a,c),pn=p):qa(r,a,c);break;default:qa(r,a,c)}}function UW(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Lie),a.forEach(function(p){var w=rle.bind(null,r,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Fr(r,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var E=r,T=a,H=T;e:for(;H!==null;){switch(H.tag){case 5:nn=H.stateNode,Nr=!1;break e;case 3:nn=H.stateNode.containerInfo,Nr=!0;break e;case 4:nn=H.stateNode.containerInfo,Nr=!0;break e}H=H.return}if(nn===null)throw Error(o(160));MW(E,T,w),nn=null,Nr=!1;var Y=w.alternate;Y!==null&&(Y.return=null),w.return=null}catch(pe){Ct(w,a,pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)VW(a,r),a=a.sibling}function VW(r,a){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fr(a,r),vo(r),p&4){try{Pd(3,r,r.return),pg(3,r)}catch(Fe){Ct(r,r.return,Fe)}try{Pd(5,r,r.return)}catch(Fe){Ct(r,r.return,Fe)}}break;case 1:Fr(a,r),vo(r),p&512&&c!==null&&$s(c,c.return);break;case 5:if(Fr(a,r),vo(r),p&512&&c!==null&&$s(c,c.return),r.flags&32){var w=r.stateNode;try{un(w,"")}catch(Fe){Ct(r,r.return,Fe)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,T=c!==null?c.memoizedProps:E,H=r.type,Y=r.updateQueue;if(r.updateQueue=null,Y!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&U(w,E),Lc(H,T);var pe=Lc(H,E);for(T=0;T<Y.length;T+=2){var _e=Y[T],Pe=Y[T+1];_e==="style"?Es(w,Pe):_e==="dangerouslySetInnerHTML"?za(w,Pe):_e==="children"?un(w,Pe):O(w,_e,Pe,pe)}switch(H){case"input":R(w,E);break;case"textarea":we(w,E);break;case"select":var Ee=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?ae(w,!!E.multiple,Te,!1):Ee!==!!E.multiple&&(E.defaultValue!=null?ae(w,!!E.multiple,E.defaultValue,!0):ae(w,!!E.multiple,E.multiple?[]:"",!1))}w[md]=E}catch(Fe){Ct(r,r.return,Fe)}}break;case 6:if(Fr(a,r),vo(r),p&4){if(r.stateNode===null)throw Error(o(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(Fe){Ct(r,r.return,Fe)}}break;case 3:if(Fr(a,r),vo(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{od(a.containerInfo)}catch(Fe){Ct(r,r.return,Fe)}break;case 4:Fr(a,r),vo(r);break;case 13:Fr(a,r),vo(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Kx=Tt())),p&4&&UW(r);break;case 22:if(_e=c!==null&&c.memoizedState!==null,r.mode&1?(pn=(pe=pn)||_e,Fr(a,r),pn=pe):Fr(a,r),vo(r),p&8192){if(pe=r.memoizedState!==null,(r.stateNode.isHidden=pe)&&!_e&&r.mode&1)for(De=r,_e=r.child;_e!==null;){for(Pe=De=_e;De!==null;){switch(Ee=De,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Pd(4,Ee,Ee.return);break;case 1:$s(Ee,Ee.return);var Be=Ee.stateNode;if(typeof Be.componentWillUnmount=="function"){p=Ee,c=Ee.return;try{a=p,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(Fe){Ct(p,c,Fe)}}break;case 5:$s(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){WW(Pe);continue}}Te!==null?(Te.return=Ee,De=Te):WW(Pe)}_e=_e.sibling}e:for(_e=null,Pe=r;;){if(Pe.tag===5){if(_e===null){_e=Pe;try{w=Pe.stateNode,pe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=Pe.stateNode,Y=Pe.memoizedProps.style,T=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=Xi("display",T))}catch(Fe){Ct(r,r.return,Fe)}}}else if(Pe.tag===6){if(_e===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Fe){Ct(r,r.return,Fe)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===r)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===r)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===r)break e;_e===Pe&&(_e=null),Pe=Pe.return}_e===Pe&&(_e=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Fr(a,r),vo(r),p&4&&UW(r);break;case 21:break;default:Fr(a,r),vo(r)}}function vo(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(FW(c)){var p=c;break e}c=c.return}throw Error(o(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(un(w,""),p.flags&=-33);var E=RW(r);Ux(r,E,w);break;case 3:case 4:var T=p.stateNode.containerInfo,H=RW(r);Mx(r,H,T);break;default:throw Error(o(161))}}catch(Y){Ct(r,r.return,Y)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Gie(r,a,c){De=r,HW(r)}function HW(r,a,c){for(var p=(r.mode&1)!==0;De!==null;){var w=De,E=w.child;if(w.tag===22&&p){var T=w.memoizedState!==null||fg;if(!T){var H=w.alternate,Y=H!==null&&H.memoizedState!==null||pn;H=fg;var pe=pn;if(fg=T,(pn=Y)&&!pe)for(De=w;De!==null;)T=De,Y=T.child,T.tag===22&&T.memoizedState!==null?qW(w):Y!==null?(Y.return=T,De=Y):qW(w);for(;E!==null;)De=E,HW(E),E=E.sibling;De=w,fg=H,pn=pe}KW(r)}else w.subtreeFlags&8772&&E!==null?(E.return=w,De=E):KW(r)}}function KW(r){for(;De!==null;){var a=De;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:pn||pg(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!pn)if(c===null)p.componentDidMount();else{var w=a.elementType===a.type?c.memoizedProps:Br(a.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&MK(a,E,p);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}MK(a,T,c)}break;case 5:var H=a.stateNode;if(c===null&&a.flags&4){c=H;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&c.focus();break;case"img":Y.src&&(c.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var pe=a.alternate;if(pe!==null){var _e=pe.memoizedState;if(_e!==null){var Pe=_e.dehydrated;Pe!==null&&od(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pn||a.flags&512&&Rx(a)}catch(Ee){Ct(a,a.return,Ee)}}if(a===r){De=null;break}if(c=a.sibling,c!==null){c.return=a.return,De=c;break}De=a.return}}function WW(r){for(;De!==null;){var a=De;if(a===r){De=null;break}var c=a.sibling;if(c!==null){c.return=a.return,De=c;break}De=a.return}}function qW(r){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{pg(4,a)}catch(Y){Ct(a,c,Y)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var w=a.return;try{p.componentDidMount()}catch(Y){Ct(a,w,Y)}}var E=a.return;try{Rx(a)}catch(Y){Ct(a,E,Y)}break;case 5:var T=a.return;try{Rx(a)}catch(Y){Ct(a,T,Y)}}}catch(Y){Ct(a,a.return,Y)}if(a===r){De=null;break}var H=a.sibling;if(H!==null){H.return=a.return,De=H;break}De=a.return}}var Xie=Math.ceil,hg=j.ReactCurrentDispatcher,Vx=j.ReactCurrentOwner,ir=j.ReactCurrentBatchConfig,at=0,Wt=null,Nt=null,rn=0,Kn=0,Ls=Ua(0),Ut=0,Cd=null,al=0,mg=0,Hx=0,Id=null,On=null,Kx=0,Zs=1/0,Xo=null,gg=!1,Wx=null,$a=null,vg=!1,La=null,yg=0,jd=0,qx=null,bg=-1,kg=0;function xn(){return at&6?Tt():bg!==-1?bg:bg=Tt()}function Za(r){return r.mode&1?at&2&&rn!==0?rn&-rn:Die.transition!==null?(kg===0&&(kg=BH()),kg):(r=ut,r!==0||(r=window.event,r=r===void 0?16:WH(r.type)),r):1}function Rr(r,a,c,p){if(50<jd)throw jd=0,qx=null,Error(o(185));Jc(r,c,p),(!(at&2)||r!==Wt)&&(r===Wt&&(!(at&2)&&(mg|=c),Ut===4&&Ga(r,rn)),Tn(r,p),c===1&&at===0&&!(a.mode&1)&&(Zs=Tt()+500,Zm&&Ha()))}function Tn(r,a){var c=r.callbackNode;Bae(r,a);var p=Pm(r,r===Wt?rn:0);if(p===0)c!==null&&zH(c),r.callbackNode=null,r.callbackPriority=0;else if(a=p&-p,r.callbackPriority!==a){if(c!=null&&zH(c),a===1)r.tag===0?zie(LW.bind(null,r)):OK(LW.bind(null,r)),Iie(function(){!(at&6)&&Ha()}),c=null;else{switch(NH(p)){case 1:c=Cw;break;case 4:c=DH;break;case 16:c=xm;break;case 536870912:c=AH;break;default:c=xm}c=tq(c,$W.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function $W(r,a){if(bg=-1,kg=0,at&6)throw Error(o(327));var c=r.callbackNode;if(Gs()&&r.callbackNode!==c)return null;var p=Pm(r,r===Wt?rn:0);if(p===0)return null;if(p&30||p&r.expiredLanes||a)a=wg(r,p);else{a=p;var w=at;at|=2;var E=GW();(Wt!==r||rn!==a)&&(Xo=null,Zs=Tt()+500,ll(r,a));do try{Jie();break}catch(H){ZW(r,H)}while(!0);cx(),hg.current=E,at=w,Nt!==null?a=0:(Wt=null,rn=0,a=Ut)}if(a!==0){if(a===2&&(w=Iw(r),w!==0&&(p=w,a=$x(r,w))),a===1)throw c=Cd,ll(r,0),Ga(r,p),Tn(r,Tt()),c;if(a===6)Ga(r,p);else{if(w=r.current.alternate,!(p&30)&&!Yie(w)&&(a=wg(r,p),a===2&&(E=Iw(r),E!==0&&(p=E,a=$x(r,E))),a===1))throw c=Cd,ll(r,0),Ga(r,p),Tn(r,Tt()),c;switch(r.finishedWork=w,r.finishedLanes=p,a){case 0:case 1:throw Error(o(345));case 2:sl(r,On,Xo);break;case 3:if(Ga(r,p),(p&130023424)===p&&(a=Kx+500-Tt(),10<a)){if(Pm(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){xn(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=Jw(sl.bind(null,r,On,Xo),a);break}sl(r,On,Xo);break;case 4:if(Ga(r,p),(p&4194240)===p)break;for(a=r.eventTimes,w=-1;0<p;){var T=31-zr(p);E=1<<T,T=a[T],T>w&&(w=T),p&=~E}if(p=w,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Xie(p/1960))-p,10<p){r.timeoutHandle=Jw(sl.bind(null,r,On,Xo),p);break}sl(r,On,Xo);break;case 5:sl(r,On,Xo);break;default:throw Error(o(329))}}}return Tn(r,Tt()),r.callbackNode===c?$W.bind(null,r):null}function $x(r,a){var c=Id;return r.current.memoizedState.isDehydrated&&(ll(r,a).flags|=256),r=wg(r,a),r!==2&&(a=On,On=c,a!==null&&Lx(a)),r}function Lx(r){On===null?On=r:On.push.apply(On,r)}function Yie(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],E=w.getSnapshot;w=w.value;try{if(!Dr(E(),w))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ga(r,a){for(a&=~Hx,a&=~mg,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-zr(a),p=1<<c;r[c]=-1,a&=~p}}function LW(r){if(at&6)throw Error(o(327));Gs();var a=Pm(r,0);if(!(a&1))return Tn(r,Tt()),null;var c=wg(r,a);if(r.tag!==0&&c===2){var p=Iw(r);p!==0&&(a=p,c=$x(r,p))}if(c===1)throw c=Cd,ll(r,0),Ga(r,a),Tn(r,Tt()),c;if(c===6)throw Error(o(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,sl(r,On,Xo),Tn(r,Tt()),null}function Zx(r,a){var c=at;at|=1;try{return r(a)}finally{at=c,at===0&&(Zs=Tt()+500,Zm&&Ha())}}function il(r){La!==null&&La.tag===0&&!(at&6)&&Gs();var a=at;at|=1;var c=ir.transition,p=ut;try{if(ir.transition=null,ut=1,r)return r()}finally{ut=p,ir.transition=c,at=a,!(at&6)&&Ha()}}function Gx(){Kn=Ls.current,bt(Ls)}function ll(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Cie(c)),Nt!==null)for(c=Nt.return;c!==null;){var p=c;switch(ax(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&$m();break;case 3:Ws(),bt(Cn),bt(cn),kx();break;case 5:yx(p);break;case 4:Ws();break;case 13:bt(_t);break;case 19:bt(_t);break;case 10:dx(p.type._context);break;case 22:case 23:Gx()}c=c.return}if(Wt=r,Nt=r=Xa(r.current,null),rn=Kn=a,Ut=0,Cd=null,Hx=mg=al=0,On=Id=null,nl!==null){for(a=0;a<nl.length;a++)if(c=nl[a],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,E=c.pending;if(E!==null){var T=E.next;E.next=w,p.next=T}c.pending=p}nl=null}return r}function ZW(r,a){do{var c=Nt;try{if(cx(),ag.current=ug,ig){for(var p=Pt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}ig=!1}if(ol=0,Kt=Mt=Pt=null,wd=!1,xd=0,Vx.current=null,c===null||c.return===null){Ut=1,Cd=a,Nt=null;break}e:{var E=r,T=c.return,H=c,Y=a;if(a=rn,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var pe=Y,_e=H,Pe=_e.tag;if(!(_e.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=yW(T);if(Te!==null){Te.flags&=-257,bW(Te,T,H,E,a),Te.mode&1&&vW(E,pe,a),a=Te,Y=pe;var Be=a.updateQueue;if(Be===null){var Fe=new Set;Fe.add(Y),a.updateQueue=Fe}else Be.add(Y);break e}else{if(!(a&1)){vW(E,pe,a),Xx();break e}Y=Error(o(426))}}else if(wt&&H.mode&1){var zt=yW(T);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),bW(zt,T,H,E,a),sx(qs(Y,H));break e}}E=Y=qs(Y,H),Ut!==4&&(Ut=2),Id===null?Id=[E]:Id.push(E),E=T;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ie=mW(E,Y,a);RK(E,ie);break e;case 1:H=Y;var J=E.type,se=E.stateNode;if(!(E.flags&128)&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&($a===null||!$a.has(se)))){E.flags|=65536,a&=-a,E.lanes|=a;var Ce=gW(E,H,a);RK(E,Ce);break e}}E=E.return}while(E!==null)}YW(c)}catch(Me){a=Me,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}while(!0)}function GW(){var r=hg.current;return hg.current=ug,r===null?ug:r}function Xx(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||!(al&268435455)&&!(mg&268435455)||Ga(Wt,rn)}function wg(r,a){var c=at;at|=2;var p=GW();(Wt!==r||rn!==a)&&(Xo=null,ll(r,a));do try{Qie();break}catch(w){ZW(r,w)}while(!0);if(cx(),at=c,hg.current=p,Nt!==null)throw Error(o(261));return Wt=null,rn=0,Ut}function Qie(){for(;Nt!==null;)XW(Nt)}function Jie(){for(;Nt!==null&&!Pae();)XW(Nt)}function XW(r){var a=eq(r.alternate,r,Kn);r.memoizedProps=r.pendingProps,a===null?YW(r):Nt=a,Vx.current=null}function YW(r){var a=r;do{var c=a.alternate;if(r=a.return,a.flags&32768){if(c=$ie(c,a),c!==null){c.flags&=32767,Nt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ut=6,Nt=null;return}}else if(c=qie(c,a,Kn),c!==null){Nt=c;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=r}while(a!==null);Ut===0&&(Ut=5)}function sl(r,a,c){var p=ut,w=ir.transition;try{ir.transition=null,ut=1,ele(r,a,c,p)}finally{ir.transition=w,ut=p}return null}function ele(r,a,c,p){do Gs();while(La!==null);if(at&6)throw Error(o(327));c=r.finishedWork;var w=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(o(177));r.callbackNode=null,r.callbackPriority=0;var E=c.lanes|c.childLanes;if(Nae(r,E),r===Wt&&(Nt=Wt=null,rn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||vg||(vg=!0,tq(xm,function(){return Gs(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=ir.transition,ir.transition=null;var T=ut;ut=1;var H=at;at|=4,Vx.current=null,Zie(r,c),VW(c,r),xie(Yw),jm=!!Xw,Yw=Xw=null,r.current=c,Gie(c),Cae(),at=H,ut=T,ir.transition=E}else r.current=c;if(vg&&(vg=!1,La=r,yg=w),E=r.pendingLanes,E===0&&($a=null),Oae(c.stateNode),Tn(r,Tt()),a!==null)for(p=r.onRecoverableError,c=0;c<a.length;c++)w=a[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(gg)throw gg=!1,r=Wx,Wx=null,r;return yg&1&&r.tag!==0&&Gs(),E=r.pendingLanes,E&1?r===qx?jd++:(jd=0,qx=r):jd=0,Ha(),null}function Gs(){if(La!==null){var r=NH(yg),a=ir.transition,c=ut;try{if(ir.transition=null,ut=16>r?16:r,La===null)var p=!1;else{if(r=La,La=null,yg=0,at&6)throw Error(o(331));var w=at;for(at|=4,De=r.current;De!==null;){var E=De,T=E.child;if(De.flags&16){var H=E.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var pe=H[Y];for(De=pe;De!==null;){var _e=De;switch(_e.tag){case 0:case 11:case 15:Pd(8,_e,E)}var Pe=_e.child;if(Pe!==null)Pe.return=_e,De=Pe;else for(;De!==null;){_e=De;var Ee=_e.sibling,Te=_e.return;if(NW(_e),_e===pe){De=null;break}if(Ee!==null){Ee.return=Te,De=Ee;break}De=Te}}}var Be=E.alternate;if(Be!==null){var Fe=Be.child;if(Fe!==null){Be.child=null;do{var zt=Fe.sibling;Fe.sibling=null,Fe=zt}while(Fe!==null)}}De=E}}if(E.subtreeFlags&2064&&T!==null)T.return=E,De=T;else e:for(;De!==null;){if(E=De,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Pd(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,De=ie;break e}De=E.return}}var J=r.current;for(De=J;De!==null;){T=De;var se=T.child;if(T.subtreeFlags&2064&&se!==null)se.return=T,De=se;else e:for(T=J;De!==null;){if(H=De,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:pg(9,H)}}catch(Me){Ct(H,H.return,Me)}if(H===T){De=null;break e}var Ce=H.sibling;if(Ce!==null){Ce.return=H.return,De=Ce;break e}De=H.return}}if(at=w,Ha(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(Sm,r)}catch{}p=!0}return p}finally{ut=c,ir.transition=a}}return!1}function QW(r,a,c){a=qs(c,a),a=mW(r,a,1),r=Wa(r,a,1),a=xn(),r!==null&&(Jc(r,1,a),Tn(r,a))}function Ct(r,a,c){if(r.tag===3)QW(r,r,c);else for(;a!==null;){if(a.tag===3){QW(a,r,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($a===null||!$a.has(p))){r=qs(c,r),r=gW(a,r,1),a=Wa(a,r,1),r=xn(),a!==null&&(Jc(a,1,r),Tn(a,r));break}}a=a.return}}function tle(r,a,c){var p=r.pingCache;p!==null&&p.delete(a),a=xn(),r.pingedLanes|=r.suspendedLanes&c,Wt===r&&(rn&c)===c&&(Ut===4||Ut===3&&(rn&130023424)===rn&&500>Tt()-Kx?ll(r,0):Hx|=c),Tn(r,a)}function JW(r,a){a===0&&(r.mode&1?(a=_m,_m<<=1,!(_m&130023424)&&(_m=4194304)):a=1);var c=xn();r=Lo(r,a),r!==null&&(Jc(r,a,c),Tn(r,c))}function nle(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),JW(r,c)}function rle(r,a){var c=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(a),JW(r,c)}var eq;eq=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||Cn.current)jn=!0;else{if(!(r.lanes&c)&&!(a.flags&128))return jn=!1,Wie(r,a,c);jn=!!(r.flags&131072)}else jn=!1,wt&&a.flags&1048576&&TK(a,Xm,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;dg(r,a),r=a.pendingProps;var w=Fs(a,cn.current);Hs(a,c),w=Sx(null,a,p,r,w,c);var E=Ex();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,In(p)?(E=!0,Lm(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,hx(a),w.updater=ng,a.stateNode=w,w._reactInternals=a,gx(a,p,r,c),a=zx(null,a,p,!0,E,c)):(a.tag=0,wt&&E&&ox(a),wn(null,a,w,c),a=a.child),a;case 16:p=a.elementType;e:{switch(dg(r,a),r=a.pendingProps,w=p._init,p=w(p._payload),a.type=p,w=a.tag=ale(p),r=Br(p,r),w){case 0:a=Tx(null,a,p,r,c);break e;case 1:a=_W(null,a,p,r,c);break e;case 11:a=kW(null,a,p,r,c);break e;case 14:a=wW(null,a,p,Br(p.type,r),c);break e}throw Error(o(306,p,""))}return a;case 0:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Br(p,w),Tx(r,a,p,w,c);case 1:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Br(p,w),_W(r,a,p,w,c);case 3:e:{if(PW(a),r===null)throw Error(o(387));p=a.pendingProps,E=a.memoizedState,w=E.element,FK(r,a),tg(a,p,null,c);var T=a.memoizedState;if(p=T.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=qs(Error(o(423)),a),a=CW(r,a,p,c,w);break e}else if(p!==w){w=qs(Error(o(424)),a),a=CW(r,a,p,c,w);break e}else for(Hn=Ma(a.stateNode.containerInfo.firstChild),Vn=a,wt=!0,Ar=null,c=$K(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Us(),p===w){a=Go(r,a,c);break e}wn(r,a,p,c)}a=a.child}return a;case 5:return LK(a),r===null&&lx(a),p=a.type,w=a.pendingProps,E=r!==null?r.memoizedProps:null,T=w.children,Qw(p,w)?T=null:E!==null&&Qw(p,E)&&(a.flags|=32),EW(r,a),wn(r,a,T,c),a.child;case 6:return r===null&&lx(a),null;case 13:return IW(r,a,c);case 4:return vx(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=Ks(a,null,p,c):wn(r,a,p,c),a.child;case 11:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Br(p,w),kW(r,a,p,w,c);case 7:return wn(r,a,a.pendingProps,c),a.child;case 8:return wn(r,a,a.pendingProps.children,c),a.child;case 12:return wn(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,w=a.pendingProps,E=a.memoizedProps,T=w.value,mt(Qm,p._currentValue),p._currentValue=T,E!==null)if(Dr(E.value,T)){if(E.children===w.children&&!Cn.current){a=Go(r,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var H=E.dependencies;if(H!==null){T=E.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===p){if(E.tag===1){Y=Zo(-1,c&-c),Y.tag=2;var pe=E.updateQueue;if(pe!==null){pe=pe.shared;var _e=pe.pending;_e===null?Y.next=Y:(Y.next=_e.next,_e.next=Y),pe.pending=Y}}E.lanes|=c,Y=E.alternate,Y!==null&&(Y.lanes|=c),fx(E.return,c,a),H.lanes|=c;break}Y=Y.next}}else if(E.tag===10)T=E.type===a.type?null:E.child;else if(E.tag===18){if(T=E.return,T===null)throw Error(o(341));T.lanes|=c,H=T.alternate,H!==null&&(H.lanes|=c),fx(T,c,a),T=E.sibling}else T=E.child;if(T!==null)T.return=E;else for(T=E;T!==null;){if(T===a){T=null;break}if(E=T.sibling,E!==null){E.return=T.return,T=E;break}T=T.return}E=T}wn(r,a,w.children,c),a=a.child}return a;case 9:return w=a.type,p=a.pendingProps.children,Hs(a,c),w=or(w),p=p(w),a.flags|=1,wn(r,a,p,c),a.child;case 14:return p=a.type,w=Br(p,a.pendingProps),w=Br(p.type,w),wW(r,a,p,w,c);case 15:return xW(r,a,a.type,a.pendingProps,c);case 17:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Br(p,w),dg(r,a),a.tag=1,In(p)?(r=!0,Lm(a)):r=!1,Hs(a,c),HK(a,p,w),gx(a,p,w,c),zx(null,a,p,!0,r,c);case 19:return OW(r,a,c);case 22:return SW(r,a,c)}throw Error(o(156,a.tag))};function tq(r,a){return TH(r,a)}function ole(r,a,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,a,c,p){return new ole(r,a,c,p)}function Yx(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ale(r){if(typeof r=="function")return Yx(r)?1:0;if(r!=null){if(r=r.$$typeof,r===G)return 11;if(r===xe)return 14}return 2}function Xa(r,a){var c=r.alternate;return c===null?(c=lr(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function xg(r,a,c,p,w,E){var T=2;if(p=r,typeof r=="function")Yx(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case W:return ul(c.children,w,E,a);case B:T=8,w|=8;break;case Z:return r=lr(12,c,a,w|2),r.elementType=Z,r.lanes=E,r;case C:return r=lr(13,c,a,w),r.elementType=C,r.lanes=E,r;case Q:return r=lr(19,c,a,w),r.elementType=Q,r.lanes=E,r;case K:return Sg(c,w,E,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:T=10;break e;case D:T=9;break e;case G:T=11;break e;case xe:T=14;break e;case q:T=16,p=null;break e}throw Error(o(130,r==null?r:typeof r,""))}return a=lr(T,c,a,w),a.elementType=r,a.type=p,a.lanes=E,a}function ul(r,a,c,p){return r=lr(7,r,p,a),r.lanes=c,r}function Sg(r,a,c,p){return r=lr(22,r,p,a),r.elementType=K,r.lanes=c,r.stateNode={isHidden:!1},r}function Qx(r,a,c){return r=lr(6,r,null,a),r.lanes=c,r}function Jx(r,a,c){return a=lr(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function ile(r,a,c,p,w){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jw(0),this.expirationTimes=jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jw(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function e2(r,a,c,p,w,E,T,H,Y){return r=new ile(r,a,c,H,Y),a===1?(a=1,E===!0&&(a|=8)):a=0,E=lr(3,null,null,a),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hx(E),r}function lle(r,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:p==null?null:""+p,children:r,containerInfo:a,implementation:c}}function nq(r){if(!r)return Va;r=r._reactInternals;e:{if(Yi(r)!==r||r.tag!==1)throw Error(o(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(In(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(o(171))}if(r.tag===1){var c=r.type;if(In(c))return IK(r,c,a)}return a}function rq(r,a,c,p,w,E,T,H,Y){return r=e2(c,p,!0,r,w,E,T,H,Y),r.context=nq(null),c=r.current,p=xn(),w=Za(c),E=Zo(p,w),E.callback=a??null,Wa(c,E,w),r.current.lanes=w,Jc(r,w,p),Tn(r,p),r}function Eg(r,a,c,p){var w=a.current,E=xn(),T=Za(w);return c=nq(c),a.context===null?a.context=c:a.pendingContext=c,a=Zo(E,T),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=Wa(w,a,T),r!==null&&(Rr(r,w,T,E),eg(r,w,T)),T}function _g(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function oq(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function t2(r,a){oq(r,a),(r=r.alternate)&&oq(r,a)}function sle(){return null}var aq=typeof reportError=="function"?reportError:function(r){console.error(r)};function n2(r){this._internalRoot=r}Pg.prototype.render=n2.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(o(409));Eg(r,a,null,null)},Pg.prototype.unmount=n2.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;il(function(){Eg(null,r,null,null)}),a[Ko]=null}};function Pg(r){this._internalRoot=r}Pg.prototype.unstable_scheduleHydration=function(r){if(r){var a=MH();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Na.length&&a!==0&&a<Na[c].priority;c++);Na.splice(c,0,r),c===0&&HH(r)}};function r2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cg(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function iq(){}function ule(r,a,c,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var pe=_g(T);E.call(pe)}}var T=rq(a,p,r,0,null,!1,!1,"",iq);return r._reactRootContainer=T,r[Ko]=T.current,pd(r.nodeType===8?r.parentNode:r),il(),T}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var H=p;p=function(){var pe=_g(Y);H.call(pe)}}var Y=e2(r,0,!1,null,null,!1,!1,"",iq);return r._reactRootContainer=Y,r[Ko]=Y.current,pd(r.nodeType===8?r.parentNode:r),il(function(){Eg(a,Y,c,p)}),Y}function Ig(r,a,c,p,w){var E=c._reactRootContainer;if(E){var T=E;if(typeof w=="function"){var H=w;w=function(){var Y=_g(T);H.call(Y)}}Eg(a,T,r,w)}else T=ule(c,a,r,w,p);return _g(T)}FH=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=Qc(a.pendingLanes);c!==0&&(Ow(a,c|1),Tn(a,Tt()),!(at&6)&&(Zs=Tt()+500,Ha()))}break;case 13:il(function(){var p=Lo(r,1);if(p!==null){var w=xn();Rr(p,r,1,w)}}),t2(r,1)}},Tw=function(r){if(r.tag===13){var a=Lo(r,134217728);if(a!==null){var c=xn();Rr(a,r,134217728,c)}t2(r,134217728)}},RH=function(r){if(r.tag===13){var a=Za(r),c=Lo(r,a);if(c!==null){var p=xn();Rr(c,r,a,p)}t2(r,a)}},MH=function(){return ut},UH=function(r,a){var c=ut;try{return ut=r,a()}finally{ut=c}},Ps=function(r,a,c){switch(a){case"input":if(R(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==r&&p.form===r.form){var w=qm(p);if(!w)throw Error(o(90));it(p),R(p,w)}}}break;case"textarea":we(r,c);break;case"select":a=c.value,a!=null&&ae(r,!!c.multiple,a,!1)}},EH=Zx,_H=il;var cle={usingClientEntryPoint:!1,Events:[gd,Bs,qm,xH,SH,Zx]},Od={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dle={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=jH(r),r===null?null:r.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||sle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Td=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Td.isDisabled&&Td.supportsFiber))try{Sm=Td.inject(dle),po=Td}catch{}var Td;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cle,e.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r2(a))throw Error(o(200));return lle(r,a,null,c)},e.createRoot=function(r,a){if(!r2(r))throw Error(o(299));var c=!1,p="",w=aq;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=e2(r,1,!1,null,null,c,!1,p,w),r[Ko]=a.current,pd(r.nodeType===8?r.parentNode:r),new n2(a)},e.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=jH(a),r=r===null?null:r.stateNode,r},e.flushSync=function(r){return il(r)},e.hydrate=function(r,a,c){if(!Cg(a))throw Error(o(200));return Ig(null,r,a,!0,c)},e.hydrateRoot=function(r,a,c){if(!r2(r))throw Error(o(405));var p=c!=null&&c.hydratedSources||null,w=!1,E="",T=aq;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=rq(a,null,r,1,c??null,w,!1,E,T),r[Ko]=a.current,pd(r),p)for(r=0;r<p.length;r++)c=p[r],w=c._getVersion,w=w(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,w]:a.mutableSourceEagerHydrationData.push(c,w);return new Pg(a)},e.render=function(r,a,c){if(!Cg(a))throw Error(o(200));return Ig(null,r,a,!1,c)},e.unmountComponentAtNode=function(r){if(!Cg(r))throw Error(o(40));return r._reactRootContainer?(il(function(){Ig(null,null,r,!1,function(){r._reactRootContainer=null,r[Ko]=null})}),!0):!1},e.unstable_batchedUpdates=Zx,e.unstable_renderSubtreeIntoContainer=function(r,a,c,p){if(!Cg(c))throw Error(o(200));if(r==null||r._reactInternals===void 0)throw Error(o(38));return Ig(r,a,c,!1,p)},e.version="18.2.0-next-9e3b772b8-20220608"}),bo=He((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}n(),t.exports=aX()});function iX(e){let[,t]=(0,oa.useState)(0);return(0,oa.useCallback)(()=>{t(n=>n+1)},[])}function Xe(e,t,n){let o=(0,oa.useCallback)(e,t),i=(0,oa.useRef)(null);i.current?i.current.set(o):i.current=new mf.Atom(o);let l=(0,oa.useRef)(null);return l.current||(l.current=(0,mf.prism)(()=>i.current.prism.getValue()())),J0(l.current,n)}function lX(){gf||(gf=!0,(0,q5.default)(()=>{(0,$5.unstable_batchedUpdates)(function(){for(var e,t;fr.length>0;){let n=fr.shift();Pl.delete(n);let o;ii&&((e=n.debug)==null||e.history.push("queue reached"));try{o=n.der.getValue()}catch(i){ii&&((t=n.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),n.runUpdate();continue}o!==n.lastValue&&(n.lastValue=o,n.runUpdate())}gf=!1},1)}))}function J0(e,t){var n;let o=iX(),i=(0,oa.useRef)(void 0);i.current||(ev++,i.current={order:ev,runUpdate:()=>{i.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var s;ii&&((s=i.current.debug)==null||s.history.push("queueUpdate()")),L5(i.current)},untap:e.onStale(()=>{ii&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()})},ii&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,oa.useLayoutEffect)(()=>function(){i.current.unmounted=!0,i.current.untap(),tv(i.current)},[]),tv(i.current);let l=i.current.der.getValue();return i.current.lastValue=l,ii&&((n=i.current.debug)==null||n.history.push("rendered")),l}var mf,q5,oa,$5,ii,Ye,ev,fr,Pl,gf,L5,Z5,tv,Re=P(()=>{mf=je,Ft(),q5=$(tX()),oa=$(X()),$5=$(bo()),ii=!1,Ye=(e,t)=>Xe(()=>(0,mf.val)(e),[e],t),ev=0,fr=[],Pl=new Set,gf=!1,L5=e=>{Z5(e),lX()},Z5=e=>{if(!Pl.has(e))if(Pl.add(e),fr.length===0)fr.push(e);else{let t=Z0(fr,n=>n.order>=e.order);t===-1?fr.push(e):fr[t].order>e.order&&fr.splice(t,0,e)}},tv=e=>{if(!Pl.has(e))return;Pl.delete(e);let t=Z0(fr,n=>n===e);fr.splice(t,1)}}),sX=He(e=>{var t=60103,n=60106,o=60107,i=60108,l=60114,s=60109,u=60110,d=60112,f=60113,m=60120,v=60115,g=60116,h=60121,b=60122,y=60117,k=60129,x=60131;typeof Symbol=="function"&&Symbol.for&&(S=Symbol.for,t=S("react.element"),n=S("react.portal"),o=S("react.fragment"),i=S("react.strict_mode"),l=S("react.profiler"),s=S("react.provider"),u=S("react.context"),d=S("react.forward_ref"),f=S("react.suspense"),m=S("react.suspense_list"),v=S("react.memo"),g=S("react.lazy"),h=S("react.block"),b=S("react.server.block"),y=S("react.fundamental"),k=S("react.debug_trace_mode"),x=S("react.legacy_hidden"));var S;function _(C){if(typeof C=="object"&&C!==null){var Q=C.$$typeof;switch(Q){case t:switch(C=C.type,C){case o:case l:case i:case f:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case d:case g:case v:case s:return C;default:return Q}}case n:return Q}}}var O=s,j=t,z=d,V=o,W=g,B=v,Z=n,re=l,D=i,G=f;e.ContextConsumer=u,e.ContextProvider=O,e.Element=j,e.ForwardRef=z,e.Fragment=V,e.Lazy=W,e.Memo=B,e.Portal=Z,e.Profiler=re,e.StrictMode=D,e.Suspense=G,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(C){return _(C)===u},e.isContextProvider=function(C){return _(C)===s},e.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},e.isForwardRef=function(C){return _(C)===d},e.isFragment=function(C){return _(C)===o},e.isLazy=function(C){return _(C)===g},e.isMemo=function(C){return _(C)===v},e.isPortal=function(C){return _(C)===n},e.isProfiler=function(C){return _(C)===l},e.isStrictMode=function(C){return _(C)===i},e.isSuspense=function(C){return _(C)===f},e.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===o||C===l||C===k||C===i||C===f||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===g||C.$$typeof===v||C.$$typeof===s||C.$$typeof===u||C.$$typeof===d||C.$$typeof===y||C.$$typeof===h||C[0]===b)},e.typeOf=_}),uX=He((e,t)=>{t.exports=sX()}),G5=He((e,t)=>{t.exports=function(n,o,i,l){var s=i?i.call(l,n,o):void 0;if(s!==void 0)return!!s;if(n===o)return!0;if(typeof n!="object"||!n||typeof o!="object"||!o)return!1;var u=Object.keys(n),d=Object.keys(o);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(o),m=0;m<u.length;m++){var v=u[m];if(!f(v))return!1;var g=n[v],h=o[v];if(s=i?i.call(l,g,h,v):void 0,s===!1||s===void 0&&g!==h)return!1}return!0}});function cX(e){function t(N,oe,le,ue,te){for(var Oe=0,me=0,Ie=0,Ae=0,We,Ve,it=0,I=0,fe,ce=fe=We=0,U=0,R=0,ne=0,ve=0,ke=le.length,ae=ke-1,Se,ye="",we="",Ue="",ot="",Ze;U<ke;){if(Ve=le.charCodeAt(U),U===ae&&me+Ae+Ie+Oe!==0&&(me!==0&&(Ve=me===47?10:47),Ae=Ie=Oe=0,ke++,ae++),me+Ae+Ie+Oe===0){if(U===ae&&(0<R&&(ye=ye.replace(g,"")),0<ye.trim().length)){switch(Ve){case 32:case 9:case 59:case 13:case 10:break;default:ye+=le.charAt(U)}Ve=59}switch(Ve){case 123:for(ye=ye.trim(),We=ye.charCodeAt(0),fe=1,ve=++U;U<ke;){switch(Ve=le.charCodeAt(U)){case 123:fe++;break;case 125:fe--;break;case 47:switch(Ve=le.charCodeAt(U+1)){case 42:case 47:e:{for(ce=U+1;ce<ae;++ce)switch(le.charCodeAt(ce)){case 47:if(Ve===42&&le.charCodeAt(ce-1)===42&&U+2!==ce){U=ce+1;break e}break;case 10:if(Ve===47){U=ce+1;break e}}U=ce}}break;case 91:Ve++;case 40:Ve++;case 34:case 39:for(;U++<ae&&le.charCodeAt(U)!==Ve;);}if(fe===0)break;U++}switch(fe=le.substring(ve,U),We===0&&(We=(ye=ye.replace(v,"").trim()).charCodeAt(0)),We){case 64:switch(0<R&&(ye=ye.replace(g,"")),Ve=ye.charCodeAt(1),Ve){case 100:case 109:case 115:case 45:R=oe;break;default:R=xe}if(fe=t(oe,R,fe,Ve,te+1),ve=fe.length,0<K&&(R=n(xe,ye,ne),Ze=u(3,fe,R,oe,G,D,ve,Ve,te,ue),ye=R.join(""),Ze!==void 0&&(ve=(fe=Ze.trim()).length)===0&&(Ve=0,fe="")),0<ve)switch(Ve){case 115:ye=ye.replace(z,s);case 100:case 109:case 45:fe=ye+"{"+fe+"}";break;case 107:ye=ye.replace(S,"$1 $2"),fe=ye+"{"+fe+"}",fe=Q===1||Q===2&&l("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=ye+fe,ue===112&&(fe=(we+=fe,""))}else fe="";break;default:fe=t(oe,n(oe,ye,ne),fe,ue,te+1)}Ue+=fe,fe=ne=R=ce=We=0,ye="",Ve=le.charCodeAt(++U);break;case 125:case 59:if(ye=(0<R?ye.replace(g,""):ye).trim(),1<(ve=ye.length))switch(ce===0&&(We=ye.charCodeAt(0),We===45||96<We&&123>We)&&(ve=(ye=ye.replace(" ",":")).length),0<K&&(Ze=u(1,ye,oe,N,G,D,we.length,ue,te,ue))!==void 0&&(ve=(ye=Ze.trim()).length)===0&&(ye="\0\0"),We=ye.charCodeAt(0),Ve=ye.charCodeAt(1),We){case 0:break;case 64:if(Ve===105||Ve===99){ot+=ye+le.charAt(U);break}default:ye.charCodeAt(ve-1)!==58&&(we+=i(ye,We,Ve,ye.charCodeAt(2)))}ne=R=ce=We=0,ye="",Ve=le.charCodeAt(++U)}}switch(Ve){case 13:case 10:me===47?me=0:1+We===0&&ue!==107&&0<ye.length&&(R=1,ye+="\0"),0<K*ge&&u(0,ye,oe,N,G,D,we.length,ue,te,ue),D=1,G++;break;case 59:case 125:if(me+Ae+Ie+Oe===0){D++;break}default:switch(D++,Se=le.charAt(U),Ve){case 9:case 32:if(Ae+Oe+me===0)switch(it){case 44:case 58:case 9:case 32:Se="";break;default:Ve!==32&&(Se=" ")}break;case 0:Se="\\0";break;case 12:Se="\\f";break;case 11:Se="\\v";break;case 38:Ae+me+Oe===0&&(R=ne=1,Se="\f"+Se);break;case 108:if(Ae+me+Oe+C===0&&0<ce)switch(U-ce){case 2:it===112&&le.charCodeAt(U-3)===58&&(C=it);case 8:I===111&&(C=I)}break;case 58:Ae+me+Oe===0&&(ce=U);break;case 44:me+Ie+Ae+Oe===0&&(R=1,Se+="\r");break;case 34:case 39:me===0&&(Ae=Ae===Ve?0:Ae===0?Ve:Ae);break;case 91:Ae+me+Ie===0&&Oe++;break;case 93:Ae+me+Ie===0&&Oe--;break;case 41:Ae+me+Oe===0&&Ie--;break;case 40:if(Ae+me+Oe===0){if(We===0)switch(2*it+3*I){case 533:break;default:We=1}Ie++}break;case 64:me+Ie+Ae+Oe+ce+fe===0&&(fe=1);break;case 42:case 47:if(!(0<Ae+Oe+Ie))switch(me){case 0:switch(2*Ve+3*le.charCodeAt(U+1)){case 235:me=47;break;case 220:ve=U,me=42}break;case 42:Ve===47&&it===42&&ve+2!==U&&(le.charCodeAt(ve+2)===33&&(we+=le.substring(ve,U+1)),Se="",me=0)}}me===0&&(ye+=Se)}I=it,it=Ve,U++}if(ve=we.length,0<ve){if(R=oe,0<K&&(Ze=u(2,we,R,N,G,D,ve,ue,te,ue),Ze!==void 0&&(we=Ze).length===0))return ot+we+Ue;if(we=R.join(",")+"{"+we+"}",Q*C!==0){switch(Q!==2||l(we,2)||(C=0),C){case 111:we=we.replace(O,":-moz-$1")+we;break;case 112:we=we.replace(_,"::-webkit-input-$1")+we.replace(_,"::-moz-$1")+we.replace(_,":-ms-input-$1")+we}C=0}}return ot+we+Ue}function n(N,oe,le){var ue=oe.trim().split(k);oe=ue;var te=ue.length,Oe=N.length;switch(Oe){case 0:case 1:var me=0;for(N=Oe===0?"":N[0]+" ";me<te;++me)oe[me]=o(N,oe[me],le).trim();break;default:var Ie=me=0;for(oe=[];me<te;++me)for(var Ae=0;Ae<Oe;++Ae)oe[Ie++]=o(N[Ae]+" ",ue[me],le).trim()}return oe}function o(N,oe,le){var ue=oe.charCodeAt(0);switch(33>ue&&(ue=(oe=oe.trim()).charCodeAt(0)),ue){case 38:return oe.replace(x,"$1"+N.trim());case 58:return N.trim()+oe.replace(x,"$1"+N.trim());default:if(0<1*le&&0<oe.indexOf("\f"))return oe.replace(x,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+oe}function i(N,oe,le,ue){var te=N+";",Oe=2*oe+3*le+4*ue;if(Oe===944){N=te.indexOf(":",9)+1;var me=te.substring(N,te.length-1).trim();return me=te.substring(0,N).trim()+me+";",Q===1||Q===2&&l(me,1)?"-webkit-"+me+me:me}if(Q===0||Q===2&&!l(te,1))return te;switch(Oe){case 1015:return te.charCodeAt(10)===97?"-webkit-"+te+te:te;case 951:return te.charCodeAt(3)===116?"-webkit-"+te+te:te;case 963:return te.charCodeAt(5)===110?"-webkit-"+te+te:te;case 1009:if(te.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+te+te;case 978:return"-webkit-"+te+"-moz-"+te+te;case 1019:case 983:return"-webkit-"+te+"-moz-"+te+"-ms-"+te+te;case 883:if(te.charCodeAt(8)===45)return"-webkit-"+te+te;if(0<te.indexOf("image-set(",11))return te.replace(re,"$1-webkit-$2")+te;break;case 932:if(te.charCodeAt(4)===45)switch(te.charCodeAt(5)){case 103:return"-webkit-box-"+te.replace("-grow","")+"-webkit-"+te+"-ms-"+te.replace("grow","positive")+te;case 115:return"-webkit-"+te+"-ms-"+te.replace("shrink","negative")+te;case 98:return"-webkit-"+te+"-ms-"+te.replace("basis","preferred-size")+te}return"-webkit-"+te+"-ms-"+te+te;case 964:return"-webkit-"+te+"-ms-flex-"+te+te;case 1023:if(te.charCodeAt(8)!==99)break;return me=te.substring(te.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+me+"-webkit-"+te+"-ms-flex-pack"+me+te;case 1005:return b.test(te)?te.replace(h,":-webkit-")+te.replace(h,":-moz-")+te:te;case 1e3:switch(me=te.substring(13).trim(),oe=me.indexOf("-")+1,me.charCodeAt(0)+me.charCodeAt(oe)){case 226:me=te.replace(j,"tb");break;case 232:me=te.replace(j,"tb-rl");break;case 220:me=te.replace(j,"lr");break;default:return te}return"-webkit-"+te+"-ms-"+me+te;case 1017:if(te.indexOf("sticky",9)===-1)break;case 975:switch(oe=(te=N).length-10,me=(te.charCodeAt(oe)===33?te.substring(0,oe):te).substring(N.indexOf(":",7)+1).trim(),Oe=me.charCodeAt(0)+(me.charCodeAt(7)|0)){case 203:if(111>me.charCodeAt(8))break;case 115:te=te.replace(me,"-webkit-"+me)+";"+te;break;case 207:case 102:te=te.replace(me,"-webkit-"+(102<Oe?"inline-":"")+"box")+";"+te.replace(me,"-webkit-"+me)+";"+te.replace(me,"-ms-"+me+"box")+";"+te}return te+";";case 938:if(te.charCodeAt(5)===45)switch(te.charCodeAt(6)){case 105:return me=te.replace("-items",""),"-webkit-"+te+"-webkit-box-"+me+"-ms-flex-"+me+te;case 115:return"-webkit-"+te+"-ms-flex-item-"+te.replace(W,"")+te;default:return"-webkit-"+te+"-ms-flex-line-pack"+te.replace("align-content","").replace(W,"")+te}break;case 973:case 989:if(te.charCodeAt(3)!==45||te.charCodeAt(4)===122)break;case 931:case 953:if(Z.test(N)===!0)return(me=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),oe,le,ue).replace(":fill-available",":stretch"):te.replace(me,"-webkit-"+me)+te.replace(me,"-moz-"+me.replace("fill-",""))+te;break;case 962:if(te="-webkit-"+te+(te.charCodeAt(5)===102?"-ms-"+te:"")+te,le+ue===211&&te.charCodeAt(13)===105&&0<te.indexOf("transform",10))return te.substring(0,te.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+te}return te}function l(N,oe){var le=N.indexOf(oe===1?":":"{"),ue=N.substring(0,oe!==3?le:10);return le=N.substring(le+1,N.length-1),ee(oe!==2?ue:ue.replace(B,"$1"),le,oe)}function s(N,oe){var le=i(oe,oe.charCodeAt(0),oe.charCodeAt(1),oe.charCodeAt(2));return le!==oe+";"?le.replace(V," or ($1)").substring(4):"("+oe+")"}function u(N,oe,le,ue,te,Oe,me,Ie,Ae,We){for(var Ve=0,it=oe,I;Ve<K;++Ve)switch(I=q[Ve].call(m,N,it,le,ue,te,Oe,me,Ie,Ae,We)){case void 0:case!1:case!0:case null:break;default:it=I}if(it!==oe)return it}function d(N){switch(N){case void 0:case null:K=q.length=0;break;default:if(typeof N=="function")q[K++]=N;else if(typeof N=="object")for(var oe=0,le=N.length;oe<le;++oe)d(N[oe]);else ge=!!N|0}return d}function f(N){return N=N.prefix,N!==void 0&&(ee=null,N?typeof N!="function"?Q=1:(Q=2,ee=N):Q=0),f}function m(N,oe){var le=N;if(33>le.charCodeAt(0)&&(le=le.trim()),A=le,le=[A],0<K){var ue=u(-1,oe,le,le,G,D,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(oe=ue)}var te=t(xe,le,oe,0,0);return 0<K&&(ue=u(-2,te,le,le,G,D,te.length,0,0,0),ue!==void 0&&(te=ue)),A="",C=0,D=G=1,te}var v=/^\0+/g,g=/[\0\r\f]/g,h=/: */g,b=/zoo|gra/,y=/([,: ])(transform)/g,k=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,S=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,O=/:(read-only)/g,j=/[svh]\w+-[tblr]{2}/,z=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,W=/-self|flex-/g,B=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Z=/stretch|:\s*\w+\-(?:conte|avail)/,re=/([^-])(image-set\()/,D=1,G=1,C=0,Q=1,xe=[],q=[],K=0,ee=null,ge=0,A="";return m.use=d,m.set=f,e!==void 0&&f(e),m}var X5,dX=P(()=>{X5=cX}),Y5,Q5,fX=P(()=>{Y5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Q5=Y5});function pX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var J5,hX=P(()=>{J5=pX}),eC,tC,nv,mX=P(()=>{hX(),eC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tC=J5(function(e){return eC.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),nv=tC}),gX=He(e=>{var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,v=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function O(z){if(typeof z=="object"&&z!==null){var V=z.$$typeof;switch(V){case n:switch(z=z.type,z){case f:case m:case i:case s:case l:case g:return z;default:switch(z=z&&z.$$typeof,z){case d:case v:case y:case b:case u:return z;default:return V}}case o:return V}}}function j(z){return O(z)===m}e.AsyncMode=f,e.ConcurrentMode=m,e.ContextConsumer=d,e.ContextProvider=u,e.Element=n,e.ForwardRef=v,e.Fragment=i,e.Lazy=y,e.Memo=b,e.Portal=o,e.Profiler=s,e.StrictMode=l,e.Suspense=g,e.isAsyncMode=function(z){return j(z)||O(z)===f},e.isConcurrentMode=j,e.isContextConsumer=function(z){return O(z)===d},e.isContextProvider=function(z){return O(z)===u},e.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},e.isForwardRef=function(z){return O(z)===v},e.isFragment=function(z){return O(z)===i},e.isLazy=function(z){return O(z)===y},e.isMemo=function(z){return O(z)===b},e.isPortal=function(z){return O(z)===o},e.isProfiler=function(z){return O(z)===s},e.isStrictMode=function(z){return O(z)===l},e.isSuspense=function(z){return O(z)===g},e.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===m||z===s||z===l||z===g||z===h||typeof z=="object"&&z!==null&&(z.$$typeof===y||z.$$typeof===b||z.$$typeof===u||z.$$typeof===d||z.$$typeof===v||z.$$typeof===x||z.$$typeof===S||z.$$typeof===_||z.$$typeof===k)},e.typeOf=O}),vX=He((e,t)=>{t.exports=gX()}),yX=He((e,t)=>{var n=vX(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=l,u[n.Memo]=s;function d(k){return n.isMemo(k)?s:u[k.$$typeof]||o}var f=Object.defineProperty,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,b=Object.prototype;function y(k,x,S){if(typeof x!="string"){if(b){var _=h(x);_&&_!==b&&y(k,_,S)}var O=m(x);v&&(O=O.concat(v(x)));for(var j=d(k),z=d(x),V=0;V<O.length;++V){var W=O[V];if(!i[W]&&!(S&&S[W])&&!(z&&z[W])&&!(j&&j[W])){var B=g(x,W);try{f(k,W,B)}catch{}}}}return k}t.exports=y});function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function gu(e){return typeof e=="function"}function nC(e){return e.displayName||e.name||"Component"}function rv(e){return e&&typeof e.styledComponentId=="string"}function ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function ov(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dv(t%52)+n;return(dv(t%52)+n).replace(PC,"$1-$2")}function rC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(gu(n)&&!rv(n))return!1}return!0}function oC(e){var t,n,o,i,l=e===void 0?wo:e,s=l.options,u=s===void 0?wo:s,d=l.plugins,f=d===void 0?vu:d,m=new X5(u),v=[],g=function(y){function k(x){if(x)try{y(x+"}")}catch{}}return function(x,S,_,O,j,z,V,W,B,Z){switch(x){case 1:if(B===0&&S.charCodeAt(0)===64)return y(S+";"),"";break;case 2:if(W===0)return S+"/*|*/";break;case 3:switch(W){case 102:case 112:return y(_[0]+S),"";default:return S+(Z===0?"/*|*/":"")}case-2:S.split("/*|*/}").forEach(k)}}}(function(y){v.push(y)}),h=function(y,k,x){return k===0&&OC.indexOf(x[n.length])!==-1||x.match(i)?y:"."+t};function b(y,k,x,S){S===void 0&&(S="&");var _=y.replace(jC,""),O=k&&x?x+" "+k+" { "+_+" }":_;return t=S,n=k,o=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),m(x||!k?"":k,O)}return m.use([].concat(f,[function(y,k,x){y===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(o,h))},g,function(y){if(y===-2){var k=v;return v=[],k}}])),b.hash=f.length?f.reduce(function(y,k){return k.name||ko(15),si(y,k.name)},5381).toString():"",b}function av(){return(0,It.useContext)(wf)||TC}function aC(){return(0,It.useContext)(xf)||Sf}function iC(e){var t=(0,It.useState)(e.stylisPlugins),n=t[0],o=t[1],i=av(),l=(0,It.useMemo)(function(){var u=i;return e.sheet?u=e.sheet:e.target&&(u=u.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,It.useMemo)(function(){return oC({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,It.useEffect)(function(){(0,dC.default)(n,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),It.default.createElement(wf.Provider,{value:l},It.default.createElement(xf.Provider,{value:s},e.children))}function lC(e){return DC.test(e)?e.replace(AC,NC).replace(BC,"-ms-"):e}function li(e,t,n,o){if(Array.isArray(e)){for(var i,l=[],s=0,u=e.length;s<u;s+=1)(i=li(e[s],t,n,o))!==""&&(Array.isArray(i)?l.push.apply(l,i):l.push(i));return l}if(pv(e))return"";if(rv(e))return"."+e.styledComponentId;if(gu(e)){if(typeof(f=e)!="function"||f.prototype&&f.prototype.isReactComponent||!t)return e;var d=e(t);return li(d,t,n,o)}var f;return e instanceof zC?n?(e.inject(n,o),e.getName(o)):e:yf(e)?function m(v,g){var h,b,y=[];for(var k in v)v.hasOwnProperty(k)&&!pv(v[k])&&(Array.isArray(v[k])&&v[k].isCss||gu(v[k])?y.push(lC(k)+":",v[k],";"):yf(v[k])?y.push.apply(y,m(v[k],k)):y.push(lC(k)+": "+(h=k,(b=v[k])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||h in Q5||h.startsWith("--")?String(b).trim():b+"px")+";"));return g?[g+" {"].concat(y,["}"]):y}(e):e.toString()}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return gu(e)||yf(e)?hv(li(sv(vu,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:hv(li(sv(e,n)))}function iv(e){return e.replace(FC,"-").replace(RC,"")}function vf(e){return typeof e=="string"&&!0}function bX(e,t,n){var o=e[n];Ef(t)&&Ef(o)?sC(o,t):e[n]=t}function sC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var i=0,l=n;i<l.length;i++){var s=l[i];if(Ef(s))for(var u in s)MC(u)&&bX(e,s[u],u)}return e}function uC(e,t,n){var o=rv(e),i=!vf(e),l=t.attrs,s=l===void 0?vu:l,u=t.componentId,d=u===void 0?function(S,_){var O=typeof S!="string"?"sc":iv(S);Pf[O]=(Pf[O]||0)+1;var j=O+"-"+gv("5.3.11"+O+Pf[O]);return _?_+"-"+j:j}(t.displayName,t.parentComponentId):u,f=t.displayName,m=f===void 0?function(S){return vf(S)?"styled."+S:"Styled("+nC(S)+")"}(e):f,v=t.displayName&&t.componentId?iv(t.displayName)+"-"+t.componentId:t.componentId||d,g=o&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;o&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(S,_,O){return e.shouldForwardProp(S,_,O)&&t.shouldForwardProp(S,_,O)}:e.shouldForwardProp);var b,y=new IC(n,v,o?e.componentStyle:void 0),k=y.isStatic&&s.length===0,x=function(S,_){return function(O,j,z,V){var W=O.attrs,B=O.componentStyle,Z=O.defaultProps,re=O.foldedComponentIds,D=O.shouldForwardProp,G=O.styledComponentId,C=O.target,Q=function(ue,te,Oe){ue===void 0&&(ue=wo);var me=pr({},te,{theme:ue}),Ie={};return Oe.forEach(function(Ae){var We,Ve,it,I=Ae;for(We in gu(I)&&(I=I(me)),I)me[We]=Ie[We]=We==="className"?(Ve=Ie[We],it=I[We],Ve&&it?Ve+" "+it:Ve||it):I[We]}),[me,Ie]}(mv(j,(0,It.useContext)(_f),Z)||wo,j,W),xe=Q[0],q=Q[1],K=function(ue,te,Oe,me){var Ie=av(),Ae=aC(),We=te?ue.generateAndInjectStyles(wo,Ie,Ae):ue.generateAndInjectStyles(Oe,Ie,Ae);return We}(B,V,xe),ee=z,ge=q.$as||j.$as||q.as||j.as||C,A=vf(ge),N=q!==j?pr({},j,{},q):j,oe={};for(var le in N)le[0]!=="$"&&le!=="as"&&(le==="forwardedAs"?oe.as=N[le]:(D?D(le,nv,ge):!A||nv(le))&&(oe[le]=N[le]));return j.style&&q.style!==j.style&&(oe.style=pr({},j.style,{},q.style)),oe.className=Array.prototype.concat(re,G,K!==G?K:null,j.className,q.className).filter(Boolean).join(" "),oe.ref=ee,(0,It.createElement)(ge,oe)}(b,S,_,k)};return x.displayName=m,(b=It.default.forwardRef(x)).attrs=g,b.componentStyle=y,b.displayName=m,b.shouldForwardProp=h,b.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):vu,b.styledComponentId=v,b.target=o?e.target:e,b.withComponent=function(S){var _=t.componentId,O=function(z,V){if(z==null)return{};var W,B,Z={},re=Object.keys(z);for(B=0;B<re.length;B++)W=re[B],V.indexOf(W)>=0||(Z[W]=z[W]);return Z}(t,["componentId"]),j=_&&_+"-"+(vf(S)?S:iv(nC(S)));return uC(S,pr({},O,{attrs:g,componentId:j}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=o?sC({},e.defaultProps,S):S}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),i&&(0,fC.default)(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}function cC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=Dn.apply(void 0,[e].concat(n)),l="sc-global-"+gv(JSON.stringify(i)),s=new UC(i,l);function u(f){var m=av(),v=aC(),g=(0,It.useContext)(_f),h=(0,It.useRef)(m.allocateGSInstance(l)).current;return m.server&&d(h,f,m,g,v),(0,It.useLayoutEffect)(function(){if(!m.server)return d(h,f,m,g,v),function(){return s.removeStyles(h,m)}},[h,f,m,g,v]),null}function d(f,m,v,g,h){if(s.isStatic)s.renderStyles(f,hC,v,h);else{var b=pr({},m,{theme:mv(m,g,u.defaultProps)});s.renderStyles(f,b,v,h)}}return It.default.memo(u)}var lv,It,dC,fC,sv,yf,vu,wo,xo,bf,pC,hC,mC,yu,bu,Cl,ku,gC,vC,yC,bC,kC,wC,kf,uv,xC,SC,EC,cv,_C,Il,PC,dv,si,fv,CC,IC,jC,OC,wf,xf,TC,Sf,zC,DC,AC,BC,NC,pv,hv,mv,FC,RC,gv,Ef,MC,_f,Pf,Cf,UC,M,be=P(()=>{lv=$(uX()),It=$(X()),dC=$(G5()),dX(),fX(),mX(),fC=$(yX()),sv=function(e,t){for(var n=[e[0]],o=0,i=t.length;o<i;o+=1)n.push(t[o],e[o+1]);return n},yf=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,lv.typeOf)(e)},vu=Object.freeze([]),wo=Object.freeze({}),xo=typeof process<"u"&&qn!==void 0&&(qn.REACT_APP_SC_ATTR||qn.SC_ATTR)||"data-styled",bf=typeof window<"u"&&"HTMLElement"in window,pC=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qn!==void 0&&(qn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qn.REACT_APP_SC_DISABLE_SPEEDY!==""?qn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qn.REACT_APP_SC_DISABLE_SPEEDY:qn.SC_DISABLE_SPEEDY!==void 0&&qn.SC_DISABLE_SPEEDY!==""&&qn.SC_DISABLE_SPEEDY!=="false"&&qn.SC_DISABLE_SPEEDY)),hC={},mC=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var o=0,i=0;i<n;i++)o+=this.groupSizes[i];return o},t.insertRules=function(n,o){if(n>=this.groupSizes.length){for(var i=this.groupSizes,l=i.length,s=l;n>=s;)(s<<=1)<0&&ko(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var u=l;u<s;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(n+1),f=0,m=o.length;f<m;f++)this.tag.insertRule(d,o[f])&&(this.groupSizes[n]++,d++)},t.clearGroup=function(n){if(n<this.length){var o=this.groupSizes[n],i=this.indexOfGroup(n),l=i+o;this.groupSizes[n]=0;for(var s=i;s<l;s++)this.tag.deleteRule(i)}},t.getGroup=function(n){var o="";if(n>=this.length||this.groupSizes[n]===0)return o;for(var i=this.groupSizes[n],l=this.indexOfGroup(n),s=l+i,u=l;u<s;u++)o+=this.tag.getRule(u)+`/*!sc*/
`;return o},e}(),yu=new Map,bu=new Map,Cl=1,ku=function(e){if(yu.has(e))return yu.get(e);for(;bu.has(Cl);)Cl++;var t=Cl++;return yu.set(e,t),bu.set(t,e),t},gC=function(e){return bu.get(e)},vC=function(e,t){t>=Cl&&(Cl=t+1),yu.set(e,t),bu.set(t,e)},yC="style["+xo+'][data-styled-version="5.3.11"]',bC=new RegExp("^"+xo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),kC=function(e,t,n){for(var o,i=n.split(","),l=0,s=i.length;l<s;l++)(o=i[l])&&e.registerName(t,o)},wC=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),o=[],i=0,l=n.length;i<l;i++){var s=n[i].trim();if(s){var u=s.match(bC);if(u){var d=0|parseInt(u[1],10),f=u[2];d!==0&&(vC(f,d),kC(e,f,u[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(s)}}},kf=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},uv=function(e){var t=document.head,n=e||t,o=document.createElement("style"),i=function(u){for(var d=u.childNodes,f=d.length;f>=0;f--){var m=d[f];if(m&&m.nodeType===1&&m.hasAttribute(xo))return m}}(n),l=i!==void 0?i.nextSibling:null;o.setAttribute(xo,"active"),o.setAttribute("data-styled-version","5.3.11");var s=kf();return s&&o.setAttribute("nonce",s),n.insertBefore(o,l),o},xC=function(){function e(n){var o=this.element=uv(n);o.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var l=document.styleSheets,s=0,u=l.length;s<u;s++){var d=l[s];if(d.ownerNode===i)return d}ko(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(n,o){try{return this.sheet.insertRule(o,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var o=this.sheet.cssRules[n];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),SC=function(){function e(n){var o=this.element=uv(n);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,o){if(n<=this.length&&n>=0){var i=document.createTextNode(o),l=this.nodes[n];return this.element.insertBefore(i,l||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),EC=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,o){return n<=this.length&&(this.rules.splice(n,0,o),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),cv=bf,_C={isServer:!bf,useCSSOMInjection:!pC},Il=function(){function e(n,o,i){n===void 0&&(n=wo),o===void 0&&(o={}),this.options=pr({},_C,{},n),this.gs=o,this.names=new Map(i),this.server=!!n.isServer,!this.server&&bf&&cv&&(cv=!1,function(l){for(var s=document.querySelectorAll(yC),u=0,d=s.length;u<d;u++){var f=s[u];f&&f.getAttribute(xo)!=="active"&&(wC(l,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}e.registerId=function(n){return ku(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,o){return o===void 0&&(o=!0),new e(pr({},this.options,{},n),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(o=this.options).isServer,l=o.useCSSOMInjection,s=o.target,n=i?new EC(s):l?new xC(s):new SC(s),new mC(n)));var n,o,i,l,s},t.hasNameForId=function(n,o){return this.names.has(n)&&this.names.get(n).has(o)},t.registerName=function(n,o){if(ku(n),this.names.has(n))this.names.get(n).add(o);else{var i=new Set;i.add(o),this.names.set(n,i)}},t.insertRules=function(n,o,i){this.registerName(n,o),this.getTag().insertRules(ku(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(ku(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var o=n.getTag(),i=o.length,l="",s=0;s<i;s++){var u=gC(s);if(u!==void 0){var d=n.names.get(u),f=o.getGroup(s);if(d&&f&&d.size){var m=xo+".g"+s+'[id="'+u+'"]',v="";d!==void 0&&d.forEach(function(g){g.length>0&&(v+=g+",")}),l+=""+f+m+'{content:"'+v+`"}/*!sc*/
`}}}return l}(this)},e}(),PC=/(a)(d)/gi,dv=function(e){return String.fromCharCode(e+(e>25?39:97))},si=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},fv=function(e){return si(5381,e)},CC=fv("5.3.11"),IC=function(){function e(t,n,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&rC(t),this.componentId=n,this.baseHash=si(CC,n),this.baseStyle=o,Il.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,o){var i=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(t,n,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))l.push(this.staticRulesId);else{var s=li(this.rules,t,n,o).join(""),u=ov(si(this.baseHash,s)>>>0);if(!n.hasNameForId(i,u)){var d=o(s,"."+u,void 0,i);n.insertRules(i,u,d)}l.push(u),this.staticRulesId=u}else{for(var f=this.rules.length,m=si(this.baseHash,o.hash),v="",g=0;g<f;g++){var h=this.rules[g];if(typeof h=="string")v+=h;else if(h){var b=li(h,t,n,o),y=Array.isArray(b)?b.join(""):b;m=si(m,y+g),v+=y}}if(v){var k=ov(m>>>0);if(!n.hasNameForId(i,k)){var x=o(v,"."+k,void 0,i);n.insertRules(i,k,x)}l.push(k)}}return l.join(" ")},e}(),jC=/^\s*\/\/.*$/gm,OC=[":","[",".","#"],wf=It.default.createContext(),wf.Consumer,xf=It.default.createContext(),TC=(xf.Consumer,new Il),Sf=oC(),zC=function(){function e(t,n){var o=this;this.inject=function(i,l){l===void 0&&(l=Sf);var s=o.name+l.hash;i.hasNameForId(o.id,s)||i.insertRules(o.id,s,l(o.rules,s,"@keyframes"))},this.toString=function(){return ko(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Sf),this.name+t.hash},e}(),DC=/([A-Z])/,AC=/([A-Z])/g,BC=/^ms-/,NC=function(e){return"-"+e.toLowerCase()},pv=function(e){return e==null||e===!1||e===""},hv=function(e){return Array.isArray(e)&&(e.isCss=!0),e},mv=function(e,t,n){return n===void 0&&(n=wo),e.theme!==n.theme&&e.theme||t||n.theme},FC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RC=/(^-|-$)/g,gv=function(e){return ov(fv(e)>>>0)},Ef=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},MC=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},_f=It.default.createContext(),_f.Consumer,Pf={},Cf=function(e){return function t(n,o,i){if(i===void 0&&(i=wo),!(0,lv.isValidElementType)(o))return ko(1,String(o));var l=function(){return n(o,i,Dn.apply(void 0,arguments))};return l.withConfig=function(s){return t(n,o,pr({},i,{},s))},l.attrs=function(s){return t(n,o,pr({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},l}(uC,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Cf[e]=Cf(e)}),UC=function(){function e(n,o){this.rules=n,this.componentId=o,this.isStatic=rC(n),Il.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,o,i,l){var s=l(li(this.rules,o,i,l).join(""),""),u=this.componentId+n;i.insertRules(u,u,s)},t.removeStyles=function(n,o){o.clearRules(this.componentId+n)},t.renderStyles=function(n,o,i,l){n>2&&Il.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,o,i,l)},e}(),function(){function e(){var n=this;this._emitSheetCSS=function(){var o=n.instance.toString();if(!o)return"";var i=kf();return"<style "+[i&&'nonce="'+i+'"',xo+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return n.sealed?ko(2):n._emitSheetCSS()},this.getStyleElement=function(){var o;if(n.sealed)return ko(2);var i=((o={})[xo]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:n.instance.toString()},o),l=kf();return l&&(i.nonce=l),[It.default.createElement("style",pr({},i,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new Il({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?ko(2):It.default.createElement(iC,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return ko(3)},e}(),M=Cf});function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ui.apply(this,arguments)}var kX=P(()=>{});function wX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xX=P(()=>{});function wu(e,t){return wu=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wu(e,t)}var vv=P(()=>{});function SX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wu(e,t)}var EX=P(()=>{vv()});function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yv(e)}var _X=P(()=>{});function PX(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var CX=P(()=>{});function IX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var jX=P(()=>{});function If(e,t,n){return IX()?If=Reflect.construct:If=function(o,i,l){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(o,s),d=new u;return l&&wu(d,l.prototype),d},If.apply(null,arguments)}var OX=P(()=>{vv(),jX()});function bv(e){var t=typeof Map=="function"?new Map:void 0;return bv=function(n){if(n===null||!PX(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return If(n,arguments,yv(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),wu(o,n)},bv(e)}var TX=P(()=>{_X(),vv(),CX(),OX()}),zX=P(()=>{});function DX(e){return e.charAt(0).toUpperCase()+e.slice(1)}function AX(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(i,l){return""+i+DX(l)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function BX(e,t){for(var n={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(n[AX(e,WC[o])]=t[o]);return n}function VC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n[0],l=n[1],s=l===void 0?i:l,u=n[2],d=u===void 0?i:u,f=n[3],m=f===void 0?s:f,v=[i,s,d,m];return BX(e,v)}function kv(e){return Math.round(e*255)}function NX(e,t,n){return kv(e)+","+kv(t)+","+kv(n)}function xu(e,t,n,o){if(o===void 0&&(o=NX),t===0)return o(n,n,n);var i=(e%360+360)%360/60,l=(1-Math.abs(2*n-1))*t,s=l*(1-Math.abs(i%2-1)),u=0,d=0,f=0;i>=0&&i<1?(u=l,d=s):i>=1&&i<2?(u=s,d=l):i>=2&&i<3?(d=l,f=s):i>=3&&i<4?(d=s,f=l):i>=4&&i<5?(u=s,f=l):i>=5&&i<6&&(u=l,f=s);var m=n-l/2,v=u+m,g=d+m,h=f+m;return o(v,g,h)}function FX(e){if(typeof e!="string")return e;var t=e.toLowerCase();return Cv[t]?"#"+Cv[t]:e}function wv(e){if(typeof e!="string")throw new hr(3);var t=FX(e);if(t.match(qC))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match($C)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(LC))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(ZC)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var i=zf.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var l=GC.exec(t.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var s=XC.exec(t);if(s){var u=parseInt(""+s[1],10),d=parseInt(""+s[2],10)/100,f=parseInt(""+s[3],10)/100,m="rgb("+xu(u,d,f)+")",v=zf.exec(m);if(!v)throw new hr(4,t,m);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10)}}var g=YC.exec(t.substring(0,50));if(g){var h=parseInt(""+g[1],10),b=parseInt(""+g[2],10)/100,y=parseInt(""+g[3],10)/100,k="rgb("+xu(h,b,y)+")",x=zf.exec(k);if(!x)throw new hr(4,t,k);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+g[4])}}throw new hr(5)}function RX(e){var t=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(t,n,o),l=Math.min(t,n,o),s=(i+l)/2;if(i===l)return e.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u,d=i-l,f=s>.5?d/(2-i-l):d/(i+l);switch(i){case t:u=(n-o)/d+(n<o?6:0);break;case n:u=(o-t)/d+2;break;default:u=(t-n)/d+4;break}return u*=60,e.alpha!==void 0?{hue:u,saturation:f,lightness:s,alpha:e.alpha}:{hue:u,saturation:f,lightness:s}}function xv(e){return RX(wv(e))}function ci(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Sv(e){return ci(Math.round(e*255))}function MX(e,t,n){return Df("#"+Sv(e)+Sv(t)+Sv(n))}function jf(e,t,n){return xu(e,t,n,MX)}function UX(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return jf(e,t,n);if(typeof e=="object"&&t===void 0&&n===void 0)return jf(e.hue,e.saturation,e.lightness);throw new hr(1)}function VX(e,t,n,o){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?jf(e,t,n):"rgba("+xu(e,t,n)+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?jf(e.hue,e.saturation,e.lightness):"rgba("+xu(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new hr(2)}function Ev(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Df("#"+ci(e)+ci(t)+ci(n));if(typeof e=="object"&&t===void 0&&n===void 0)return Df("#"+ci(e.red)+ci(e.green)+ci(e.blue));throw new hr(6)}function HC(e,t,n,o){if(typeof e=="string"&&typeof t=="number"){var i=wv(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}else{if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?Ev(e,t,n):"rgba("+e+","+t+","+n+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?Ev(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}throw new hr(7)}function _v(e){if(typeof e!="object")throw new hr(8);if(JC(e))return HC(e);if(QC(e))return Ev(e);if(tI(e))return VX(e);if(eI(e))return UX(e);throw new hr(8)}function KC(e,t,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):KC(e,t,o)}}function Of(e){return KC(e,e.length,[])}function Tf(e,t,n){return Math.max(e,Math.min(t,n))}function HX(e,t){if(t==="transparent")return t;var n=xv(t);return _v(ui({},n,{lightness:Tf(0,1,n.lightness-parseFloat(e))}))}function KX(e,t){if(t==="transparent")return t;var n=xv(t);return _v(ui({},n,{lightness:Tf(0,1,n.lightness+parseFloat(e))}))}function WX(e,t){if(t==="transparent")return t;var n=xv(t);return _v(ui({},n,{saturation:Tf(0,1,n.saturation+parseFloat(e))}))}function qX(e,t){if(t==="transparent")return t;var n=wv(t),o=typeof n.alpha=="number"?n.alpha:1,i=ui({},n,{alpha:Tf(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return HC(i)}function Pv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return nI.indexOf(e)>=0&&e?ui({},VC.apply(void 0,[""].concat(n)),{position:e}):VC.apply(void 0,["",e].concat(n))}var hr,WC,Cv,qC,$C,LC,ZC,zf,GC,XC,YC,Df,QC,JC,eI,tI,Su,jl,Af,mr,nI,An=P(()=>{kX(),xX(),EX(),TX(),zX(),hr=function(e){SX(t,e);function t(n){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,wX(o)}return t}(bv(Error)),WC=["Top","Right","Bottom","Left"],Cv={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},qC=/^#[a-fA-F0-9]{6}$/,$C=/^#[a-fA-F0-9]{8}$/,LC=/^#[a-fA-F0-9]{3}$/,ZC=/^#[a-fA-F0-9]{4}$/,zf=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,GC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,XC=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,YC=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Df=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},QC=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},JC=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},eI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},tI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},Su=Of(HX),jl=Of(KX),Af=Of(WX),mr=Of(qX),nI=["absolute","fixed","relative","static","sticky"]});function $X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(o){$X(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Ol(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Eu=P(()=>{}),oI,Iv,aI=P(()=>{oI=$(X()),Iv=(0,oI.createContext)({})});function LX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(o){LX(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function jv(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZX(e,t){if(e){if(typeof e=="string")return lI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(e,t)}}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function sI(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=ZX(e))||t){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var Bf=P(()=>{});function GX(e){return typeof e=="function"}var Ov,uI,XX=P(()=>{Ov=$(X()),aI(),Bf(),uI=function(e,t,n){n===void 0&&(n=t.children);var o=(0,Ov.useContext)(Iv);if(o.useCreateElement)return o.useCreateElement(e,t,n);if(typeof e=="string"&&GX(n)){t.children;var i=jv(t,["children"]);return n(i)}return(0,Ov.createElement)(e,t,n)}});function YX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(o){YX(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function QX(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dI=P(()=>{});function JX(e){return typeof e=="object"&&e!=null}var eY=P(()=>{});function Tv(e){var t;if(!JX(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var fI=P(()=>{eY()});function pI(e,t){for(var n=Object.keys(e),o={},i={},l=0,s=n;l<s.length;l++){var u=s[l];t.indexOf(u)>=0?o[u]=e[u]:i[u]=e[u]}return[o,i]}function hI(e,t){if(t===void 0&&(t=[]),!Tv(e.state))return pI(e,t);var n=pI(e,[].concat(t,["state"])),o=n[0],i=n[1],l=o.state,s=QX(o,["state"]);return[zl(zl({},l),s),i]}var tY=P(()=>{dI(),fI()});function Nf(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var l=0,s=n;l<s.length;l++){var u=s[l];if(e[u]!==t[u])return!1}return!0}var zv=P(()=>{});function mI(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,n){return!Tv(t.state)||!Tv(n.state)?e(t,n):e(zl(zl({},t.state),t),zl(zl({},n.state),n))}}var nY=P(()=>{dI(),fI()});function rY(e){return(0,Dv.forwardRef)(e)}function oY(e,t){return(0,Dv.memo)(e,t)}function _u(e){var t=e.as,n=e.useHook,o=e.memo,i=e.propsAreEqual,l=i===void 0?n==null?void 0:n.unstable_propsAreEqual:i,s=e.keys,u=s===void 0?(n==null?void 0:n.__keys)||[]:s,d=e.useCreateElement,f=d===void 0?uI:d,m=function(v,g){var h=v.as,b=h===void 0?t:h,y=jv(v,["as"]);if(n){var k,x=hI(y,u),S=x[0],_=x[1],O=n(S,Tl({ref:g},_)),j=O.wrapElement,z=jv(O,["wrapElement"]),V=((k=b.render)===null||k===void 0?void 0:k.__keys)||b.__keys,W=V&&hI(y,V)[0],B=W?Tl(Tl({},z),W):z,Z=f(b,B);return j?j(Z):Z}return f(b,Tl({ref:g},y))};return m=rY(m),o&&(m=oY(m,l&&mI(l))),m.__keys=u,m.unstable_propsAreEqual=mI(l||Nf),m}var Dv,Pu=P(()=>{Dv=$(X()),Bf(),XX(),tY(),zv(),nY()});function gI(e,t){(0,Av.useDebugValue)(e);var n=(0,Av.useContext)(Iv);return n[e]!=null?n[e]:t}var Av,vI=P(()=>{Av=$(X()),aI()});function aY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Props";(0,yI.useDebugValue)(o);var i=gI(o);return i?i(t,n):n}var yI,iY=P(()=>{yI=$(X()),vI()});function lY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Options";(0,bI.useDebugValue)(o);var i=gI(o);return i?Tl(Tl({},t),i(t,n)):t}var bI,sY=P(()=>{bI=$(X()),vI(),Bf()});function uY(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}var cY=P(()=>{});function Cu(e){var t,n,o=uY(e.compose),i=function(u,d){if(e.useOptions&&(u=e.useOptions(u,d)),e.name&&(u=lY(e.name,u,d)),e.compose)for(var f=sI(o),m;!(m=f()).done;){var v=m.value;u=v.__useOptions(u,d)}return u},l=function(u,d,f){if(u===void 0&&(u={}),d===void 0&&(d={}),f===void 0&&(f=!1),f||(u=i(u,d)),e.useProps&&(d=e.useProps(u,d)),e.name&&(d=aY(e.name,u,d)),e.compose)if(e.useComposeOptions&&(u=e.useComposeOptions(u,d)),e.useComposeProps)d=e.useComposeProps(u,d);else for(var m=sI(o),v;!(v=m()).done;){var g=v.value;d=g(u,d,!0)}var h={},b=d||{};for(var y in b)b[y]!==void 0&&(h[y]=b[y]);return h};l.__useOptions=i;var s=o.reduce(function(u,d){return u.push.apply(u,d.__keys||[]),u},[]);return l.__keys=[].concat(s,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),l.unstable_propsAreEqual=e.propsAreEqual||((n=o[0])===null||n===void 0?void 0:n.unstable_propsAreEqual)||Nf,l}var Iu=P(()=>{$(X()),iY(),Bf(),sY(),zv(),cY()});function kI(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function wI(e,t){return(0,xI.useMemo)(function(){return e==null&&t==null?null:function(n){kI(e,n),kI(t,n)}},[e,t])}var xI,SI=P(()=>{xI=$(X())});function Bv(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return EI.indexOf(t.type)!==-1}return!1}var EI,Nv=P(()=>{EI=["button","color","file","image","reset","submit"]}),Fv=P(()=>{}),dY=P(()=>{Fv(),$(X())}),Ff=P(()=>{Fv(),$(X()),dY()});function fY(e){return e?e.ownerDocument||e:document}var _I=P(()=>{});function pY(e){return PI}var PI,hY=P(()=>{_I();try{PI=window}catch{}});function mY(){var e=pY();return!!(typeof e<"u"&&e.document&&e.document.createElement)}var Rf,Rv=P(()=>{hY(),Rf=mY()}),Mv,Uv,Vv=P(()=>{Mv=$(X()),Rv(),Uv=Rf?Mv.useLayoutEffect:Mv.useEffect});function Dl(e){var t=(0,CI.useRef)(e);return Uv(function(){t.current=e}),t}var CI,II=P(()=>{CI=$(X()),Vv()});function gY(e){return e.target===e.currentTarget}var vY=P(()=>{});function yY(e){var t=fY(e),n=t.activeElement;return n!=null&&n.nodeName?n:null}var bY=P(()=>{_I()});function jI(e,t){return e===t||e.contains(t)}var OI=P(()=>{});function kY(e){var t=yY(e);if(!t)return!1;if(jI(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return n?n===e.id?!0:!!e.querySelector("#"+n):!1}var wY=P(()=>{bY(),OI()});function xY(e){return!jI(e.currentTarget,e.target)}var SY=P(()=>{OI()});function Mf(e){return Rf?window.navigator.userAgent.indexOf(e)!==-1:!1}var EY=P(()=>{Rv()});function _Y(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var PY=P(()=>{});function CY(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function IY(e){return _Y(e,TI)&&CY(e)}var TI,jY=P(()=>{PY(),TI="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),zI,Uf,DI=P(()=>{Eu(),Pu(),Iu(),zv(),zI=["unstable_system"],Uf=Cu({name:"Role",keys:zI,propsAreEqual:function(e,t){var n=e.unstable_system,o=Ol(e,["unstable_system"]),i=t.unstable_system,l=Ol(t,["unstable_system"]);return n!==i&&!Nf(n,i)?!1:Nf(o,l)}}),_u({as:"div",useHook:Uf})});function AI(e){!kY(e)&&IY(e)&&e.focus()}function OY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function TY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function zY(e,t,n,o){return e?t&&!n?-1:void 0:t?o:o||0}function Hv(e,t){return(0,Al.useCallback)(function(n){var o;(o=e.current)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())},[e,t])}var Al,BI,NI,Kv,DY=P(()=>{Eu(),Pu(),Iu(),Al=$(X()),SI(),Nv(),Ff(),II(),Vv(),wY(),SY(),EY(),jY(),DI(),BI=["disabled","focusable"],NI=Mf("Mac")&&!Mf("Chrome")&&(Mf("Safari")||Mf("Firefox")),Kv=Cu({name:"Tabbable",compose:Uf,keys:BI,useOptions:function(e,t){var n=t.disabled;return di({disabled:n},e)},useProps:function(e,t){var n=t.ref,o=t.tabIndex,i=t.onClickCapture,l=t.onMouseDownCapture,s=t.onMouseDown,u=t.onKeyPressCapture,d=t.style,f=Ol(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),m=(0,Al.useRef)(null),v=Dl(i),g=Dl(l),h=Dl(s),b=Dl(u),y=!!e.disabled&&!e.focusable,k=(0,Al.useState)(!0),x=k[0],S=k[1],_=(0,Al.useState)(!0),O=_[0],j=_[1],z=e.disabled?di({pointerEvents:"none"},d):d;Uv(function(){var re=m.current;re&&(OY(re)||S(!1),TY(re)||j(!1))},[]);var V=Hv(v,e.disabled),W=Hv(g,e.disabled),B=Hv(b,e.disabled),Z=(0,Al.useCallback)(function(re){var D;(D=h.current)===null||D===void 0||D.call(h,re);var G=re.currentTarget;if(!re.defaultPrevented&&NI&&!xY(re)&&Bv(G)){var C=requestAnimationFrame(function(){G.removeEventListener("mouseup",Q,!0),AI(G)}),Q=function(){cancelAnimationFrame(C),AI(G)};G.addEventListener("mouseup",Q,{once:!0,capture:!0})}},[]);return di({ref:wI(m,n),style:z,tabIndex:zY(y,x,O,o),disabled:y&&O?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:V,onMouseDownCapture:W,onMouseDown:Z,onKeyPressCapture:B},f)}}),_u({as:"div",useHook:Kv})});function AY(e){var t=e.currentTarget;return e.isTrusted?Bv(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var Vf,FI,Wv,BY=P(()=>{Eu(),Pu(),Iu(),Vf=$(X()),Nv(),Ff(),II(),vY(),DY(),FI=["unstable_clickOnEnter","unstable_clickOnSpace"],Wv=Cu({name:"Clickable",compose:Kv,keys:FI,useOptions:function(e){var t=e.unstable_clickOnEnter,n=t===void 0?!0:t,o=e.unstable_clickOnSpace,i=o===void 0?!0:o,l=Ol(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return di({unstable_clickOnEnter:n,unstable_clickOnSpace:i},l)},useProps:function(e,t){var n=t.onKeyDown,o=t.onKeyUp,i=Ol(t,["onKeyDown","onKeyUp"]),l=(0,Vf.useState)(!1),s=l[0],u=l[1],d=Dl(n),f=Dl(o),m=(0,Vf.useCallback)(function(g){var h;if((h=d.current)===null||h===void 0||h.call(d,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey&&gY(g)){var b=e.unstable_clickOnEnter&&g.key==="Enter",y=e.unstable_clickOnSpace&&g.key===" ";if(b||y){if(AY(g))return;g.preventDefault(),b?g.currentTarget.click():y&&u(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),v=(0,Vf.useCallback)(function(g){var h;if((h=f.current)===null||h===void 0||h.call(f,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey){var b=e.unstable_clickOnSpace&&g.key===" ";s&&b&&(u(!1),g.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,s]);return di({"data-active":s||void 0,onKeyDown:m,onKeyUp:v},i)}}),_u({as:"button",memo:!0,useHook:Wv})}),ju,RI,MI,UI,NY=P(()=>{Eu(),Pu(),Iu(),ju=$(X()),SI(),Nv(),Ff(),BY(),RI=[],MI=Cu({name:"Button",compose:Wv,keys:RI,useProps:function(e,t){var n=t.ref,o=Ol(t,["ref"]),i=(0,ju.useRef)(null),l=(0,ju.useState)(void 0),s=l[0],u=l[1],d=(0,ju.useState)("button"),f=d[0],m=d[1];return(0,ju.useEffect)(function(){var v=i.current;v&&(Bv(v)||(v.tagName!=="A"&&u("button"),m(void 0)))},[]),di({ref:wI(i,n),role:s,type:f},o)}}),UI=_u({as:"button",memo:!0,useHook:MI})}),VI,HI,KI,FY=P(()=>{Eu(),Pu(),Iu(),DI(),VI=[],HI=Cu({name:"Group",compose:Uf,keys:VI,useProps:function(e,t){return di({role:"group"},t)}}),KI=_u({as:"div",useHook:HI})});function RY(){return Rf?document.body:null}var WI,Bl,MY=P(()=>{WI=$(X()),Vv(),Rv(),$(bo()),Bl=(0,WI.createContext)(RY())}),qv,UY=P(()=>{typeof window<"u"&&(qv={get passive(){}},window.addEventListener("testPassive",null,qv),window.removeEventListener("testPassive",null,qv))}),fi=P(()=>{$(X()),Ff(),NY(),FY(),$(bo()),MY(),UY(),Fv()});function Qe(e){let t=(0,$v.useMemo)(()=>{let i=e;return{get current(){return i},set current(l){i=l,o(l)}}},[]),[n,o]=(0,$v.useState)(()=>e);return[t,n]}var $v,nt=P(()=>{$v=$(X())});function VY(e){return t=>on.default.createElement(XI,null,on.default.createElement(e,L({},t)))}var on,qI,$I,tt,Nl,LI,ZI,GI,Lv,Zv,XI,rt=P(()=>{An(),be(),be(),on=$(X()),qI=$(bo()),fi(),nt(),tt=Dn($I||($I=F([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),Nl={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return jl(.6,Nl.panel.bg)}}}}}},ZI=typeof window<"u"?cC(LI||(LI=F([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},Lv=M.div(GI||(GI=F([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),Zv=e=>on.default.createElement(iC,{disableVendorPrefixes:!0,target:e.target},on.default.createElement(on.default.Fragment,null,on.default.createElement(ZI,null),e.children)),XI=e=>{let[t,n]=(0,on.useState)(null),[o,i]=(0,on.useState)(null);(0,on.useLayoutEffect)(()=>{if(!t)return;let{parentNode:u}=t;if(!u)return;let d=u.shadowRoot?parent.shadowRoot:u.attachShadow({mode:"open"});i(d)},[t]);let[l,s]=Qe(void 0);return o?qI.default.createPortal(on.default.createElement(Zv,{target:o},on.default.createElement(on.default.Fragment,null,on.default.createElement(Lv,{ref:l}),on.default.createElement(Bl.Provider,{value:s},e.children))),o):on.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}}),Fl,YI,QI,aa,JI,Ou,e3,t3,Hf,n3,Gv,Vr,So=P(()=>{rt(),be(),Fl={get outlinePanel(){return 1},get propsPanel(){return Fl.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},YI=Nl.panel.bg,aa=M.span(QI||(QI=F([`
  white-space: nowrap;
`]))),Ou=M.span(JI||(JI=F([`
  white-space: nowrap;
  color: `,`;
`])),Nl.panel.head.punctuation.color),t3=M.div(e3||(e3=F([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),YI),Hf=18,Gv=M.div(n3||(n3=F([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),Hf),Vr=100}),r3,gr,Rl=P(()=>{r3=()=>{},gr=r3});function HY(e){return Xv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Xv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Xv,Yv,KY=P(()=>{Xv=$(X()),Yv=HY});function WY(e){return Qv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Qv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Qv,o3,qY=P(()=>{Qv=$(X()),o3=WY});function $Y(e){return Jv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Jv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var Jv,a3,LY=P(()=>{Jv=$(X()),a3=$Y});function ZY(e){return ey.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ey.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var ey,i3,GY=P(()=>{ey=$(X()),i3=ZY});function XY(e){return ty.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ty.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var ty,ny,YY=P(()=>{ty=$(X()),ny=XY});function QY(e){return ry.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ry.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var ry,Kf,JY=P(()=>{ry=$(X()),Kf=QY});function eQ(e){return oy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),oy.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var oy,ay,tQ=P(()=>{oy=$(X()),ay=eQ}),Tu=P(()=>{KY(),qY(),LY(),GY(),YY(),JY(),tQ()}),Hr,l3,Wf,s3,u3,c3,d3,f3,p3,h3,m3,g3,v3,y3,b3,k3,w3,x3,zu,qf=P(()=>{Hr=$(X()),be(),Rl(),rt(),Tu(),Wf=M.li(l3||(l3=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),u3=M.div(s3||(s3=F([""]))),d3=M(u3)(c3||(c3=F([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),p3=Dn(f3||(f3=F([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),m3=M.span(h3||(h3=F([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),p3,tt),v3=M.div(g3||(g3=F([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),b3=M.span(y3||(y3=F([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),Wf),w3=M.ul(k3||(k3=F([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),Wf),x3=({label:e,children:t,depth:n,select:o,selectionStatus:i,labelDecoration:l,collapsed:s=!1,setIsCollapsed:u})=>{let d=t!==void 0;return Hr.default.createElement(Wf,{style:{"--depth":n},className:s?"collapsed":""},Hr.default.createElement(d3,{className:i,onClick:o??gr,"data-header":!0},Hr.default.createElement(v3,null,d?Hr.default.createElement(b3,{onClick:f=>{f.stopPropagation(),f.preventDefault(),u==null||u(!s)}},Hr.default.createElement(o3,null)):Hr.default.createElement(ny,null)),Hr.default.createElement(m3,null,Hr.default.createElement("span",null,e)),l),d&&Hr.default.createElement(w3,null,t))},zu=x3});function nQ(e){return Object.keys(e)}function rQ(e){return Object.keys((0,Kr.val)(e.sheetTemplatesP))}function oQ(){let e=ra(ia().filter(t=>Ad(t)||sr(t)).map(t=>sr(t)?t.sheet:t))[0];if(e)return e.getSequence()}var Kr,ia,S3,la=P(()=>{Kr=je,Qa(),Ft(),Ne(),ia=()=>{var e;let t=(0,Kr.val)(de().projectsP),n=((e=(0,Kr.val)(de().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let i=t[o.projectId];if(!i)return;if(o.type==="Project")return i;if(!(0,Kr.val)(i.sheetTemplatesP[o.sheetId]))return;let l=S3(i,o.sheetId);if(!l)return;if(o.type==="Sheet")return l;let s=(0,Kr.val)(l.objectsP[o.objectKey]);if(s)return s});return ra(n.filter(o=>typeof o<"u"))},S3=(e,t)=>{let n=de().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,Kr.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,Kr.val)(e.sheetTemplatesP[t]);if(i){if(o)return(0,Kr.val)(i.instancesP[o]);{let l=(0,Kr.val)(i.instancesP);return l[nQ(l)[0]]}}}}),E3,_3,aQ=P(()=>{Ne(),E3=$(X()),qf(),Re(),la(),_3=({sheetObject:e,depth:t,overrideLabel:n})=>{let o=()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},i=Xe(()=>ia(),[]);return E3.default.createElement(zu,{select:o,label:n??e.address.objectKey,depth:t,selectionStatus:i.includes(e)?"selected":"not-selected"})}});function iy(e){var t;let n=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,i=(t=Ye(de().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[n]))!=null?t:!1,l=(0,P3.useCallback)(s=>{de().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:s,itemKey:n})})},[n]);return{collapsed:i,setCollapsed:l}}var P3,ly=P(()=>{P3=$(X()),Ne(),Re()});function C3(e){return Wr.default.createElement(Wr.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:n,nested:o}])=>Wr.default.createElement(iQ,{key:t,label:t,object:n,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function iQ(e){let{nested:t,label:n,object:o,sheet:i}=e,{collapsed:l,setCollapsed:s}=iy({type:"namespace",sheet:i,path:[...e.path,n]}),u=t&&Wr.default.createElement(C3,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),d=o&&Wr.default.createElement(_3,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:n});return Wr.default.createElement(Wr.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},d,u&&Wr.default.createElement(zu,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:u,collapsed:l,setIsCollapsed:s}))}function I3(e,t,n=lQ(t)){let[o,...i]=n,l=e.get(o);l||(l={nested:void 0,object:void 0,path:[...n]},e.set(o,l)),i.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:t}),l.object=t):(l.nested||(l.nested=new Map),I3(l.nested,t,i))}function lQ(e){let t=sy.get(e);return t||(t=e.address.objectKey.split(D3),console.assert(t.length>0,"expected not empty"),sy.set(e,t)),t}var j3,Wr,O3,T3,z3,D3,sy,sQ=P(()=>{Re(),j3=je,Wr=$(X()),be(),aQ(),qf(),ly(),M.li(O3||(O3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),T3=({sheet:e,depth:t})=>Xe(()=>{let n=(0,j3.val)(e.objectsP),o=Object.values(n).filter(l=>l!=null),i=new Map;return o.forEach(l=>{I3(i,l)}),Wr.default.createElement(C3,{namespace:i,visualIndentation:t,path:[],sheet:e})},[e,t]),z3=T3,D3=/\s*\/\s*/g,sy=new WeakMap}),Ml,A3,B3,N3,F3,R3,M3,uQ=P(()=>{Ne(),la(),Re(),Ml=$(X()),be(),sQ(),qf(),ly(),B3=M.div(A3||(A3=F([`
  display: flex;
`]))),M.li(N3||(N3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),R3=M.div(F3||(F3=F([""]))),M3=({sheet:e,depth:t})=>{let{collapsed:n,setCollapsed:o}=iy(e),i=(0,Ml.useCallback)(()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},[e]);return Xe(()=>{let l=ia();return Ml.default.createElement(zu,{depth:t,select:i,setIsCollapsed:o,collapsed:n,selectionStatus:l.some(s=>s===e)?"selected":l.some(s=>s.type==="Theatre_SheetObject"&&s.sheet===e)?"descendant-is-selected":"not-selected",label:Ml.default.createElement(B3,null,e.address.sheetId,": ",e.address.sheetInstanceId)},Ml.default.createElement(R3,null,Ml.default.createElement(z3,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,n])}}),uy,Ul,U3,V3,H3,K3,cQ=P(()=>{Re(),uy=je,Ul=$(X()),be(),uQ(),M.div(U3||(U3=F([`
  display: flex;
`]))),M.li(V3||(V3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),M.div(H3||(H3=F([""]))),K3=({sheetId:e,depth:t,project:n})=>Xe(()=>{let o=(0,uy.val)(n.sheetTemplatesP[e]);if(!o)return Ul.default.createElement(Ul.default.Fragment,null);let i=(0,uy.val)(o.instancesP);return Ul.default.createElement(Ul.default.Fragment,null,Object.entries(i).map(([l,s])=>Ul.default.createElement(M3,{key:s.address.sheetInstanceId,sheet:s,depth:t})))},[t,e,n])}),$f,W3,q3,dQ=P(()=>{la(),Re(),$f=$(X()),cQ(),W3=({project:e,depth:t})=>Xe(()=>{if(!e)return null;let n=rQ(e);return $f.default.createElement($f.default.Fragment,null,n.map(o=>$f.default.createElement(K3,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),q3=W3}),Du,$3,L3,Z3,G3,X3,fQ=P(()=>{Du=$(X()),qf(),dQ(),Ne(),Re(),la(),$3=je,be(),ly(),Z3=M.div(L3||(L3=F([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),G3=({depth:e,project:t})=>{let n=Xe(()=>ia(),[]),o=Xe(()=>{let u=t.address.projectId,d=(0,$3.val)(de().atomP.ephemeral.coreByProject[u].loadingState);return(d==null?void 0:d.type)==="browserStateIsNotBasedOnDiskState"},[t]),i=(0,Du.useCallback)(()=>{de().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:l,setCollapsed:s}=iy(t);return Du.default.createElement(zu,{depth:e,label:t.address.projectId,setIsCollapsed:s,collapsed:l,labelDecoration:o?Du.default.createElement(Z3,null,"Has Conflicts"):null,children:Du.default.createElement(q3,{project:t,depth:e+1}),selectionStatus:n.includes(t)?"selected":n.some(u=>u.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:i})},X3=G3}),Y3,cy,Q3,J3,ej,tj,pQ=P(()=>{Y3=je,Re(),Ne(),cy=$(X()),be(),fQ(),J3=M.ul(Q3||(Q3=F([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),ej=e=>Xe(()=>{let t=(0,Y3.val)(de().projectsP);return cy.default.createElement(J3,null,Object.keys(t).map(n=>{let o=t[n];return cy.default.createElement(X3,{depth:0,project:o,key:"projectListItem-".concat(n)})}))},[]),tj=ej});function nj(e){let[t,n]=(0,dy.useState)(!1);return(0,dy.useEffect)(()=>{let o=l=>{let s=t?200:50,u=56,d=e==="left"?l.x<s:l.x>window.innerWidth-s;d&&(d=l.y>u),n(!!d)};document.addEventListener("mousemove",o);let i=()=>{n(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",i)}},[t]),t}var dy,rj=P(()=>{dy=$(X())}),Au,Vl,fy,oj,aj,ij,lj,Lf,Bu,sj,hQ=P(()=>{Au=$(X()),be(),So(),pQ(),Re(),Ne(),rj(),Vl=je,rt(),fy="44px",aj=M.div(oj||(oj=F([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),tt,Fl.outlinePanel,fy,fy,({pin:e})=>e?"block":"none"),ij=()=>{var e;let t=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,n=Ye(sj),o=nj("left");return(0,Au.useLayoutEffect)(()=>{Lf.set(o)},[o]),(0,Au.useEffect)(()=>()=>{Bu.set(!1),Lf.set(!1)},[]),Au.default.createElement(aj,{pin:t||n,onMouseEnter:()=>{Bu.set(!0)},onMouseLeave:()=>{Bu.set(!1)}},Au.default.createElement(tj,null))},lj=ij,Lf=new Vl.Atom(!1),Bu=new Vl.Atom(!1),sj=(0,Vl.prism)(()=>{let e=(0,Vl.val)(Bu.prism),t=(0,Vl.val)(Lf.prism);return e||t})}),uj,cj,dj,mQ=P(()=>{be(),cj=M.input.attrs({type:"checkbox"})(uj||(uj=F([`
  outline: none;
`]))),dj=cj});function gQ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,py.useCallback)(l=>{t.permanentlySetValue(!!l.target.checked)},[e,t]);return py.default.createElement(pj,{checked:n,onChange:i,autoFocus:o})}var py,fj,pj,hj,vQ=P(()=>{py=$(X()),be(),mQ(),pj=M(dj)(fj||(fj=F([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),hj=gQ});function Zf(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Gf=P(()=>{});function hy(e,t,n){(0,mj.useEffect)(()=>{if(!e||n===!1)return;let o=Array.isArray(e)?e.filter(l=>l):[e],i=l=>{o.every(s=>!l.composedPath().includes(s))&&t(l)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}},[e,n])}var mj,my=P(()=>{mj=$(X())}),Eo,gj,_o,vj,yj,bj,kj,gy,wj,Ln,xj,Bn=P(()=>{Eo=$(X()),be(),gj="pointer-root",_o="--lockedCursor",yj=M.div(vj||(vj=F([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),kj=M.div(bj||(bj=F([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),gy=(0,Eo.createContext)({}),wj=e=>{var t,n,o,i;let[l,s]=(0,Eo.useState)([]),u=(0,Eo.useMemo)(()=>({getLock:(f,m)=>{let v={className:f,cursor:m};return s(g=>[...g,v]),()=>{s(g=>g.filter(h=>h!==v))}}}),[]),d=(n=(t=l[0])==null?void 0:t.cursor)!=null?n:"";return Eo.default.createElement(gy.Provider,{value:u},Eo.default.createElement(yj,{id:gj,className:((i=(o=l[0])==null?void 0:o.className)!=null?i:"normal")+" "+e.className},Eo.default.createElement(kj,{style:{cursor:d,[_o]:d}},e.children)))},Ln=(e,t,n)=>{let o=(0,Eo.useContext)(gy);(0,Eo.useLayoutEffect)(()=>{if(e)return o.getLock(t,n)},[e,t,n])},xj=wj});function Sj(e){return Nu.default.createElement(vy.Provider,{value:e.logger},e.children)}function sa(e,t){let n=(0,Nu.useContext)(vy);return(0,Nu.useMemo)(()=>e?n.named(e,t):n,[n,e,t])}var Nu,vy,ua=P(()=>{Nu=$(X()),vy=Nu.default.createContext(null)});function yQ(){let e=sa("PointerCapturing"),t=vr.default.useRef(null),n=()=>t.current!=null;return o=>{let i,l=s=>(i=s,t.current=s,s);return{capturing:{capturePointer(s){if(e._debug("Capturing pointer",{forDebugName:o,reason:s}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(s,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let u=l({debugOwnerName:o,debugReason:s});return{isCapturing(){return u===t.current},release(){return u===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:s}),l(null),!0):!1}}},isPointerBeingCaptured:n},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),l(null))}}}}function bQ(e){let t=yQ();return vr.default.createElement(yy.Provider,{value:t},vr.default.createElement(_j,{children:e.children}))}function Ej(e){let t=(0,vr.useContext)(yy),n=(0,vr.useMemo)(()=>t(e),[e,t]);return(0,vr.useEffect)(()=>()=>{n.forceRelease()},[n]),n.capturing}var vr,yy,_j,by=P(()=>{vr=$(X()),ua(),yy=vr.default.createContext(null),_j=vr.default.memo(({children:e})=>vr.default.createElement(vr.default.Fragment,null,e))}),ky,kQ=P(()=>{ky=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function xt(e,t){let n=(0,Hl.useRef)(t);n.current=t;let o=t.shouldPointerLock&&!ky,i=(0,Hl.useRef)({domDragStarted:!1}),{capturePointer:l}=Ej("useDrag for ".concat(t.debugName)),s=(0,Hl.useRef)({onDrag:gr,onDragEnd:gr,onClick:gr}),u=(0,Hl.useRef)(),[d,f]=Qe(!1);return(0,Hl.useLayoutEffect)(()=>{if(!e)return;let m=()=>{let S=i.current.domDragStarted&&i.current.detection.detected;d.current!==S&&(d.current=S)},v=S=>{if(!i.current.domDragStarted)return;let _=i.current;if(!wQ(S,_)&&(_.detection.detected||(_.detection.totalDistanceMoved+=Math.abs(S.movementY)+Math.abs(S.movementX),_.detection.totalDistanceMoved>Pj&&(o&&e.requestPointerLock(),_.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},m())),_.detection.detected)){_.detection.dragEventCount+=1;let{dragMovement:O}=_.detection;if(o)O.x+=S.movementX,O.y+=S.movementY;else{let{startPos:j}=_;O.x=S.screenX-j.x,O.y=S.screenY-j.y}s.current.onDrag(O.x,O.y,S,S.movementX,S.movementY)}},g=S=>{if(b(),!i.current.domDragStarted)return;let _=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!ky&&document.exitPointerLock(),s.current.onDragEnd(_),window.focus(),_||s.current.onClick(S),m()},h=()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",g)},b=()=>{var S;(S=u.current)==null||S.release(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g)},y=S=>{n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},m())},k=S=>{var _,O,j,z;(_=u.current)==null||_.release();let V=n.current;if(V.disabled===!0||!((O=V.buttons)!=null?O:[0]).includes(S.button))return;let W=V.onDragStart(S);W!==!1&&(s.current.onDrag=W.onDrag,s.current.onDragEnd=(j=W.onDragEnd)!=null?j:gr,s.current.onClick=(z=W.onClick)!=null?z:gr,u.current=l("Drag start"),V.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current={domDragStarted:!0,startPos:{x:S.screenX,y:S.screenY},detection:{detected:!1,totalDistanceMoved:0}},m(),h())},x=S=>{k(S)};return e.addEventListener("mousedown",x),e.addEventListener("click",y),()=>{var S,_;b(),e.removeEventListener("mousedown",x),e.removeEventListener("click",y),i.current.domDragStarted&&((_=(S=s.current).onDragEnd)==null||_.call(S,i.current.detection.detected)),i.current={domDragStarted:!1},m()}},[e]),Ln(f&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[f]}function wQ(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>wy||Math.abs(e.movementY)>wy)}var Hl,Pj,wy,Dt=P(()=>{Hl=$(X()),Bn(),by(),Rl(),kQ(),nt(),Pj=3,wy=100});function xQ(e){return isNaN(e)?"NaN":X0(e)?e.toFixed(0):F5(e,3).toString()}var Cj,Ij,Po,jj,Xf,Oj,Tj,zj,Dj,Aj,Bj,Nj,Fj,Yf,xy=P(()=>{Ft(),Cj=$(X()),Ij=$(X()),Po=$(X()),be(),Gf(),nt(),my(),Dt(),Xf=M.div(jj||(jj=F([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),Tj=M.input(Oj||(Oj=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),Dj=M.div(zj||(zj=F([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),Xf,Xf),Bj=M.div(Aj||(Aj=F([`
  display: contents;
`]))),Nj=e=>!0,Fj=e=>{var t;let[n]=Qe({mode:"noFocus"}),o=(t=e.isValid)!=null?t:Nj,i=(0,Po.useRef)(e);i.current=e;let l=(0,Po.useRef)(null);hy(l.current,()=>{l.current.blur()},n.current.mode==="editingViaKeyboard");let s=(0,Po.useRef)(null),u=(0,Po.useMemo)(()=>{let k=W=>{let B=W.target,{value:Z}=B,re=n.current;n.current=he(L({},re),{currentEditedValueInString:Z});let D=parseFloat(Z);!isFinite(D)||!o(D)||i.current.temporarilySetValue(D)},x=()=>{n.current.mode==="editingViaKeyboard"&&(S(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},S=()=>{let W=n.current,B=parseFloat(W.currentEditedValueInString);!isFinite(B)||!o(B)||W.valueBeforeEditing===B?i.current.discardTemporaryValue():i.current.permanentlySetValue(B)},_=W=>{W.key==="Escape"?(i.current.discardTemporaryValue(),n.current={mode:"noFocus"},l.current.blur()):(W.key==="Enter"||W.key==="Tab")&&(S(),l.current.blur())},O=W=>{n.current.mode==="noFocus"&&(l.current.focus(),W.preventDefault()),W.stopPropagation()},j=()=>{n.current.mode==="noFocus"?z():n.current.mode},z=()=>{let W=i.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(W),valueBeforeEditing:W},setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,100)})},V;return{inputChange:k,onBlur:x,transitionToDraggingMode:()=>{var W;let B=i.current.value;V=(W=l.current)==null?void 0:W.getBoundingClientRect().width,n.current={mode:"dragging"};let Z=B,re=B;return s.current=document.body.style.cursor,{onDrag(D,G,C,Q){let xe=C.altKey?Q/10:Q,q=re+e.nudge({deltaX:xe,deltaFraction:xe/V,magnitude:1});re=e.range?kt(q,e.range[0],e.range[1]):q,i.current.temporarilySetValue(re)},onDragEnd(D){D?(Z===re?i.current.discardTemporaryValue():i.current.permanentlySetValue(re),n.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){l.current.focus(),l.current.setSelectionRange(0,100)}}},onInputKeyDown:_,onClick:O,onFocus:j}},[]);(0,Cj.useEffect)(()=>()=>{u.onBlur()},[]);let d=n.current.mode!=="editingViaKeyboard"?xQ(e.value):n.current.currentEditedValueInString;typeof d=="number"&&isNaN(d)&&(d="NaN");let f=[l];e.inputRef&&f.push(e.inputRef);let m=Po.default.createElement(Tj,{key:"input",type:"text",onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:Zf(f),onMouseDown:k=>{k.stopPropagation()},onDoubleClick:k=>{k.preventDefault(),k.stopPropagation()},autoFocus:e.autoFocus}),{range:v}=e,g=parseFloat(d),h=v?Po.default.createElement(Dj,{style:{"--percentage":kt((g-v[0])/(v[1]-v[0]),0,1)}}):null,[b,y]=(0,Ij.useState)(null);return xt(b,{debugName:"form/BasicNumberInput",onDragStart:u.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:n.current.mode==="editingViaKeyboard"}),Po.default.createElement(Xf,{className:e.className+" "+n.current.mode},Po.default.createElement(Bj,{ref:y},m),h)},Yf=Fj});function SQ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,Sy.useCallback)(l=>e.nudgeFn(he(L({},l),{config:e})),[e]);return Sy.default.createElement(Yf,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:i,autoFocus:o})}var Sy,Ey,Rj=P(()=>{xy(),Sy=$(X()),Ey=SQ});function EQ({value:e,onChange:t,options:n,autoFocus:o}){let i=(0,Fu.useCallback)(l=>{t(String(l.target.value))},[t]);return Fu.default.createElement(_y,{role:"radiogroup"},Object.keys(n).map((l,s)=>Fu.default.createElement(Vj,{key:"label-"+s,"data-checked":e===l},n[l],Fu.default.createElement(Kj,{type:"radio",checked:e===l,value:l,onChange:i,name:"switchbox",autoFocus:o}))))}var Fu,Mj,_y,Uj,Vj,Hj,Kj,Wj,_Q=P(()=>{An(),Fu=$(X()),be(),_y=M.form(Mj||(Mj=F([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),Vj=M.label(Uj||(Uj=F([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),_y,Su(.1,"white")),Kj=M.input(Hj||(Hj=F([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),Wj=EQ}),PQ=P(()=>{}),Py,Cy,Iy,qj=P(()=>{Py=$(X()),Cy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iy=Py.default.createContext&&Py.default.createContext(Cy)});function $j(e){return e&&e.map(function(t,n){return Wl.default.createElement(t.tag,Co({key:n},t.attr),$j(t.child))})}function Kl(e){return function(t){return Wl.default.createElement(CQ,Co({attr:Co({},e.attr)},t),$j(e.child))}}function CQ(e){var t=function(n){var o=e.attr,i=e.size,l=e.title,s=Lj(e,["attr","size","title"]),u=i||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),Wl.default.createElement("svg",Co({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:d,style:Co(Co({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&Wl.default.createElement("title",null,l),e.children)};return Iy!==void 0?Wl.default.createElement(Iy.Consumer,null,function(n){return t(n)}):t(Cy)}var Wl,Co,Lj,IQ=P(()=>{Wl=$(X()),qj(),Co=function(){return Co=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Co.apply(this,arguments)},Lj=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}}),jt=P(()=>{PQ(),IQ(),qj()}),jQ=P(()=>{jt()}),OQ=P(()=>{jt()});function TQ(e){return Kl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var zQ=P(()=>{jt()}),DQ=P(()=>{jt()}),AQ=P(()=>{jt()});function BQ(e){return Kl({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function NQ(e){return Kl({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var FQ=P(()=>{jt()}),RQ=P(()=>{jt()}),MQ=P(()=>{jt()}),UQ=P(()=>{jt()}),VQ=P(()=>{jt()}),HQ=P(()=>{jt()}),KQ=P(()=>{jt()}),WQ=P(()=>{jt()}),qQ=P(()=>{jt()}),$Q=P(()=>{jt()});function Zj(e){return Kl({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var LQ=P(()=>{jt()}),ZQ=P(()=>{jt()}),GQ=P(()=>{jt()}),XQ=P(()=>{jt()});function YQ(e){return Kl({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var QQ=P(()=>{jt()});function JQ(e){return Kl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var eJ=P(()=>{jt()}),ql=P(()=>{jQ(),OQ(),zQ(),DQ(),AQ(),FQ(),RQ(),MQ(),UQ(),VQ(),HQ(),KQ(),WQ(),qQ(),$Q(),LQ(),ZQ(),GQ(),XQ(),QQ(),eJ()});function tJ({value:e,onChange:t,options:n,className:o,autoFocus:i}){let l=(0,pi.useCallback)(s=>{t(String(s.target.value))},[t]);return pi.default.createElement(Xj,null,pi.default.createElement(e4,{className:o,value:e,onChange:l,autoFocus:i},Object.keys(n).map((s,u)=>pi.default.createElement("option",{key:"option-"+u,value:s},n[s]))),pi.default.createElement(Qj,null,pi.default.createElement(YQ,null)))}var pi,Gj,Xj,Yj,Qj,Jj,e4,t4,nJ=P(()=>{pi=$(X()),be(),ql(),Xj=M.div(Gj||(Gj=F([`
  width: 100%;
  position: relative;
`]))),Qj=M.div(Yj||(Yj=F([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),e4=M.select(Jj||(Jj=F([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),t4=tJ});function rJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,Qf.useCallback)(l=>{t.permanentlySetValue(l)},[e,t]);return e.as==="menu"?Qf.default.createElement(t4,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o}):Qf.default.createElement(Wj,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o})}var Qf,n4,oJ=P(()=>{Qf=$(X()),_Q(),nJ(),n4=rJ}),r4,Ru,o4,a4,i4,l4,Jf,jy=P(()=>{be(),r4=$(X()),Ru=$(X()),Gf(),nt(),my(),a4=M.input.attrs({type:"text"})(o4||(o4=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),i4=e=>!0,l4=e=>{var t,n;let[o]=Qe({mode:"noFocus"}),i=(t=e.isValid)!=null?t:i4,l=(0,Ru.useRef)(e);l.current=e;let s=(0,Ru.useRef)(null);hy(s.current,()=>{s.current.blur()},o.current.mode==="editingViaKeyboard");let u=(0,Ru.useMemo)(()=>{let m=x=>{let S=x.target,{value:_}=S,O=o.current;o.current=he(L({},O),{currentEditedValueInString:_}),i(_)&&l.current.temporarilySetValue(_)},v=()=>{var x,S;o.current.mode==="editingViaKeyboard"&&(g(),o.current={mode:"noFocus"}),(S=(x=l.current).onBlur)==null||S.call(x)},g=()=>{let x=o.current,S=x.currentEditedValueInString;i(S)?x.valueBeforeEditing===S?l.current.discardTemporaryValue():l.current.permanentlySetValue(S):l.current.discardTemporaryValue()},h=x=>{x.key==="Escape"?(l.current.discardTemporaryValue(),o.current={mode:"noFocus"},s.current.blur()):(x.key==="Enter"||x.key==="Tab")&&(g(),s.current.blur())},b=x=>{o.current.mode==="noFocus"&&(s.current.focus(),x.preventDefault()),x.stopPropagation()},y=()=>{o.current.mode==="noFocus"?k():o.current.mode},k=()=>{let x=l.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(x),valueBeforeEditing:x},setTimeout(()=>{s.current.focus()})};return{inputChange:m,onBlur:v,onInputKeyDown:h,onClick:b,onFocus:y}},[]);(0,r4.useEffect)(()=>()=>{u.onBlur()},[]);let d=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,f=[s];return e.inputRef&&f.push(e.inputRef),Ru.default.createElement(a4,{key:"input",type:"text",className:"".concat((n=e.className)!=null?n:""," ").concat(i(d)?"":"invalid"),onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:Zf(f),onMouseDown:m=>{m.stopPropagation()},onDoubleClick:m=>{m.preventDefault(),m.stopPropagation()},autoFocus:e.autoFocus})},Jf=l4});function aJ({editingTools:e,value:t,autoFocus:n}){return s4.default.createElement(Jf,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:n})}var s4,u4,iJ=P(()=>{s4=$(X()),jy(),u4=aJ});function lJ(e){e=e.trim().toLowerCase();let t=e.match(zy);if(!t)return{r:0,g:0,b:0,a:1};let n=sJ(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}function Oy(e,{removeAlphaIfOpaque:t=!1}={}){let n=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&n==="ff"?"":n);return"#".concat(o)}function Ty(e){return he(L({},e),{toString(){return Oy(this,{removeAlphaIfOpaque:!0})}})}function sJ(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}var zy,c4=P(()=>{zy=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function ep(e){let t=(0,Dy.useRef)(e),n=(0,Dy.useRef)(o=>{t.current&&t.current(o)});return t.current=e,n.current}var Dy,d4=P(()=>{Dy=$(X())}),hi,tp=P(()=>{hi=(e,t=0,n=1)=>e>n?n:e<t?t:e}),Mu,Ay,f4,By,Ny=P(()=>{Mu=$(X()),Ay=(0,Mu.createContext)(void 0),f4=({children:e})=>{let[t,n]=(0,Mu.useState)(!1);return Mu.default.createElement(Ay.Provider,{value:{editing:t,setEditing:n}},e)},By=()=>(0,Mu.useContext)(Ay)}),ca,$l,p4,np,Fy,Ry,h4,m4,g4,v4,Uu,rp=P(()=>{ca=$(X()),d4(),tp(),be(),Ny(),$l=e=>"touches"in e,p4=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},np=e=>e&&e.ownerDocument.defaultView||self,Fy=(e,t,n)=>{let o=e.getBoundingClientRect(),i=$l(t)?p4(t.touches,n):t;return{left:hi((i.pageX-(o.left+np(e).pageXOffset))/o.width),top:hi((i.pageY-(o.top+np(e).pageYOffset))/o.height)}},Ry=e=>{!$l(e)&&e.preventDefault()},h4=(e,t)=>t&&!$l(e),g4=M.div(m4||(m4=F([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),v4=e=>{var t=e,{onMove:n,onKey:o}=t,i=Xs(t,["onMove","onKey"]);let l=(0,ca.useRef)(null),s=ep(n),u=ep(o),d=(0,ca.useRef)(null),f=(0,ca.useRef)(!1),{setEditing:m}=By(),[v,g,h]=(0,ca.useMemo)(()=>{let b=({nativeEvent:_})=>{let O=l.current;if(O&&(Ry(_),!(h4(_,f.current)||!O))){if($l(_)){f.current=!0;let j=_.changedTouches||[];j.length&&(d.current=j[0].identifier)}O.focus(),m(!0),s(Fy(O,_,d.current)),S(!0)}},y=_=>{Ry(_),($l(_)?_.touches.length>0:_.buttons>0)&&l.current?s(Fy(l.current,_,d.current)):(m(!1),S(!1))},k=_=>{m(!1),S(!1)},x=_=>{let O=_.which||_.keyCode;O<37||O>40||(_.preventDefault(),u({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))};function S(_){let O=f.current,j=l.current,z=np(j),V=_?z.addEventListener:z.removeEventListener;V(O?"touchmove":"mousemove",y),V(O?"touchend":"mouseup",k)}return[b,x,S]},[u,s]);return(0,ca.useEffect)(()=>h,[h]),ca.default.createElement(g4,he(L({},i),{onTouchStart:v,onMouseDown:v,ref:l,onKeyDown:g,tabIndex:0,role:"slider"}))},Uu=ca.default.memo(v4)}),My,y4,b4,k4,w4,x4,S4,op,Uy=P(()=>{My=$(X()),be(),rp(),b4=M(Uu)(y4||(y4=F([""]))),w4=M.div(k4||(k4=F([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),b4),S4=M.div(x4||(x4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),op=({className:e,color:t,left:n,top:o=.5})=>{let i={top:"".concat(o*100,"%"),left:"".concat(n*100,"%")};return My.default.createElement(w4,{style:i,className:e},My.default.createElement(S4,{style:{backgroundColor:t}}))}}),an,ap=P(()=>{an=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n}),Vy,ip,lp,E4,_4,sp=P(()=>{ap(),Vy=({h:e,s:t,v:n,a:o})=>{let i=(200-t)*n/100;return{h:an(e),s:an(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:an(i/2),a:an(o,2)}},ip=e=>{let{h:t,s:n,l:o}=Vy(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)")},lp=e=>{let{h:t,s:n,l:o,a:i}=Vy(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(i,")")},E4=({h:e,s:t,v:n,a:o})=>{e=e/360*6,t=t/100,n=n/100;let i=Math.floor(e),l=n*(1-t),s=n*(1-(e-i)*t),u=n*(1-(1-e+i)*t),d=i%6;return{r:an([n,s,l,l,u,n][d]*255),g:an([u,n,n,s,l,l][d]*255),b:an([l,l,u,n,n,s][d]*255),a:an(o,2)}},_4=({r:e,g:t,b:n,a:o})=>{let i=Math.max(e,t,n),l=i-Math.min(e,t,n),s=l?i===e?(t-n)/l:i===t?2+(n-e)/l:4+(e-t)/l:0;return{h:an(60*(s<0?s+6:s)),s:an(i?l/i*100:0),v:an(i/255*100),a:o}}}),Vu,P4,C4,I4,j4,O4,T4,uJ=P(()=>{Vu=$(X()),rp(),Uy(),sp(),tp(),ap(),be(),C4=M.div(P4||(P4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),j4=M(op)(I4||(I4=F([`
  z-index: 2;
`]))),O4=({className:e,hue:t,onChange:n})=>Vu.default.createElement(C4,{className:e},Vu.default.createElement(Uu,{onMove:o=>{n({h:360*o.left})},onKey:o=>{n({h:hi(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":an(t)},Vu.default.createElement(j4,{left:t/360,color:ip({h:t,s:100,v:100,a:1})}))),T4=Vu.default.memo(O4)}),Hu,z4,D4,A4,B4,N4,F4,cJ=P(()=>{Hu=$(X()),rp(),Uy(),sp(),tp(),ap(),be(),D4=M.div(z4||(z4=F([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),B4=M(op)(A4||(A4=F([`
  z-index: 3;
`]))),N4=({hsva:e,onChange:t})=>{let n=l=>{t({s:l.left*100,v:100-l.top*100})},o=l=>{t({s:hi(e.s+l.left*100,0,100),v:hi(e.v-l.top*100,0,100)})},i={backgroundColor:ip({h:e.h,s:100,v:100,a:1})};return Hu.default.createElement(D4,{style:i},Hu.default.createElement(Uu,{onMove:n,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(an(e.s),"%, Brightness ").concat(an(e.v),"%")},Hu.default.createElement(B4,{top:1-e.v/100,left:e.s/100,color:ip(e)})))},F4=Hu.default.memo(N4)}),Ku,R4,M4,U4,V4,H4,K4,W4,dJ=P(()=>{Ku=$(X()),rp(),Uy(),sp(),tp(),ap(),be(),M4=M.div(R4||(R4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),V4=M.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(U4||(U4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),K4=M(op)(H4||(H4=F([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),W4=({className:e,hsva:t,onChange:n})=>{let o=u=>{n({a:u.left})},i=u=>{n({a:hi(t.a+u.left)})},l=lp(Object.assign({},t,{a:0})),s=lp(Object.assign({},t,{a:1}));return Ku.default.createElement(M4,{className:e},Ku.default.createElement(V4,{colorFrom:l,colorTo:s}),Ku.default.createElement(Uu,{onMove:o,onKey:i,"aria-label":"Alpha","aria-valuetext":"".concat(an(t.a*100),"%")},Ku.default.createElement(K4,{left:t.a,color:lp(t)})))}}),up,q4=P(()=>{up=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}});function fJ(e,t,n,o){let{editing:i}=By(),[l,s]=(0,Io.useState)(t),u=ep(n),d=ep(o),f=i?l:t,[m,v]=(0,Io.useState)(()=>e.toHsva(f)),g=(0,Io.useRef)({color:f,hsva:m}),h=(0,Io.useRef)({color:f,hsva:m});(0,Io.useEffect)(()=>{i&&s(g.current.color)},[i]),(0,Io.useEffect)(()=>{let y=e.fromHsva(m);i?!up(m,g.current.hsva)&&!e.equal(y,g.current.color)&&(g.current={hsva:m,color:y},s(y),u(y)):!up(m,h.current.hsva)&&!e.equal(y,h.current.color)&&(h.current={hsva:m,color:y},g.current={hsva:m,color:y},d(y))},[i,m,e,u,d]),(0,Io.useEffect)(()=>{if(!i&&!e.equal(f,h.current.color)){let y=e.toHsva(f);h.current={hsva:y,color:f},v(y)}},[i,f,e]);let b=(0,Io.useCallback)(y=>{v(k=>Object.assign({},k,y))},[]);return[m,b]}var Io,pJ=P(()=>{Io=$(X()),q4(),d4(),Ny()}),Ll,$4,L4,Z4,hJ=P(()=>{Ll=$(X()),uJ(),cJ(),dJ(),pJ(),be(),L4=M.div($4||($4=F([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),Z4=e=>{var t=e,{className:n,colorModel:o,color:i=o.defaultColor,temporarilySetValue:l,permanentlySetValue:s,discardTemporaryValue:u}=t,d=Xs(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[f,m]=fJ(o,i,l,s);return(0,Ll.useEffect)(()=>()=>{u()},[]),Ll.default.createElement(L4,L({},d),Ll.default.createElement(F4,{hsva:f,onChange:m}),Ll.default.createElement(T4,{hue:f.h,onChange:m}),Ll.default.createElement(W4,{hsva:f,onChange:m}))}}),Hy,G4,X4,Y4,Q4,mJ=P(()=>{Hy=$(X()),hJ(),q4(),sp(),Ny(),G4=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),X4=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),Y4={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>_4(X4(e)),fromHsva:e=>G4(E4(e)),equal:up},Q4=e=>Hy.default.createElement(f4,null,Hy.default.createElement(Z4,he(L({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:Y4})))}),gJ=P(()=>{mJ()}),J4,e6,t6,vJ=P(()=>{J4=$(X()),e6=function(e){(0,J4.useEffect)(e,[])},t6=e6}),n6,r6,o6,yJ=P(()=>{n6=$(X()),vJ(),r6=function(e){var t=(0,n6.useRef)(e);t.current=e,t6(function(){return function(){return t.current()}})},o6=r6}),cp,a6,i6,bJ=P(()=>{cp=$(X()),yJ(),a6=function(e){var t=(0,cp.useRef)(0),n=(0,cp.useState)(e),o=n[0],i=n[1],l=(0,cp.useCallback)(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return o6(function(){cancelAnimationFrame(t.current)}),[o,l]},i6=a6});function kJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function wJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var dp,xJ=P(()=>{dp=typeof window<"u"}),l6,s6,fp,Ky=P(()=>{l6=$(X()),bJ(),xJ(),s6=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=i6({width:dp?window.innerWidth:e,height:dp?window.innerHeight:t}),o=n[0],i=n[1];return(0,l6.useEffect)(function(){if(dp){var l=function(){i({width:window.innerWidth,height:window.innerHeight})};return kJ(window,"resize",l),function(){wJ(window,"resize",l)}}},[]),o},fp=s6});function Wy(e){let[t,n]=(0,qy.useState)(null);return(0,qy.useLayoutEffect)(()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)}),[e]),t}var qy,u6=P(()=>{qy=$(X())}),c6,d6,$y,f6=P(()=>{c6=$(X()),d6=(0,c6.createContext)({}),$y=d6});function SJ(e,t,n){let o=e.getBoundingClientRect(),i=l=>{(l.clientX<o.left-t||l.clientX>o.left+o.width+t||l.clientY<o.top-t||l.clientY>o.top+o.height+t)&&n(l)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}var EJ=P(()=>{}),p6,pp,Ly,h6,Zy,m6=P(()=>{p6=$(X()),pp=$(X()),Ky(),u6(),f6(),nt(),my(),EJ(),Rl(),Ft(),Ly=8,h6=e=>{var t,n;let o=e.children(),[i,l]=Qe(null),s=o.props.style?L({},o.props.style):{};s.position="absolute";let u=Wy(l),d=Wy(e.target),f=fp(),[m,v]=(0,pp.useState)({});return(0,pp.useLayoutEffect)(()=>{var g,h,b;if(!u||!l||!d)return;let y=(g=e.verticalGap)!=null?g:8,k={},x=(h=e.verticalPlacement)!=null?h:"bottom",S=0,_=0;x==="bottom"?d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):x="overlay":x==="top"&&(d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):x="overlay");let O=0;if(x!=="overlay"){let Z=d.left+d.width/2;Z<u.width/2?(_=y,O=Math.max(Z-y,Ly)):Z+u.width/2>f.width?(_=f.width-(y+u.width),O=Math.min(Z-_,u.width-Ly)):(_=Z-u.width/2,O=u.width/2),k.left=O+"px"}let{minX:j=-1/0,maxX:z=1/0,minY:V=-1/0,maxY:W=1/0}=(b=e.constraints)!=null?b:{},B={left:kt(_,j,z-u.width),top:kt(S,V,W+u.height)};if(l.style.left=B.left+"px",l.style.top=B.top+"px",v(k),e.onPointerOutside)return SJ(l,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[u,l,e.target,d,f,e.onPointerOutside]),hy([l,(t=e.target)!=null?t:null],(n=e.onClickOutside)!=null?n:gr),p6.default.createElement($y.Provider,{value:m},(0,pp.cloneElement)(o,{ref:i,style:s}))},Zy=h6});function qr(e,t){let n=(...h)=>{},{isPointerBeingCaptured:o}=Ej("usePopover"),[i,l]=Qe({isOpen:!1}),s=(0,ln.useRef)(e),u=(0,ln.useCallback)(h=>{i.current={isOpen:!1}},[]),d=(0,ln.useCallback)((h,b)=>{var y;let k=typeof s.current=="function"?s.current():s.current;function x(){m.childHasFocusRef.current||k.closeOnClickOutside!==!1&&u("clicked outside popover")}i.current={isOpen:!0,clickPoint:{clientX:h.clientX,clientY:h.clientY},target:b,opts:k,onClickOutside:x,onPointerOutside:k.closeWhenPointerIsDistant===!1?void 0:{threshold:(y=k.pointerDistanceThreshold)!=null?y:100,callback:()=>{m.childHasFocusRef.current||o()||u("pointer outside")}}}},[]),f=(0,ln.useCallback)((...h)=>{i.current.isOpen?u("toggled"):d(...h)},[]),m=_J({_debug:n,state:l}),[,v]=(0,ln.useContext)(mc);(0,ln.useEffect)(()=>{let h;return l.isOpen&&(h=v()),()=>h==null?void 0:h()},[l.isOpen]);let g=(0,ln.useContext)(Bl);return{node:l.isOpen?(0,g6.createPortal)(ln.default.createElement(Gy.Provider,{value:m.childPopoverLock},ln.default.createElement(Zy,{children:t,target:l.target,onClickOutside:l.onClickOutside,onPointerOutside:l.onPointerOutside,constraints:l.opts.constraints,verticalGap:l.opts.verticalGap})),g):ln.default.createElement(ln.default.Fragment,null),open:d,close:u,toggle:f,isOpen:l.isOpen}}function _J(e){let t=(0,ln.useContext)(Gy);(0,ln.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return()=>{o.releaseFocus()}}},[e.state.isOpen]);let n=(0,ln.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus(){return n.current=!0,{releaseFocus(){n.current=!1}}}}}}var ln,g6,Gy,$r=P(()=>{by(),nt(),ln=$(X()),g6=$(bo()),fi(),m6(),Fb(),Gy=ln.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),jo,v6,y6,b6,k6,w6,x6,S6,E6,_6,P6,C6,I6,PJ=P(()=>{jo=$(X()),be(),f6(),y6=M.div(v6||(v6=F([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),k6=M.div(b6||(b6=F([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),x6=M.path(w6||(w6=F([`
  fill: var(--popover-bg);
`]))),E6=M.path(S6||(S6=F([`
  fill: var(--popover-inner-stroke);
`]))),P6=M.path(_6||(_6=F([`
  fill: var(--popover-outer-stroke);
`]))),C6=(0,jo.forwardRef)(({className:e},t)=>{let n=(0,jo.useContext)($y);return jo.default.createElement(y6,{className:e,ref:t,style:L({},n)},jo.default.createElement(k6,null,jo.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jo.default.createElement(P6,{d:"M6 0L0 6H12L6 0Z"}),jo.default.createElement(E6,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),jo.default.createElement(x6,{d:"M6 3L0 9H12L6 3Z"}))))}),I6=C6}),hp,Xy,j6,O6,T6,Lr,Zr=P(()=>{rt(),An(),hp=$(X()),be(),PJ(),Xy=mr(.05,"#2a2a31"),O6=M.div(j6||(j6=F([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),Xy,tt),T6=hp.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:n=!0},o)=>hp.default.createElement(O6,{className:t,ref:o},n?hp.default.createElement(I6,null):void 0,e)),Lr=T6});function CJ({editingTools:e,value:t,autoFocus:n}){let o=(0,Gr.useRef)(null),i=(0,Gr.useCallback)(s=>{let u=Ty(lJ(s));e.permanentlySetValue(u)},[e]),l=qr({debugName:"RgbaPropEditor"},()=>Gr.default.createElement(M6,null,Gr.default.createElement(Q4,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:s=>{let u=Ty(s);e.temporarilySetValue(u)},permanentlySetValue:s=>{let u=Ty(s);e.permanentlySetValue(u)},discardTemporaryValue:e.discardTemporaryValue})));return Gr.default.createElement(Gr.default.Fragment,null,Gr.default.createElement(D6,null,Gr.default.createElement(B6,{rgbaColor:t,ref:o,onClick:s=>{l.toggle(s,o.current)}}),Gr.default.createElement(F6,{value:Oy(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:Yy,discardTemporaryValue:Yy,permanentlySetValue:i,isValid:s=>!!s.match(zy),autoFocus:n})),l.node)}var Gr,z6,D6,A6,B6,N6,F6,Yy,R6,M6,U6,IJ=P(()=>{c4(),c4(),Gr=$(X()),gJ(),be(),$r(),jy(),Zr(),D6=M.div(z6||(z6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),B6=M.div.attrs(e=>({style:{background:Oy(e.rgbaColor)}}))(A6||(A6=F([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),F6=M(Jf)(N6||(N6=F([`
  flex: 1;
`]))),Yy=()=>{},M6=M.div(R6||(R6=F([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),Xy),U6=CJ});function jJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=yr.default.useState();(0,yr.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,yr.useCallback)(d=>Vt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"image",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return yr.default.createElement(Qy,{empty:u},yr.default.createElement(L6,{empty:u,title:u?"Upload image":'"'.concat(n.id,'" (Click to upload new image)')},yr.default.createElement(G6,{type:"file",onChange:s,accept:"image/*,.hdr",autoFocus:o}),i?yr.default.createElement(Y6,{src:i}):yr.default.createElement(K6,null)),!u&&yr.default.createElement(J6,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},yr.default.createElement(ay,null)))}var yr,V6,Qy,H6,K6,W6,q6,$6,L6,Z6,G6,X6,Y6,Q6,J6,eO,OJ=P(()=>{Tu(),yr=$(X()),be(),Qy=M.div(V6||(V6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),K6=M.div(H6||(H6=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),L6=M.label($6||($6=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Dn(W6||(W6=F([""]))):Dn(q6||(q6=F([""])))),G6=M.input.attrs({type:"file"})(Z6||(Z6=F([`
  display: none;
`]))),Y6=M.img(X6||(X6=F([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),J6=M.button(Q6||(Q6=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),Qy),eO=jJ});function TJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=br.default.useState();(0,br.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,br.useCallback)(d=>Vt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"file",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return br.default.createElement(Jy,{empty:u},br.default.createElement(lO,{empty:u,title:u?"Upload file":'"'.concat(n.id,'" (Click to upload new file)')},br.default.createElement(uO,{type:"file",onChange:s,autoFocus:o}),i?br.default.createElement(ny,null):br.default.createElement(rO,null)),!u&&br.default.createElement(dO,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},br.default.createElement(ay,null)))}var br,tO,Jy,nO,rO,oO,aO,iO,lO,sO,uO,cO,dO,fO,zJ=P(()=>{Tu(),br=$(X()),be(),Jy=M.div(tO||(tO=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),rO=M.div(nO||(nO=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),lO=M.label(iO||(iO=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Dn(oO||(oO=F([""]))):Dn(aO||(aO=F([""])))),uO=M.input.attrs({type:"file"})(sO||(sO=F([`
  display: none;
`]))),dO=M.button(cO||(cO=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),Jy),fO=TJ}),eb,pO=P(()=>{vQ(),Rj(),oJ(),iJ(),IJ(),OJ(),zJ(),eb={number:Ey,string:u4,boolean:hj,stringLiteral:n4,rgba:U6,image:eO,file:fO}});function Wu(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var mp=P(()=>{});function Xr(e){return e.type==="compound"||e.type==="enum"}function gp(e,t){if(!e)return;let[n,...o]=t;if(n===void 0)return e;if(!Xr(e))return;let i=e.type==="enum"?e.cases[n]:e.props[n];return gp(i,o)}function vp(e,t){let n=t.deserializeAndSanitize(e);return n===void 0?t.default:n}function DJ(e){return!Xr(e)}function*qu(e,t){if(e.type==="compound")for(let n in e.props)yield*gq(qu(e.props[n],[...t,n]));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var tb,da=P(()=>{mp(),tb=Wu(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(Xr(n)){if(tb(n))return!0}else return!0}return!1})}),nb,hO=P(()=>{nb="calc(var(--left-pad) + var(--depth) * var(--step))"}),mO,fa,mi=P(()=>{be(),fa=Dn(mO||(mO=F([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),$u,yp,gO,vO,yO,bO,kO,wO,xO=P(()=>{Rl(),$u=$(X()),be(),yp=26,vO=M.li(gO||(gO=F([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),yp,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),bO=M.span(yO||(yO=F([""]))),kO=e=>$u.default.createElement(vO,{onClick:e.enabled?e.onClick:gr,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},$u.default.createElement(bO,null,$u.default.createElement($u.default.Fragment,null,e.label))),wO=kO});function AJ(e){let t=(0,rb.useRef)(e);t.current=e,(0,rb.useEffect)(()=>{let n=o=>t.current(o);return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])}var rb,BJ=P(()=>{rb=$(X())}),Lu,SO,EO,_O,PO,CO,IO,jO,ob,OO=P(()=>{Lu=$(X()),xO(),be(),An(),rt(),SO=190,EO=!0,PO=M.ul(_O||(_O=F([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),SO,mr(.2,"#111"),tt),IO=M.div(CO||(CO=F([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),jO=Lu.default.forwardRef((e,t)=>Lu.default.createElement(PO,{ref:t},EO&&e.displayName?Lu.default.createElement(IO,null,e.displayName):null,e.items.map((n,o)=>Lu.default.createElement(wO,{key:"item-".concat(o),label:n.label,enabled:n.enabled!==!1,onClick:i=>{n.callback&&n.callback(i),e.onRequestClose()}})))),ob=jO}),TO,zO,bp,DO,Zu,AO,BO,NJ=P(()=>{u6(),TO=$(X()),zO=$(X()),bp=$(X()),DO=$(bo()),Ky(),xO(),fi(),BJ(),OO(),Zu=20,AO=e=>{let[t,n]=(0,bp.useState)(null),o=Wy(t),i=fp();(0,bp.useLayoutEffect)(()=>{if(!o||!t)return;let u={left:o.width/2,top:yp/2+(e.displayName?yp:0)},d={left:e.clickPoint.clientX-u.left,top:e.clickPoint.clientY-u.top};d.left<0?d.left=0:d.left+o.width>i.width&&(d.left=i.width-o.width),d.top<0?d.top=0:d.top+o.height>i.height&&(d.top=i.height-o.height),t.style.left=d.left+"px",t.style.top=d.top+"px";let f=m=>{(m.clientX<d.left-Zu||m.clientX>d.left+o.width+Zu||m.clientY<d.top-Zu||m.clientY>d.top+o.height+Zu)&&e.onRequestClose()};return window.addEventListener("mousemove",f),()=>{window.removeEventListener("mousemove",f)}},[o,t,e.clickPoint,i,e.onRequestClose]);let l=(0,zO.useContext)(Bl);AJ(u=>{u.key==="Escape"&&e.onRequestClose()});let s=(0,TO.useMemo)(()=>{let u=Array.isArray(e.items)?e.items:e.items();return u.length>0?u:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,DO.createPortal)(bp.default.createElement(ob,{items:s,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),l)},BO=AO}),kp,NO,FO,FJ=P(()=>{kp=$(X()),NO=(e,t)=>{let[n,o]=(0,kp.useState)({isOpen:!1}),i=(0,kp.useCallback)(()=>o({isOpen:!1}),[]);return(0,kp.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let l=s=>{o({isOpen:!0,event:s}),s.preventDefault(),s.stopPropagation()};return e.addEventListener("contextmenu",l),()=>{e.removeEventListener("contextmenu",l)}},[e,t.disabled]),[n,i]},FO=NO});function hn(e,t){let[n,o]=FO(e,t),[,i]=(0,Zl.useContext)(mc);return(0,Zl.useEffect)(()=>{var l;let s;return n.isOpen&&((l=t.onOpen)==null||l.call(t),s=i()),()=>s==null?void 0:s()},[n.isOpen,t.onOpen]),[n.isOpen?Zl.default.createElement(BO,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:o}):RO,o,n.isOpen]}var Zl,RO,mn=P(()=>{Zl=$(X()),NJ(),FJ(),Fb(),RO=Zl.default.createElement(Zl.default.Fragment,null)});function pa(e,t){return t.length===0?e:ni(e,t)}var wp=P(()=>{du()});function MO(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:MO(e.parentElement,t)}var RJ=P(()=>{});function Gu(e,t){let n=e;for(let o of t)n=n[o];return n}var xp=P(()=>{});function MJ(e){let t=new Ep.Atom(void 0),n=new Ep.Atom({}),o=new Ep.Atom({}),i=0;return{addRelatedFlags(l,s){let u=String(++i),d=s.map(f=>{let m={flag:f.flag},v=[f.affects,l,u];return o.setByPointer(g=>Gu(g,v),m),v});return()=>{for(let f of d)o.setByPointer(m=>Gu(m,f),void 0)}},usePresenceFlag(l){},setUserHover(l){let s=t.get();s!==l&&(s&&n.setByPointer(u=>u[s],!1),t.set(l),l&&n.setByPointer(u=>u[l],!0))}}}function gi(e){let t=Sp.default.useContext(ib),n=t.usePresenceFlag(e);return{attrs:{[_p]:e},flag:n,useRelations(o,i){(0,ab.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...i])}}}function UO(e){let t=Sp.default.useContext(ib),n=sa("PresenceListeners");(0,ab.useEffect)(()=>{let o;if(!e)return;let i=l=>{if(l.target instanceof Node){let s=MO(l.target,"[".concat(_p,"]"));if(s){let u=s.getAttribute(_p);o!==u&&(o=u,t.setUserHover(u||void 0),n._debug("Updated current hover",{itemKey:u}));return}o!=null&&(o=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),o!=null&&(o=null,n._debug("Cleared current hover as part of cleanup"))}},[e,t])}var Sp,ab,VO,Ep,HO,ib,_p,vi=P(()=>{Sp=$(X()),ab=$(X()),ua(),VO=je,Ep=je,Re(),RJ(),xp(),HO=(0,VO.prism)(()=>{}),HO.keepHot(),ib=Sp.default.createContext(MJ()),_p="data-pi-key"}),$t,KO,Xu,WO,lb,ha,qO,sb,$O,LO,ZO,Pp,GO,XO,YO,QO,JO,e8,Yu,t8,ub,Cp=P(()=>{rt(),An(),$t=$(X()),be(),vi(),Xu=M.div(KO||(KO=F([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),mr(.2,"black")),lb=M.div(WO||(WO=F([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),Xu),ha={offColor:"#555",onColor:"#e0c917"},sb=M(lb)(qO||(qO=F([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?ha.onColor:ha.offColor),LO=Dn($O||($O=F([`
  pointer-events: none !important;
`]))),Pp=M(lb)(ZO||(ZO=F([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?ha.onColor:ha.offColor,e=>e.available?tt:LO),XO=M(Pp)(GO||(GO=F([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),Xu),QO=M(Pp)(YO||(YO=F([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),Xu),(e=>{let t=M.g(JO||(JO=F([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),Pp);e.Prev=()=>$t.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(t,{transform:"translate(6 3)"},$t.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>$t.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(t,{transform:"translate(1 3)"},$t.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=M.g(e8||(e8=F([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),sb);e.Cur=()=>$t.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(n,{transform:"translate(1 4)"},$t.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(Yu||(Yu={})),t8=e=>{var t,n,o,i,l;let s=gi((t=e.prev)==null?void 0:t.itemKey),u=gi(((n=e.cur)==null?void 0:n.type)==="on"?e.cur.itemKey:void 0),d=gi((o=e.next)==null?void 0:o.itemKey);return $t.default.createElement(Xu,null,$t.default.createElement(XO,L({available:!!e.prev,onClick:(i=e.prev)==null?void 0:i.jump,flag:s.flag},s.attrs),$t.default.createElement(Yu.Prev,null)),$t.default.createElement(sb,L({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:u.flag},u.attrs),$t.default.createElement(Yu.Cur,null)),$t.default.createElement(QO,L({available:!!e.next,onClick:(l=e.next)==null?void 0:l.jump,flag:d.flag},d.attrs),$t.default.createElement(Yu.Next,null)))},ub=t8}),Ip,Qu,n8,r8,o8,a8,i8,l8,s8,Ju,u8=P(()=>{An(),Ip=$(X()),be(),Ne(),Cp(),da(),Qu={defaultState:{color:mr(.95,"#C4C4C4"),hoverColor:mr(.15,ha.onColor)},withStaticOverride:{color:mr(.85,"#C4C4C4"),hoverColor:mr(.15,ha.onColor)}},r8=M.div(n8||(n8=F([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?Qu.withStaticOverride.color:Qu.defaultState.color,e=>e.hasStaticOverride?Qu.withStaticOverride.hoverColor:Qu.defaultState.hoverColor),a8=M.div(o8||(o8=F([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),l8=M.div(i8||(i8=F([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),s8=e=>{let{hasStaticOverride:t,obj:n,propConfig:o,pathToProp:i}=e;return Ip.default.createElement(r8,{hasStaticOverride:t,onClick:()=>{de().transaction(({stateEditors:l})=>{for(let{path:s,conf:u}of qu(o,i)){if(Xr(u))continue;let d=he(L({},n.address),{pathToProp:s});l.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(d,o)}})},title:"Sequence this prop"},t?Ip.default.createElement(l8,{title:"The default value is overridden"}):Ip.default.createElement(a8,{title:"This is the default value for this prop"}))},Ju=s8});function ec(e){return JSON.stringify(cb(e))}function cb(e){return af(e)?Object.keys(e).sort().reduce((t,n)=>(t[n]=cb(e[n]),t),{}):Array.isArray(e)?e.map(cb):e}var UJ=P(()=>{Ft()}),c8,tc,d8=P(()=>{c8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tc=(e=21)=>{let t="",n=e;for(;n--;)t+=c8[Math.random()*64|0];return t}});function f8(){return tc(10)}function VJ(){return tc(10)}function HJ(){return tc(10)}var Rt,Oo=P(()=>{UJ(),d8(),Rt={forSheet(){return"sheet"},forSheetObject(e){return ec({o:e.address.objectKey})},forSheetObjectProp(e,t){return ec({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,n){return ec({o:e.address.objectKey,t,k:n})},forSheetObjectAggregateKeyframe(e,t){return Rt.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return ec({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,n){return ec({o:e.address.objectKey,p:t,pos:n})}}});function p8(e,t,n){if(!t||t.data.keyframes.length===0)return h8;let o=db.get(t.data);if(o&&o[0]===n)return o[1];function i(s){if(!t)return;let u=t.data.keyframes[s];return u&&{kf:u,track:t,itemKey:Rt.forTrackKeyframe(e,t.id,u.id)}}let l=(()=>{let s=t.data.keyframes.findIndex(d=>d.position>=n);if(s===-1)return{prev:i(t.data.keyframes.length-1)};let u=i(s);return u.kf.position===n?{prev:i(s-1),cur:u,next:i(s+1)}:{next:u,prev:i(s-1)}})();return db.set(t.data,[n,l]),l}var db,h8,m8=P(()=>{Oo(),db=new WeakMap,h8={}}),fb,g8=P(()=>{fb={}});function KJ(e,t,n){let o=(0,Zn.getPointerParts)(e).path;return Xe(()=>{if(!tb(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:yi.default.createElement(Ju,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:n})};let i=!!(0,Zn.val)(ni(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Zn.getPointerParts)(e).path)),l=[],s={beingScrubbed:i,contextMenuItems:l,controlIndicators:yi.default.createElement(yi.default.Fragment,null)},u=(0,Zn.val)(t.template.getMapOfValidSequenceTracks_forStudio()),d=pa(u,o),f=d!==void 0&&Object.keys(d).length!==0,m=[],v=(0,Zn.val)(t.template.getStaticButNotSequencedOverrides()),g=pa(v??fb,o)!==void 0;if(f)for(let h of qu(n,[])){if(Xr(h.conf))continue;let b=pa(d,h.path);typeof b!="string"?g=!0:m.push(b)}if((g||f)&&l.push({label:"Reset all to default",callback:()=>{de().transaction(({unset:h})=>{h(e)})}}),f&&l.push({label:"Make all static",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of qu(n,[])){if(Xr(y))continue;let k=he(L({},t.address),{pathToProp:[...o,...b]}),x=Gu(e,b);h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},k),{value:t.getValueByPointer(x)}))}})}}),(!f||f&&g)&&l.push({label:"Sequence all",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of qu(n,o)){if(Xr(y))continue;let k=he(L({},t.address),{pathToProp:b});h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(k,n)}})}}),f){let h=Zn.prism.memo("controlIndicators",()=>yi.default.createElement(WJ,{pointerToProp:e,obj:t,possibleSequenceTrackIds:d,listOfDescendantTrackIds:m}),[d,m]);return he(L({},s),{type:"HasSequences",controlIndicators:h})}else return he(L({},s),{type:"AllStatic",controlIndicators:yi.default.createElement(Ju,{hasStaticOverride:g,obj:t,pathToProp:o,propConfig:n})})},[])}function WJ({pointerToProp:e,obj:t,possibleSequenceTrackIds:n,listOfDescendantTrackIds:o}){return Xe(()=>{let i=(0,Zn.getPointerParts)(e).path,l=(0,Zn.val)(t.sheet.getSequence().positionPrism),s=o.map(h=>({trackId:h,track:(0,Zn.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[h])})).filter(({track:h})=>!!h).map(h=>he(L({},h),{nearbies:p8(t,{id:h.trackId,data:h.track,sheetObject:t},l)})),u=s.find(({nearbies:h})=>!!h.cur),d=s.every(({nearbies:h})=>!!h.cur),f=s.reduce((h,b)=>b.nearbies.prev&&(h===void 0||b.nearbies.prev.kf.position>h.kf.position)?b.nearbies.prev:h,void 0),m=s.reduce((h,b)=>b.nearbies.next&&(h===void 0||b.nearbies.next.kf.position<h.kf.position)?b.nearbies.next:h,void 0),v=()=>{d?de().transaction(h=>{h.unset(e)}):u?de().transaction(h=>{h.set(e,(0,Zn.val)(e))}):de().transaction(h=>{h.set(e,(0,Zn.val)(e))})},g={cur:u?{type:"on",itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,l),toggle:v}:{toggle:v,type:"off"},prev:f!==void 0?{position:f.kf.position,itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,f.kf.position),jump:()=>{t.sheet.getSequence().position=f.kf.position}}:void 0,next:m!==void 0?{position:m.kf.position,itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,m.kf.position),jump:()=>{t.sheet.getSequence().position=m.kf.position}}:void 0};return yi.default.createElement(ub,L({},g))},[e,t,n,o])}var Zn,yi,qJ=P(()=>{Ne(),wp(),Re(),Zn=je,du(),yi=$(X()),u8(),da(),Oo(),xp(),Cp(),m8(),g8()});function $J(){let e=0,t=new b8.Atom({hasLock:!1});return{replaceLock(n,o){let i=e++,l=t.get();return l.hasLock&&l.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:o,deepPath:LJ(v8(n))}),function(){let s=t.get();s.hasLock&&s.lockId===i&&(s.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(n){let o=Gu(t.pointer.deepPath,v8(n));return(0,k8.prism)(()=>{let i=(0,y8.val)(o);return i===!0?"self":i?"descendent":null})}}}function v8(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function LJ(e){let t={};return _l(t,e,!0),t}var y8,b8,k8,jp,pb=P(()=>{y8=je,b8=je,k8=je,xp(),Q0(),jp=$J()});function ZJ(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var GJ=P(()=>{});function w8(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?ZJ(e):JSON.stringify(e)}catch{return(e==null?void 0:e.name)||String(e)}}var XJ=P(()=>{GJ()});function YJ(e,t,n){e||(arguments.length>2?x8(t,n):x8(t))}function x8(e,t){let n=arguments.length>1,o=w8(e),i=n?`
Instead found: `.concat(w8(t)):"";throw new C8("Invariant: ".concat(o).concat(i),t)}var S8,E8,_8,P8,C8,QJ=P(()=>{XJ(),S8=/^\s*at.+node:internal.+/gm,E8=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,_8=/^\s*(at|[^@]+@).+test\-helpers.+/gm,P8=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,C8=class extends Error{constructor(e,t){var n;super(e),et(this,"found"),t!==void 0&&(this.found=t),this.stack=(n=this.stack)==null?void 0:n.replace(E8,"").replace(P8,"").replace(_8,"").replace(S8,"")}}});function JJ(e){return(0,Op.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}else{let t={};for(let n in e)t[n]=(0,Op.val)(e[n]);return t}})}function hb(e){let t=Gl.default.memo(Gl.default.forwardRef(function(n,o){let i=[],l={},s={ref:o};for(let m in n){let v=n[m];(0,Op.isPrism)(v)?(i.push(v),l[m]=v):s[m]=v}let u=(0,Gl.useRef)(i.length);YJ(u.current===i.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:i.length});let d=(0,Gl.useMemo)(()=>JJ(l),i),f=J0(d);return f&&Gl.default.createElement(e,L(L({},s),f))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var Op,Gl,I8=P(()=>{Op=je,Re(),Gl=$(X()),QJ()});function eee(e,t,n){return(0,kr.prism)(()=>{var o;let i=(0,kr.getPointerParts)(e).path,l=t.getValueByPointer(e),s=kr.prism.memo("editPropValue",()=>{let b=null;return{temporarilySetValue(y){b||(b=de().scrub()),b.capture(k=>{k.set(e,y)})},discardTemporaryValue(){b&&(b.discard(),b=null)},permanentlySetValue(y){b?(b.capture(k=>{k.set(e,y)}),b.commit(),b=null):de().transaction(k=>{k.set(e,y)})}}},[]),u={createAsset:b=>t.sheet.project.assetStorage.createAsset(b),getAssetUrl:b=>b.id?t.sheet.project.assetStorage.getAssetUrl(b.id):void 0},d=(0,kr.val)(ni(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,kr.getPointerParts)(e).path))===!0,f=[],m=he(L(L({},s),u),{value:l,beingScrubbed:d,contextMenuItems:f,controlIndicators:Xl.default.createElement(Xl.default.Fragment,null)}),v=DJ(n);if(v){let b=(0,kr.val)(t.template.getMapOfValidSequenceTracks_forStudio()),y=pa(b,i);if(typeof y=="string"){f.push({label:"Make static",callback:()=>{de().transaction(({stateEditors:z})=>{let V=he(L({},t.address),{pathToProp:i});z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},V),{value:t.getValueByPointer(e)}))})}});let k=y,x=kr.prism.sub("lcr",()=>{let z=(0,kr.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[k]),V=(0,kr.val)(t.sheet.getSequence().positionPrism);return p8(t,z&&{data:z,id:k,sheetObject:t},V)},[k]),S;m.beingScrubbed?S="Sequenced_OnKeyframe_BeingScrubbed":x.cur?S="Sequenced_OnKeyframe":((o=x.prev)==null?void 0:o.kf.connectedRight)===!0?S="Sequenced_BeingInterpolated":S="Sequened_NotBeingInterpolated";let _=()=>{x.cur?de().transaction(z=>{z.unset(e)}):de().transaction(z=>{z.set(e,m.value)})},O={cur:x.cur?{type:"on",itemKey:x.cur.itemKey,toggle:_}:{type:"off",toggle:_},prev:x.prev!==void 0?{itemKey:x.prev.itemKey,position:x.prev.kf.position,jump:()=>{t.sheet.getSequence().position=x.prev.kf.position}}:void 0,next:x.next!==void 0?{itemKey:x.next.itemKey,position:x.next.kf.position,jump:()=>{t.sheet.getSequence().position=x.next.kf.position}}:void 0},j=Xl.default.createElement(ub,L({},O));return he(L({},m),{type:"Sequenced",shade:S,nearbyKeyframes:x,controlIndicators:j})}}let g=(0,kr.val)(t.template.getStaticValues()),h=pa(g,i);return typeof h<"u"&&f.push({label:"Reset to default",callback:()=>{de().transaction(({unset:b})=>{b(e)})}}),v&&f.push({label:"Sequence",callback:()=>{de().transaction(({stateEditors:b})=>{let y=he(L({},t.address),{pathToProp:i});b.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(y,n)})}}),typeof h<"u"?he(L({},m),{type:"Static",shade:m.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:Xl.default.createElement(Ju,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}):he(L({},m),{type:"Default",shade:"Default",controlIndicators:Xl.default.createElement(Ju,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})})}function tee(e,t,n){if(Tp.has(e))return Tp.get(e);{let o=eee(e,t,n);return Tp.set(e,o),o}}function mb(e,t,n){let o=tee(e,t,n);return J0(o)}var Xl,kr,Tp,gb=P(()=>{du(),Xl=$(X()),kr=je,Ne(),wp(),Re(),da(),u8(),m8(),Cp(),Tp=new WeakMap});function nee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=mb(t,n,e);return Lt.default.createElement(Ey,{editingTools:i,propConfig:e,value:i.value})}function ree({pointerToProp:e,obj:t,propConfig:n,visualIndentation:o}){var i;let l=(i=n.label)!=null?i:oi((0,nc.getPointerParts)(e).path),s=Object.entries(n.props),u=s.filter(([_,O])=>Xr(O)),d=s.filter(([_,O])=>!Xr(O)),[f,m]=Qe(null),v=KJ(e,t,n),[g]=hn(m,{menuItems:v.contextMenuItems}),h=u.length>0,b=(0,Lt.useMemo)(()=>jp.getIsPropHighlightedD(he(L({},t.address),{pathToProp:(0,nc.getPointerParts)(e).path})),[e]),y="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,nc.getPointerParts)(e).path.join()),k=W8(n);(0,Lt.useLayoutEffect)(()=>{zp.has(y)||zp.set(y,new nc.Atom(k))},[y,n]);let x=zp.get(y),S=Xe(()=>x?(0,j8.val)(x.pointer):k,[x]);return Lt.default.createElement(T8,null,g,Lt.default.createElement(vb,{style:{"--depth":o-1}},Lt.default.createElement(A8,{isVectorProp:k},Lt.default.createElement(N8,null,v.controlIndicators),Lt.default.createElement(R8,{isHighlighted:b,ref:f},Lt.default.createElement("span",null,l||"Props")),Lt.default.createElement(U8,{isCollapsed:S,isVector:k,onClick:()=>{x==null||x.set(!x.get())}},Lt.default.createElement(Zj,null))),k&&S&&Lt.default.createElement($8,null,[...s].map(([_,O])=>Lt.default.createElement(nee,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t})))),!S&&Lt.default.createElement(K8,{style:{"--depth":o},depth:o,lastSubIsComposite:h},[...d,...u].map(([_,O])=>Lt.default.createElement(bb,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t,visualIndentation:o+1}))))}var nc,Lt,j8,O8,T8,z8,vb,D8,A8,B8,N8,F8,R8,M8,U8,V8,H8,K8,W8,q8,$8,L8,zp,oee=P(()=>{da(),nc=je,hf(),An(),Lt=$(X()),be(),hO(),mi(),rt(),nt(),lT(),mn(),qJ(),pb(),I8(),Rj(),gb(),Re(),j8=je,ql(),mp(),T8=M.div(O8||(O8=F([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),tt),vb=M.div(z8||(z8=F([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),A8=M.div(D8||(D8=F([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),nb,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),N8=M.div(B8||(B8=F([`
  flexshrink: 0;
`]))),R8=hb(M.div(F8||(F8=F([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>fa)),U8=M.span(M8||(M8=F([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",vb,e=>e.isCollapsed?15:75),V8=mr(.05,"#282b2f"),K8=M.div(H8||(H8=F([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>Su(e*.03,V8),e=>e.lastSubIsComposite?0:"4px"),W8=Wu(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([n,o])=>o.type==="number"&&["x","y","z"].includes(n))}),$8=M.div(q8||(q8=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),L8=Lt.default.memo(ree),zp=new Map});function aee({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var iee=P(()=>{});function lee({propConfig:e,pointerToProp:t,editingTools:n,children:o,isPropHighlightedD:i}){var l;let s=(l=e.label)!=null?l:oi((0,yb.getPointerParts)(t).path),[u,d]=Qe(null),[f]=hn(d,{menuItems:n.contextMenuItems});return Yl.default.createElement(G8,{isHighlighted:i},f,Yl.default.createElement(Y8,null,Yl.default.createElement(tT,null,n.controlIndicators),Yl.default.createElement(J8,{isHighlighted:i,ref:u,title:["obj","props",...(0,yb.getPointerParts)(t).path].join(".")},s)),Yl.default.createElement(rT,null,o))}var yb,Yl,Z8,G8,X8,Y8,Q8,J8,eT,tT,nT,rT,see=P(()=>{yb=je,mn(),nt(),Ft(),Yl=$(X()),be(),rt(),mi(),I8(),hO(),iee(),G8=hb(M.div(Z8||(Z8=F([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),tt,aee)),Y8=M.div(X8||(X8=F([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),nb),J8=hb(M.div(Q8||(Q8=F([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),fa)),tT=M.div(eT||(eT=F([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),rT=M.div(nT||(nT=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function uee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=mb(t,n,e),l=(0,rc.useMemo)(()=>jp.getIsPropHighlightedD(he(L({},n.address),{pathToProp:(0,oT.getPointerParts)(t).path})),[t]);return rc.default.createElement(lee,{editingTools:i,propConfig:e,pointerToProp:t,isPropHighlightedD:l},rc.default.createElement(o,{editingTools:i,propConfig:e,value:i.value}))}var rc,oT,aT,cee=P(()=>{rc=$(X()),gb(),see(),oT=je,pb(),aT=rc.default.memo(uee)}),oc,iT,bb,lT=P(()=>{oc=$(X()),pO(),oee(),cee(),iT=({propConfig:e,visualIndentation:t,pointerToProp:n,obj:o})=>{if(e.type==="compound")return oc.default.createElement(L8,{obj:o,visualIndentation:t,pointerToProp:n,propConfig:e});if(e.type==="enum")return oc.default.createElement(oc.default.Fragment,null);{let i=eb[e.type];return oc.default.createElement(aT,{SimpleEditorComponent:i,obj:o,visualIndentation:t,pointerToProp:n,propConfig:e})}},bb=iT});function sT(e){return Dp.has(e)||Dp.set(e,(uT++).toString()),Dp.get(e)}var Dp,uT,cT=P(()=>{Dp=new WeakMap,uT=0}),Ql,dT,fT,pT,hT,mT,gT,dee=P(()=>{Ql=$(X()),lT(),Re(),cT(),be(),fT=M.div(dT||(dT=F([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),hT=M.button(pT||(pT=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),mT=({objects:e})=>{let t=e[0],n=Ye(t.template.configPointer),o=Ye(t.template._temp_actionsPointer);return Ql.default.createElement(Ql.default.Fragment,null,Ql.default.createElement(bb,{key:sT(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),Ql.default.createElement(fT,null,o&&Object.entries(o).map(([i,l])=>Ql.default.createElement(hT,{key:i,onClick:()=>{l(t.publicApi)}},i))))},gT=mT}),vT,yT,Ap,bT=P(()=>{be(),yT=M.button(vT||(vT=F([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),Ap=yT}),fee=P(()=>{}),kT,pee=P(()=>{fee(),kT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=n[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function wT(){return kT(16)}var xT=P(()=>{pee()}),ST,To,kb,ET,_T,PT,CT,IT=P(()=>{ST=je,nt(),To=$(X()),kb=(0,To.createContext)(null),ET=0,_T=()=>{let e=(0,To.useMemo)(()=>ET++,[]),{cur:t,set:n}=(0,To.useContext)(kb),[o,i]=Qe(!1),l=(0,To.useCallback)((s,u)=>{n(s?e:-1,u)},[]);return(0,To.useEffect)(()=>t.onStale(()=>{let s=t.getValue()===e;o.current!==s&&(o.current=s)}),[t,e]),[i,l]},PT=({children:e})=>{let t=(0,To.useMemo)(()=>new ST.Atom(-1),[]),n=t.prism,o=(0,To.useMemo)(()=>{let i;return(l,s)=>{let u=i!==void 0;i!==void 0&&(clearTimeout(i),i=void 0),s===0||u?t.set(l):i=setTimeout(()=>{t.set(l),i=void 0},s)}},[]);return To.default.createElement(kb.Provider,{value:{cur:n,set:o}},e)},CT=PT});function Jl(e,t){let n=e.enabled!==!1,[o,i]=_T(),[l,s]=Qe(null);(0,OT.useEffect)(()=>{if(!n)return;let d=l.current;if(!d)return;let f=()=>{var v;return i(!0,(v=e.enterDelay)!=null?v:400)},m=()=>{var v;return i(!1,(v=e.exitDelay)!=null?v:200)};return d.addEventListener("mouseenter",f),d.addEventListener("mouseleave",m),()=>{d.removeEventListener("mouseenter",f),d.removeEventListener("mouseleave",m)}},[l,n,e.enterDelay,e.exitDelay]);let u=(0,jT.useContext)(Bl);return[n&&o&&s?(0,TT.createPortal)(Bp.default.createElement(Zy,{children:t,target:s,onClickOutside:gr,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),u):Bp.default.createElement(Bp.default.Fragment,null),l,o]}var jT,OT,Bp,TT,ac=P(()=>{nt(),jT=$(X()),OT=$(X()),Bp=$(X()),m6(),TT=$(bo()),IT(),fi(),Rl()}),zT,DT,es,Np=P(()=>{be(),Zr(),DT=M(Lr)(zT||(zT=F([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),es=DT}),Yr,AT,BT,NT,FT,RT,MT,UT,VT,HT,hee=P(()=>{Re(),Ne(),Yr=$(X()),be(),xT(),ac(),Np(),bT(),BT=M.div(AT||(AT=F([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),FT=M.div(NT||(NT=F([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),MT=M.div(RT||(RT=F([`
  display: flex;
  gap: 8px;
`]))),UT=({projectId:e})=>{let t=Ye(de().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?Yr.default.createElement(VT,{loadingState:t,projectId:e}):null},VT=({projectId:e,loadingState:t})=>{let n=()=>{de().transaction(({drafts:d,stateEditors:f})=>{f.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),f.coreByProject.historic.revisionHistory.add({projectId:e,revision:wT()}),d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{de().transaction(({drafts:d})=>{d.historic.coreByProject[e]=t.onDiskState,d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[i,l]=Jl({},()=>Yr.default.createElement(es,null,"The browser's state will override the disk state.")),[s,u]=Jl({},()=>Yr.default.createElement(es,null,"The disk's state will override the browser's state."));return Yr.default.createElement(BT,null,Yr.default.createElement(FT,null,"Browser state is not based on disk state."," ",Yr.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),Yr.default.createElement(MT,null,i,Yr.default.createElement(Ap,{onClick:n,ref:l},"Use browser's state"),s,Yr.default.createElement(Ap,{onClick:o,ref:u},"Use disk state")))},HT=UT}),mee=He((e,t)=>{(function(n){typeof e=="object"&&typeof t<"u"?t.exports=n():(typeof window<"u"?window:typeof Wn<"u"?Wn:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(o,i,l){function s(f,m){if(!i[f]){if(!o[f]){var v=typeof jg=="function"&&jg;if(!m&&v)return v(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var h=i[f]={exports:{}};o[f][0].call(h.exports,function(b){var y=o[f][1][b];return s(y||b)},h,h.exports,n,o,i,l)}return i[f].exports}for(var u=typeof jg=="function"&&jg,d=0;d<l.length;d++)s(l[d]);return s}({1:[function(n,o,i){var l=n("./utils"),s=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var f,m,v,g,h,b,y,k=[],x=0,S=d.length,_=S,O=l.getTypeOf(d)!=="string";x<d.length;)_=S-x,v=O?(f=d[x++],m=x<S?d[x++]:0,x<S?d[x++]:0):(f=d.charCodeAt(x++),m=x<S?d.charCodeAt(x++):0,x<S?d.charCodeAt(x++):0),g=f>>2,h=(3&f)<<4|m>>4,b=1<_?(15&m)<<2|v>>6:64,y=2<_?63&v:64,k.push(u.charAt(g)+u.charAt(h)+u.charAt(b)+u.charAt(y));return k.join("")},i.decode=function(d){var f,m,v,g,h,b,y=0,k=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&_--,d.charAt(d.length-2)===u.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|_):new Array(0|_);y<d.length;)f=u.indexOf(d.charAt(y++))<<2|(g=u.indexOf(d.charAt(y++)))>>4,m=(15&g)<<4|(h=u.indexOf(d.charAt(y++)))>>2,v=(3&h)<<6|(b=u.indexOf(d.charAt(y++))),S[k++]=f,h!==64&&(S[k++]=m),b!==64&&(S[k++]=v);return S}},{"./support":30,"./utils":32}],2:[function(n,o,i){var l=n("./external"),s=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(m,v,g,h,b){this.compressedSize=m,this.uncompressedSize=v,this.crc32=g,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new s(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,v,g){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var l=n("./utils"),s=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();o.exports=function(u,d){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m[y])];return-1^f}(0|d,u,u.length,0):function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m.charCodeAt(y))];return-1^f}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=l?"uint8array":"array";function m(v,g){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}i.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,v.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},i.compressWorker=function(v){return new m("Deflate",v)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function l(h,b){var y,k="";for(y=0;y<b;y++)k+=String.fromCharCode(255&h),h>>>=8;return k}function s(h,b,y,k,x,S){var _,O,j=h.file,z=h.compression,V=S!==f.utf8encode,W=u.transformTo("string",S(j.name)),B=u.transformTo("string",f.utf8encode(j.name)),Z=j.comment,re=u.transformTo("string",S(Z)),D=u.transformTo("string",f.utf8encode(Z)),G=B.length!==j.name.length,C=D.length!==Z.length,Q="",xe="",q="",K=j.dir,ee=j.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var A=0;b&&(A|=8),V||!G&&!C||(A|=2048);var N=0,oe=0;K&&(N|=16),x==="UNIX"?(oe=798,N|=function(ue,te){var Oe=ue;return ue||(Oe=te?16893:33204),(65535&Oe)<<16}(j.unixPermissions,K)):(oe=20,N|=function(ue){return 63&(ue||0)}(j.dosPermissions)),_=ee.getUTCHours(),_<<=6,_|=ee.getUTCMinutes(),_<<=5,_|=ee.getUTCSeconds()/2,O=ee.getUTCFullYear()-1980,O<<=4,O|=ee.getUTCMonth()+1,O<<=5,O|=ee.getUTCDate(),G&&(xe=l(1,1)+l(m(W),4)+B,Q+="up"+l(xe.length,2)+xe),C&&(q=l(1,1)+l(m(re),4)+D,Q+="uc"+l(q.length,2)+q);var le="";return le+=`
\0`,le+=l(A,2),le+=z.magic,le+=l(_,2),le+=l(O,2),le+=l(ge.crc32,4),le+=l(ge.compressedSize,4),le+=l(ge.uncompressedSize,4),le+=l(W.length,2),le+=l(Q.length,2),{fileRecord:v.LOCAL_FILE_HEADER+le+W+Q,dirRecord:v.CENTRAL_FILE_HEADER+l(oe,2)+le+l(re.length,2)+"\0\0\0\0"+l(N,4)+l(k,4)+W+Q+re}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),v=n("../signature");function g(h,b,y,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(g,d),g.prototype.push=function(h){var b=h.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,d.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-k-1))/y:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var y=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,y=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(k){return v.DATA_DESCRIPTOR+l(k.crc32,4)+l(k.compressedSize,4)+l(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-h,k=function(x,S,_,O,j){var z=u.transformTo("string",j(O));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(x,2)+l(x,2)+l(S,4)+l(_,4)+l(z.length,2)+z}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(y){b.processChunk(y)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(y){b.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var b=this._sources;if(!d.prototype.error.call(this,h))return!1;for(var y=0;y<b.length;y++)try{b[y].error(h)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var l=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(u,d,f){var m=new s(d.streamFiles,f,d.platform,d.encodeFileName),v=0;try{u.forEach(function(g,h){v++;var b=function(S,_){var O=S||_,j=l[O];if(!j)throw new Error(O+" is not a valid compression method !");return j}(h.options.compression,d.compression),y=h.options.compressionOptions||d.compressionOptions||{},k=h.dir,x=h.date;h._compressWorker(b,y).withStreamInfo("file",{name:g,dir:k,date:x,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new l;for(var u in this)typeof this[u]!="function"&&(s[u]=this[u]);return s}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(s,u){return new l().loadAsync(s,u)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var l=n("./utils"),s=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function v(g){return new s.Promise(function(h,b){var y=g.decompressed.getContentWorker().pipe(new f);y.on("error",function(k){b(k)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(g,h){var b=this;return h=l.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(y){var k=new d(h);return k.load(y),k}).then(function(y){var k=[s.Promise.resolve(y)],x=y.files;if(h.checkCRC32)for(var S=0;S<x.length;S++)k.push(v(x[S]));return s.Promise.all(k)}).then(function(y){for(var k=y.shift(),x=k.files,S=0;S<x.length;S++){var _=x[S],O=_.fileNameStr,j=l.resolve(_.fileNameStr);b.file(j,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:h.createFolders}),_.dir||(b.file(j).unsafeOriginalName=O)}return k.zipComment.length&&(b.comment=k.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var l=n("../utils"),s=n("../stream/GenericWorker");function u(d,f){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}l.inherits(u,s),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var l=n("readable-stream").Readable;function s(u,d,f){l.call(this,d),this._helper=u;var m=this;u.on("data",function(v,g){m.push(v)||m._helper.pause(),f&&f(g)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}n("../utils").inherits(s,l),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,i){function l(j,z,V){var W,B=u.getTypeOf(z),Z=u.extend(V||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(j=x(j)),Z.createFolders&&(W=k(j))&&S.call(this,W,!0);var re=B==="string"&&Z.binary===!1&&Z.base64===!1;V&&V.binary!==void 0||(Z.binary=!re),(z instanceof v&&z.uncompressedSize===0||Z.dir||!z||z.length===0)&&(Z.base64=!1,Z.binary=!0,z="",Z.compression="STORE",B="string");var D=null;D=z instanceof v||z instanceof d?z:b.isNode&&b.isStream(z)?new y(j,z):u.prepareContent(j,z,Z.binary,Z.optimizedBinaryString,Z.base64);var G=new g(j,D,Z);this.files[j]=G}var s=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),v=n("./compressedObject"),g=n("./zipObject"),h=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),k=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var z=j.lastIndexOf("/");return 0<z?j.substring(0,z):""},x=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},S=function(j,z){return z=z!==void 0?z:m.createFolders,j=x(j),this.files[j]||l.call(this,j,null,{dir:!0,createFolders:z}),this.files[j]};function _(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var z,V,W;for(z in this.files)W=this.files[z],(V=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&j(V,W)},filter:function(j){var z=[];return this.forEach(function(V,W){j(V,W)&&z.push(W)}),z},file:function(j,z,V){if(arguments.length!==1)return j=this.root+j,l.call(this,j,z,V),this;if(_(j)){var W=j;return this.filter(function(Z,re){return!re.dir&&W.test(Z)})}var B=this.files[this.root+j];return B&&!B.dir?B:null},folder:function(j){if(!j)return this;if(_(j))return this.filter(function(B,Z){return Z.dir&&j.test(B)});var z=this.root+j,V=S.call(this,z),W=this.clone();return W.root=V.name,W},remove:function(j){j=this.root+j;var z=this.files[j];if(z||(j.slice(-1)!=="/"&&(j+="/"),z=this.files[j]),z&&!z.dir)delete this.files[j];else for(var V=this.filter(function(B,Z){return Z.name.slice(0,j.length)===j}),W=0;W<V.length;W++)delete this.files[V[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var z,V={};try{if((V=u.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var W=V.comment||this.comment||"";z=h.generateWorker(this,V,W)}catch(B){(z=new d("error")).error(B)}return new f(z,V.type||"string",V.mimeType)},generateAsync:function(j,z){return this.generateInternalStream(j).accumulate(z)},generateNodeStream:function(j,z){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(z)}};o.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data[this.zero+u]},s.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===f&&this.data[g+2]===m&&this.data[g+3]===v)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.readData(4);return d===g[0]&&f===g[1]&&m===g[2]&&v===g[3]},s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var l=n("../utils");function s(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,i){var l=n("./Uint8ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},s.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},s.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var l=n("./ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var l=n("../utils"),s=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");o.exports=function(v){var g=l.getTypeOf(v);return l.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new f(v):s.uint8array?new m(l.transformTo("uint8array",v)):new u(l.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var l=n("./GenericWorker"),s=n("../utils");function u(d){l.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(u,l),u.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var l=n("./GenericWorker"),s=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(u,s),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}s.prototype.processChunk.call(this,d)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=l.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}l.inherits(u,s),u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,u){return this._listeners[s].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,u){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,u)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var u=this;return s.on("data",function(d){u.processChunk(d)}),s.on("end",function(){u.end()}),s.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,u){return this.extraStreamInfo[s]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=l},{}],29:[function(n,o,i){var l=n("../utils"),s=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),m=n("../external"),v=null;if(f.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,y){return new m.Promise(function(k,x){var S=[],_=b._internalType,O=b._outputType,j=b._mimeType;b.on("data",function(z,V){S.push(z),y&&y(V)}).on("error",function(z){S=[],x(z)}).on("end",function(){try{var z=function(V,W,B){switch(V){case"blob":return l.newBlob(l.transformTo("arraybuffer",W),B);case"base64":return d.encode(W);default:return l.transformTo(V,W)}}(O,function(V,W){var B,Z=0,re=null,D=0;for(B=0;B<W.length;B++)D+=W[B].length;switch(V){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(re=new Uint8Array(D),B=0;B<W.length;B++)re.set(W[B],Z),Z+=W[B].length;return re;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+V+"'")}}(_,S),j);k(z)}catch(V){x(V)}S=[]}).resume()})}function h(b,y,k){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=k,l.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}h.prototype={accumulate:function(b){return g(this,b)},on:function(b,y){var k=this;return b==="data"?this._worker.on(b,function(x){y.call(k,x.data,x.meta)}):this._worker.on(b,function(){l.delay(y,arguments,k)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(l),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var l=n("./utils"),s=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?u.newBufferFrom(h,"utf-8"):function(b){var y,k,x,S,_,O=b.length,j=0;for(S=0;S<O;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),j+=k<128?1:k<2048?2:k<65536?3:4;for(y=s.uint8array?new Uint8Array(j):new Array(j),S=_=0;_<j;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),k<128?y[_++]=k:(k<2048?y[_++]=192|k>>>6:(k<65536?y[_++]=224|k>>>12:(y[_++]=240|k>>>18,y[_++]=128|k>>>12&63),y[_++]=128|k>>>6&63),y[_++]=128|63&k);return y}(h)},i.utf8decode=function(h){return s.nodebuffer?l.transformTo("nodebuffer",h).toString("utf-8"):function(b){var y,k,x,S,_=b.length,O=new Array(2*_);for(y=k=0;y<_;)if((x=b[y++])<128)O[k++]=x;else if(4<(S=f[x]))O[k++]=65533,y+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&y<_;)x=x<<6|63&b[y++],S--;1<S?O[k++]=65533:x<65536?O[k++]=x:(x-=65536,O[k++]=55296|x>>10&1023,O[k++]=56320|1023&x)}return O.length!==k&&(O.subarray?O=O.subarray(0,k):O.length=k),l.applyFromCharCode(O)}(h=l.transformTo(s.uint8array?"uint8array":"array",h))},l.inherits(v,d),v.prototype.processChunk=function(h){var b=l.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var k=function(S,_){var O;for((_=_||S.length)>S.length&&(_=S.length),O=_-1;0<=O&&(192&S[O])==128;)O--;return O<0||O===0?_:O+f[S[O]]>_?O:_}(b),x=b;k!==b.length&&(s.uint8array?(x=b.subarray(0,k),this.leftOver=b.subarray(k,b.length)):(x=b.slice(0,k),this.leftOver=b.slice(k,b.length))),this.push({data:i.utf8decode(x),meta:h.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,l.inherits(g,d),g.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var l=n("./support"),s=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(y){return y}function m(y,k){for(var x=0;x<y.length;++x)k[x]=255&y.charCodeAt(x);return k}n("setimmediate"),i.newBlob=function(y,k){i.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(y,k,x){var S=[],_=0,O=y.length;if(O<=x)return String.fromCharCode.apply(null,y);for(;_<O;)k==="array"||k==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+x,O)))):S.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+x,O)))),_+=x;return S.join("")},stringifyByChar:function(y){for(var k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);return k},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function g(y){var k=65536,x=i.getTypeOf(y),S=!0;if(x==="uint8array"?S=v.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=v.applyCanBeUsed.nodebuffer),S)for(;1<k;)try{return v.stringifyByChunk(y,x,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(y)}function h(y,k){for(var x=0;x<y.length;x++)k[x]=y[x];return k}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},b.array={string:g,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},b.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return u.newBufferFrom(y)}},b.nodebuffer={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:f},i.transformTo=function(y,k){if(k=k||"",!y)return k;i.checkSupport(y);var x=i.getTypeOf(k);return b[x][y](k)},i.resolve=function(y){for(var k=y.split("/"),x=[],S=0;S<k.length;S++){var _=k[S];_==="."||_===""&&S!==0&&S!==k.length-1||(_===".."?x.pop():x.push(_))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var k,x,S="";for(x=0;x<(y||"").length;x++)S+="\\x"+((k=y.charCodeAt(x))<16?"0":"")+k.toString(16).toUpperCase();return S},i.delay=function(y,k,x){setImmediate(function(){y.apply(x||null,k||[])})},i.inherits=function(y,k){function x(){}x.prototype=k.prototype,y.prototype=new x},i.extend=function(){var y,k,x={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&x[k]===void 0&&(x[k]=arguments[y][k]);return x},i.prepareContent=function(y,k,x,S,_){return d.Promise.resolve(k).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,z){var V=new FileReader;V.onload=function(W){j(W.target.result)},V.onerror=function(W){z(W.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var j=i.getTypeOf(O);return j?(j==="arraybuffer"?O=i.transformTo("uint8array",O):j==="string"&&(_?O=s.decode(O):x&&S!==!0&&(O=function(z){return m(z,l.uint8array?new Uint8Array(z.length):new Array(z.length))}(O))),O):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(v)+")")}},isSignature:function(v,g){var h=this.reader.index;this.reader.setIndex(v);var b=this.reader.readString(4)===g;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",h=s.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,h,b=this.zip64EndOfCentralSize-44;0<b;)v=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=g-h;if(0<b)this.isSignature(g,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),m=n("./compressions"),v=n("./support");function g(h,b){this.options=h,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(k){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===k)return m[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=l(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,y,k,x=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<x;)b=h.readInt(2),y=h.readInt(2),k=h.readData(y),this.extraFields[b]={id:b,length:y,value:k};h.setIndex(x)},handleUTF8:function(){var h=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var x=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function l(b,y,k){this.name=b,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var s=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");l.prototype={internalStream:function(b){var y=null,k="string";try{if(!b)throw new Error("No output type specified.");var x=(k=b.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!S&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(_){(y=new m("error")).error(_)}return new s(y,k,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(k,b,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<v.length;h++)l.prototype[v[h]]=g;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(l){var s,u,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var f=0,m=new d(b),v=l.document.createTextNode("");m.observe(v,{characterData:!0}),s=function(){v.data=f=++f%2}}else if(l.setImmediate||l.MessageChannel===void 0)s="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var g=new l.MessageChannel;g.port1.onmessage=b,s=function(){g.port2.postMessage(0)}}var h=[];function b(){var y,k;u=!0;for(var x=h.length;x;){for(k=h,h=[],y=-1;++y<x;)k[y]();x=h.length}u=!1}o.exports=function(y){h.push(y)!==1||u||s()}}).call(this,typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var l=n("immediate");function s(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function v(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function g(x,S,_){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function h(x,S,_){l(function(){var O;try{O=S(_)}catch(j){return u.reject(x,j)}O===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,O)})}function b(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function y(x,S){var _=!1;function O(V){_||(_=!0,u.reject(x,V))}function j(V){_||(_=!0,u.resolve(x,V))}var z=k(function(){S(j,O)});z.status==="error"&&O(z.value)}function k(x,S){var _={};try{_.value=x(S),_.status="success"}catch(O){_.status="error",_.value=O}return _}(o.exports=v).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(_){return S.resolve(x()).then(function(){return _})},function(_){return S.resolve(x()).then(function(){throw _})})},v.prototype.catch=function(x){return this.then(null,x)},v.prototype.then=function(x,S){if(typeof x!="function"&&this.state===f||typeof S!="function"&&this.state===d)return this;var _=new this.constructor(s);return this.state!==m?h(_,this.state===f?x:S,this.outcome):this.queue.push(new g(_,x,S)),_},g.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){u.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)},u.resolve=function(x,S){var _=k(b,S);if(_.status==="error")return u.reject(x,_.value);var O=_.value;if(O)y(x,O);else{x.state=f,x.outcome=S;for(var j=-1,z=x.queue.length;++j<z;)x.queue[j].callFulfilled(S)}return x},u.reject=function(x,S){x.state=d,x.outcome=S;for(var _=-1,O=x.queue.length;++_<O;)x.queue[_].callRejected(S);return x},v.resolve=function(x){return x instanceof this?x:u.resolve(new this(s),x)},v.reject=function(x){var S=new this(s);return u.reject(S,x)},v.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=new Array(_),z=0,V=-1,W=new this(s);++V<_;)B(x[V],V);return W;function B(Z,re){S.resolve(Z).then(function(D){j[re]=D,++z!==_||O||(O=!0,u.resolve(W,j))},function(D){O||(O=!0,u.reject(W,D))})}},v.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=-1,z=new this(s);++j<_;)V=x[j],S.resolve(V).then(function(W){O||(O=!0,u.resolve(z,W))},function(W){O||(O=!0,u.reject(z,W))});var V;return z}},{immediate:36}],38:[function(n,o,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var l=n("./zlib/deflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,v=0,g=-1,h=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=l.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(_!==v)throw new Error(d[_]);if(S.header&&l.deflateSetHeader(this.strm,S.header),S.dictionary){var O;if(O=typeof S.dictionary=="string"?u.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(_=l.deflateSetDictionary(this.strm,O))!==v)throw new Error(d[_]);this._dict_set=!0}}function k(x,S){var _=new y(S);if(_.push(x,!0),_.err)throw _.msg||d[_.err];return _.result}y.prototype.push=function(x,S){var _,O,j=this.strm,z=this.options.chunkSize;if(this.ended)return!1;O=S===~~S?S:S===!0?4:0,typeof x=="string"?j.input=u.string2buf(x):m.call(x)==="[object ArrayBuffer]"?j.input=new Uint8Array(x):j.input=x,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(z),j.next_out=0,j.avail_out=z),(_=l.deflate(j,O))!==1&&_!==v)return this.onEnd(_),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&_!==1);return O===4?(_=l.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===v):O!==2||(this.onEnd(v),!(j.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=k,i.deflateRaw=function(x,S){return(S=S||{}).raw=!0,k(x,S)},i.gzip=function(x,S){return(S=S||{}).gzip=!0,k(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var l=n("./zlib/inflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),v=n("./zlib/gzheader"),g=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=l.inflateInit2(this.strm,k.windowBits);if(x!==d.Z_OK)throw new Error(f[x]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function b(y,k){var x=new h(k);if(x.push(y,!0),x.err)throw x.msg||f[x.err];return x.result}h.prototype.push=function(y,k){var x,S,_,O,j,z,V=this.strm,W=this.options.chunkSize,B=this.options.dictionary,Z=!1;if(this.ended)return!1;S=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?V.input=u.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?V.input=new Uint8Array(y):V.input=y,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new s.Buf8(W),V.next_out=0,V.avail_out=W),(x=l.inflate(V,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&B&&(z=typeof B=="string"?u.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,x=l.inflateSetDictionary(this.strm,z)),x===d.Z_BUF_ERROR&&Z===!0&&(x=d.Z_OK,Z=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&x!==d.Z_STREAM_END&&(V.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=u.utf8border(V.output,V.next_out),O=V.next_out-_,j=u.buf2string(V.output,_),V.next_out=O,V.avail_out=W-O,O&&s.arraySet(V.output,V.output,_,O,0),this.onData(j)):this.onData(s.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(Z=!0)}while((0<V.avail_in||V.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(x=l.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(V.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=h,i.inflate=b,i.inflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(d[v]=m[v])}}return d},i.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var s={arraySet:function(d,f,m,v,g){if(f.subarray&&d.subarray)d.set(f.subarray(m,m+v),g);else for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){var f,m,v,g,h,b;for(f=v=0,m=d.length;f<m;f++)v+=d[f].length;for(b=new Uint8Array(v),f=g=0,m=d.length;f<m;f++)h=d[f],b.set(h,g),g+=h.length;return b}},u={arraySet:function(d,f,m,v,g){for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(l)},{}],42:[function(n,o,i){var l=n("./common"),s=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new l.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(v,g){if(g<65537&&(v.subarray&&u||!v.subarray&&s))return String.fromCharCode.apply(null,l.shrinkBuf(v,g));for(var h="",b=0;b<g;b++)h+=String.fromCharCode(v[b]);return h}d[254]=d[254]=1,i.string2buf=function(v){var g,h,b,y,k,x=v.length,S=0;for(y=0;y<x;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),S+=h<128?1:h<2048?2:h<65536?3:4;for(g=new l.Buf8(S),y=k=0;k<S;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),h<128?g[k++]=h:(h<2048?g[k++]=192|h>>>6:(h<65536?g[k++]=224|h>>>12:(g[k++]=240|h>>>18,g[k++]=128|h>>>12&63),g[k++]=128|h>>>6&63),g[k++]=128|63&h);return g},i.buf2binstring=function(v){return m(v,v.length)},i.binstring2buf=function(v){for(var g=new l.Buf8(v.length),h=0,b=g.length;h<b;h++)g[h]=v.charCodeAt(h);return g},i.buf2string=function(v,g){var h,b,y,k,x=g||v.length,S=new Array(2*x);for(h=b=0;h<x;)if((y=v[h++])<128)S[b++]=y;else if(4<(k=d[y]))S[b++]=65533,h+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&h<x;)y=y<<6|63&v[h++],k--;1<k?S[b++]=65533:y<65536?S[b++]=y:(y-=65536,S[b++]=55296|y>>10&1023,S[b++]=56320|1023&y)}return m(S,b)},i.utf8border=function(v,g){var h;for((g=g||v.length)>v.length&&(g=v.length),h=g-1;0<=h&&(192&v[h])==128;)h--;return h<0||h===0?g:h+d[v[h]]>g?h:g}},{"./common":41}],43:[function(n,o,i){o.exports=function(l,s,u,d){for(var f=65535&l|0,m=l>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;m=m+(f=f+s[d++]|0)|0,--v;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var l=function(){for(var s,u=[],d=0;d<256;d++){s=d;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[d]=s}return u}();o.exports=function(s,u,d,f){var m=l,v=f+d;s^=-1;for(var g=f;g<v;g++)s=s>>>8^m[255&(s^u[g])];return-1^s}},{}],46:[function(n,o,i){var l,s=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),m=n("./messages"),v=0,g=4,h=0,b=-2,y=-1,k=4,x=2,S=8,_=9,O=286,j=30,z=19,V=2*O+1,W=15,B=3,Z=258,re=Z+B+1,D=42,G=113,C=1,Q=2,xe=3,q=4;function K(I,fe){return I.msg=m[fe],fe}function ee(I){return(I<<1)-(4<I?9:0)}function ge(I){for(var fe=I.length;0<=--fe;)I[fe]=0}function A(I){var fe=I.state,ce=fe.pending;ce>I.avail_out&&(ce=I.avail_out),ce!==0&&(s.arraySet(I.output,fe.pending_buf,fe.pending_out,ce,I.next_out),I.next_out+=ce,fe.pending_out+=ce,I.total_out+=ce,I.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function N(I,fe){u._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,fe),I.block_start=I.strstart,A(I.strm)}function oe(I,fe){I.pending_buf[I.pending++]=fe}function le(I,fe){I.pending_buf[I.pending++]=fe>>>8&255,I.pending_buf[I.pending++]=255&fe}function ue(I,fe){var ce,U,R=I.max_chain_length,ne=I.strstart,ve=I.prev_length,ke=I.nice_match,ae=I.strstart>I.w_size-re?I.strstart-(I.w_size-re):0,Se=I.window,ye=I.w_mask,we=I.prev,Ue=I.strstart+Z,ot=Se[ne+ve-1],Ze=Se[ne+ve];I.prev_length>=I.good_match&&(R>>=2),ke>I.lookahead&&(ke=I.lookahead);do if(Se[(ce=fe)+ve]===Ze&&Se[ce+ve-1]===ot&&Se[ce]===Se[ne]&&Se[++ce]===Se[ne+1]){ne+=2,ce++;do;while(Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&ne<Ue);if(U=Z-(Ue-ne),ne=Ue-Z,ve<U){if(I.match_start=fe,ke<=(ve=U))break;ot=Se[ne+ve-1],Ze=Se[ne+ve]}}while((fe=we[fe&ye])>ae&&--R!=0);return ve<=I.lookahead?ve:I.lookahead}function te(I){var fe,ce,U,R,ne,ve,ke,ae,Se,ye,we=I.w_size;do{if(R=I.window_size-I.lookahead-I.strstart,I.strstart>=we+(we-re)){for(s.arraySet(I.window,I.window,we,we,0),I.match_start-=we,I.strstart-=we,I.block_start-=we,fe=ce=I.hash_size;U=I.head[--fe],I.head[fe]=we<=U?U-we:0,--ce;);for(fe=ce=we;U=I.prev[--fe],I.prev[fe]=we<=U?U-we:0,--ce;);R+=we}if(I.strm.avail_in===0)break;if(ve=I.strm,ke=I.window,ae=I.strstart+I.lookahead,Se=R,ye=void 0,ye=ve.avail_in,Se<ye&&(ye=Se),ce=ye===0?0:(ve.avail_in-=ye,s.arraySet(ke,ve.input,ve.next_in,ye,ae),ve.state.wrap===1?ve.adler=d(ve.adler,ke,ye,ae):ve.state.wrap===2&&(ve.adler=f(ve.adler,ke,ye,ae)),ve.next_in+=ye,ve.total_in+=ye,ye),I.lookahead+=ce,I.lookahead+I.insert>=B)for(ne=I.strstart-I.insert,I.ins_h=I.window[ne],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+B-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++,I.insert--,!(I.lookahead+I.insert<B)););}while(I.lookahead<re&&I.strm.avail_in!==0)}function Oe(I,fe){for(var ce,U;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ce!==0&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce)),I.match_length>=B)if(U=u._tr_tally(I,I.strstart-I.match_start,I.match_length-B),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=B){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else U=u._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(U&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Q}function me(I,fe){for(var ce,U,R;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=B-1,ce!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce),I.match_length<=5&&(I.strategy===1||I.match_length===B&&4096<I.strstart-I.match_start)&&(I.match_length=B-1)),I.prev_length>=B&&I.match_length<=I.prev_length){for(R=I.strstart+I.lookahead-B,U=u._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-B),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=R&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=B-1,I.strstart++,U&&(N(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((U=u._tr_tally(I,0,I.window[I.strstart-1]))&&N(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(U=u._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Q}function Ie(I,fe,ce,U,R){this.good_length=I,this.max_lazy=fe,this.nice_length=ce,this.max_chain=U,this.func=R}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*V),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*O+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*O+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(I){var fe;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=x,(fe=I.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?D:G,I.adler=fe.wrap===2?0:1,fe.last_flush=v,u._tr_init(fe),h):K(I,b)}function Ve(I){var fe=We(I);return fe===h&&function(ce){ce.window_size=2*ce.w_size,ge(ce.head),ce.max_lazy_match=l[ce.level].max_lazy,ce.good_match=l[ce.level].good_length,ce.nice_match=l[ce.level].nice_length,ce.max_chain_length=l[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,ce.ins_h=0}(I.state),fe}function it(I,fe,ce,U,R,ne){if(!I)return b;var ve=1;if(fe===y&&(fe=6),U<0?(ve=0,U=-U):15<U&&(ve=2,U-=16),R<1||_<R||ce!==S||U<8||15<U||fe<0||9<fe||ne<0||k<ne)return K(I,b);U===8&&(U=9);var ke=new Ae;return(I.state=ke).strm=I,ke.wrap=ve,ke.gzhead=null,ke.w_bits=U,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=R+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+B-1)/B),ke.window=new s.Buf8(2*ke.w_size),ke.head=new s.Buf16(ke.hash_size),ke.prev=new s.Buf16(ke.w_size),ke.lit_bufsize=1<<R+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new s.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=fe,ke.strategy=ne,ke.method=ce,Ve(I)}l=[new Ie(0,0,0,0,function(I,fe){var ce=65535;for(ce>I.pending_buf_size-5&&(ce=I.pending_buf_size-5);;){if(I.lookahead<=1){if(te(I),I.lookahead===0&&fe===v)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var U=I.block_start+ce;if((I.strstart===0||I.strstart>=U)&&(I.lookahead=I.strstart-U,I.strstart=U,N(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-re&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=0,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):(I.strstart>I.block_start&&(N(I,!1),I.strm.avail_out),C)}),new Ie(4,4,8,4,Oe),new Ie(4,5,16,8,Oe),new Ie(4,6,32,32,Oe),new Ie(4,4,16,16,me),new Ie(8,16,32,32,me),new Ie(8,16,128,128,me),new Ie(8,32,128,256,me),new Ie(32,128,258,1024,me),new Ie(32,258,258,4096,me)],i.deflateInit=function(I,fe){return it(I,fe,S,15,8,0)},i.deflateInit2=it,i.deflateReset=Ve,i.deflateResetKeep=We,i.deflateSetHeader=function(I,fe){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=fe,h):b},i.deflate=function(I,fe){var ce,U,R,ne;if(!I||!I.state||5<fe||fe<0)return I?K(I,b):b;if(U=I.state,!I.output||!I.input&&I.avail_in!==0||U.status===666&&fe!==g)return K(I,I.avail_out===0?-5:b);if(U.strm=I,ce=U.last_flush,U.last_flush=fe,U.status===D)if(U.wrap===2)I.adler=0,oe(U,31),oe(U,139),oe(U,8),U.gzhead?(oe(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),oe(U,255&U.gzhead.time),oe(U,U.gzhead.time>>8&255),oe(U,U.gzhead.time>>16&255),oe(U,U.gzhead.time>>24&255),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(oe(U,255&U.gzhead.extra.length),oe(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(I.adler=f(I.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,3),U.status=G);else{var ve=S+(U.w_bits-8<<4)<<8;ve|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ve|=32),ve+=31-ve%31,U.status=G,le(U,ve),U.strstart!==0&&(le(U,I.adler>>>16),le(U,65535&I.adler)),I.adler=1}if(U.status===69)if(U.gzhead.extra){for(R=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending!==U.pending_buf_size));)oe(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){R=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),ne===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){R=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),ne===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&A(I),U.pending+2<=U.pending_buf_size&&(oe(U,255&I.adler),oe(U,I.adler>>8&255),I.adler=0,U.status=G)):U.status=G),U.pending!==0){if(A(I),I.avail_out===0)return U.last_flush=-1,h}else if(I.avail_in===0&&ee(fe)<=ee(ce)&&fe!==g)return K(I,-5);if(U.status===666&&I.avail_in!==0)return K(I,-5);if(I.avail_in!==0||U.lookahead!==0||fe!==v&&U.status!==666){var ke=U.strategy===2?function(ae,Se){for(var ye;;){if(ae.lookahead===0&&(te(ae),ae.lookahead===0)){if(Se===v)return C;break}if(ae.match_length=0,ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Q}(U,fe):U.strategy===3?function(ae,Se){for(var ye,we,Ue,ot,Ze=ae.window;;){if(ae.lookahead<=Z){if(te(ae),ae.lookahead<=Z&&Se===v)return C;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=B&&0<ae.strstart&&(we=Ze[Ue=ae.strstart-1])===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]){ot=ae.strstart+Z;do;while(we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&Ue<ot);ae.match_length=Z-(ot-Ue),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=B?(ye=u._tr_tally(ae,1,ae.match_length-B),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Q}(U,fe):l[U.level].func(U,fe);if(ke!==xe&&ke!==q||(U.status=666),ke===C||ke===xe)return I.avail_out===0&&(U.last_flush=-1),h;if(ke===Q&&(fe===1?u._tr_align(U):fe!==5&&(u._tr_stored_block(U,0,0,!1),fe===3&&(ge(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),A(I),I.avail_out===0))return U.last_flush=-1,h}return fe!==g?h:U.wrap<=0?1:(U.wrap===2?(oe(U,255&I.adler),oe(U,I.adler>>8&255),oe(U,I.adler>>16&255),oe(U,I.adler>>24&255),oe(U,255&I.total_in),oe(U,I.total_in>>8&255),oe(U,I.total_in>>16&255),oe(U,I.total_in>>24&255)):(le(U,I.adler>>>16),le(U,65535&I.adler)),A(I),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?h:1)},i.deflateEnd=function(I){var fe;return I&&I.state?(fe=I.state.status)!==D&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==G&&fe!==666?K(I,b):(I.state=null,fe===G?K(I,-3):h):b},i.deflateSetDictionary=function(I,fe){var ce,U,R,ne,ve,ke,ae,Se,ye=fe.length;if(!I||!I.state||(ne=(ce=I.state).wrap)===2||ne===1&&ce.status!==D||ce.lookahead)return b;for(ne===1&&(I.adler=d(I.adler,fe,ye,0)),ce.wrap=0,ye>=ce.w_size&&(ne===0&&(ge(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Se=new s.Buf8(ce.w_size),s.arraySet(Se,fe,ye-ce.w_size,ce.w_size,0),fe=Se,ye=ce.w_size),ve=I.avail_in,ke=I.next_in,ae=I.input,I.avail_in=ye,I.next_in=0,I.input=fe,te(ce);ce.lookahead>=B;){for(U=ce.strstart,R=ce.lookahead-(B-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[U+B-1])&ce.hash_mask,ce.prev[U&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=U,U++,--R;);ce.strstart=U,ce.lookahead=B-1,te(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,I.next_in=ke,I.input=ae,I.avail_in=ve,ce.wrap=ne,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(l,s){var u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V,W,B,Z,re,D,G,C,Q;u=l.state,d=l.next_in,C=l.input,f=d+(l.avail_in-5),m=l.next_out,Q=l.output,v=m-(s-l.avail_out),g=m+(l.avail_out-257),h=u.dmax,b=u.wsize,y=u.whave,k=u.wnext,x=u.window,S=u.hold,_=u.bits,O=u.lencode,j=u.distcode,z=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=O[S&z];t:for(;;){if(S>>>=B=W>>>24,_-=B,(B=W>>>16&255)===0)Q[m++]=65535&W;else{if(!(16&B)){if(!(64&B)){W=O[(65535&W)+(S&(1<<B)-1)];continue t}if(32&B){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Z=65535&W,(B&=15)&&(_<B&&(S+=C[d++]<<_,_+=8),Z+=S&(1<<B)-1,S>>>=B,_-=B),_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=j[S&V];n:for(;;){if(S>>>=B=W>>>24,_-=B,!(16&(B=W>>>16&255))){if(!(64&B)){W=j[(65535&W)+(S&(1<<B)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(re=65535&W,_<(B&=15)&&(S+=C[d++]<<_,(_+=8)<B&&(S+=C[d++]<<_,_+=8)),h<(re+=S&(1<<B)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=B,_-=B,(B=m-v)<re){if(y<(B=re-B)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(G=x,(D=0)===k){if(D+=b-B,B<Z){for(Z-=B;Q[m++]=x[D++],--B;);D=m-re,G=Q}}else if(k<B){if(D+=b+k-B,(B-=k)<Z){for(Z-=B;Q[m++]=x[D++],--B;);if(D=0,k<Z){for(Z-=B=k;Q[m++]=x[D++],--B;);D=m-re,G=Q}}}else if(D+=k-B,B<Z){for(Z-=B;Q[m++]=x[D++],--B;);D=m-re,G=Q}for(;2<Z;)Q[m++]=G[D++],Q[m++]=G[D++],Q[m++]=G[D++],Z-=3;Z&&(Q[m++]=G[D++],1<Z&&(Q[m++]=G[D++]))}else{for(D=m-re;Q[m++]=Q[D++],Q[m++]=Q[D++],Q[m++]=Q[D++],2<(Z-=3););Z&&(Q[m++]=Q[D++],1<Z&&(Q[m++]=Q[D++]))}break}}break}}while(d<f&&m<g);d-=Z=_>>3,S&=(1<<(_-=Z<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<f?f-d+5:5-(d-f),l.avail_out=m<g?g-m+257:257-(m-g),u.hold=S,u.bits=_}},{}],49:[function(n,o,i){var l=n("../utils/common"),s=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),m=1,v=2,g=0,h=-2,b=1,y=852,k=592;function x(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(D){var G;return D&&D.state?(G=D.state,D.total_in=D.total_out=G.total=0,D.msg="",G.wrap&&(D.adler=1&G.wrap),G.mode=b,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(y),G.distcode=G.distdyn=new l.Buf32(k),G.sane=1,G.back=-1,g):h}function O(D){var G;return D&&D.state?((G=D.state).wsize=0,G.whave=0,G.wnext=0,_(D)):h}function j(D,G){var C,Q;return D&&D.state?(Q=D.state,G<0?(C=0,G=-G):(C=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?h:(Q.window!==null&&Q.wbits!==G&&(Q.window=null),Q.wrap=C,Q.wbits=G,O(D))):h}function z(D,G){var C,Q;return D?(Q=new S,(D.state=Q).window=null,(C=j(D,G))!==g&&(D.state=null),C):h}var V,W,B=!0;function Z(D){if(B){var G;for(V=new l.Buf32(512),W=new l.Buf32(32),G=0;G<144;)D.lens[G++]=8;for(;G<256;)D.lens[G++]=9;for(;G<280;)D.lens[G++]=7;for(;G<288;)D.lens[G++]=8;for(f(m,D.lens,0,288,V,0,D.work,{bits:9}),G=0;G<32;)D.lens[G++]=5;f(v,D.lens,0,32,W,0,D.work,{bits:5}),B=!1}D.lencode=V,D.lenbits=9,D.distcode=W,D.distbits=5}function re(D,G,C,Q){var xe,q=D.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new l.Buf8(q.wsize)),Q>=q.wsize?(l.arraySet(q.window,G,C-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(Q<(xe=q.wsize-q.wnext)&&(xe=Q),l.arraySet(q.window,G,C-Q,xe,q.wnext),(Q-=xe)?(l.arraySet(q.window,G,C-Q,Q,0),q.wnext=Q,q.whave=q.wsize):(q.wnext+=xe,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=xe))),0}i.inflateReset=O,i.inflateReset2=j,i.inflateResetKeep=_,i.inflateInit=function(D){return z(D,15)},i.inflateInit2=z,i.inflate=function(D,G){var C,Q,xe,q,K,ee,ge,A,N,oe,le,ue,te,Oe,me,Ie,Ae,We,Ve,it,I,fe,ce,U,R=0,ne=new l.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return h;(C=D.state).mode===12&&(C.mode=13),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,N=C.bits,oe=ee,le=ge,fe=g;e:for(;;)switch(C.mode){case b:if(C.wrap===0){C.mode=13;break}for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(2&C.wrap&&A===35615){ne[C.check=0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0),N=A=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&A)<<8)+(A>>8))%31){D.msg="incorrect header check",C.mode=30;break}if((15&A)!=8){D.msg="unknown compression method",C.mode=30;break}if(N-=4,I=8+(15&(A>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){D.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,D.adler=C.check=1,C.mode=512&A?10:12,N=A=0;break;case 2:for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(C.flags=A,(255&C.flags)!=8){D.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){D.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=A>>8&1),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=3;case 3:for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.head&&(C.head.time=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,ne[2]=A>>>16&255,ne[3]=A>>>24&255,C.check=u(C.check,ne,4,0)),N=A=0,C.mode=4;case 4:for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.head&&(C.head.xflags=255&A,C.head.os=A>>8),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=5;case 5:if(1024&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.length=A,C.head&&(C.head.extra_len=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ee<(ue=C.length)&&(ue=ee),ue&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),l.arraySet(C.head.extra,Q,q,ue,I)),512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,C.length-=ue),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ee===0)break e;for(ue=0;I=Q[q+ue++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ee===0)break e;for(ue=0;I=Q[q+ue++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A!==(65535&C.check)){D.msg="header crc mismatch",C.mode=30;break}N=A=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),D.adler=C.check=0,C.mode=12;break;case 10:for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}D.adler=C.check=x(A),N=A=0,C.mode=11;case 11:if(C.havedict===0)return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,2;D.adler=C.check=1,C.mode=12;case 12:if(G===5||G===6)break e;case 13:if(C.last){A>>>=7&N,N-=7&N,C.mode=27;break}for(;N<3;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}switch(C.last=1&A,N-=1,3&(A>>>=1)){case 0:C.mode=14;break;case 1:if(Z(C),C.mode=20,G!==6)break;A>>>=2,N-=2;break e;case 2:C.mode=17;break;case 3:D.msg="invalid block type",C.mode=30}A>>>=2,N-=2;break;case 14:for(A>>>=7&N,N-=7&N;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if((65535&A)!=(A>>>16^65535)){D.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&A,N=A=0,C.mode=15,G===6)break e;case 15:C.mode=16;case 16:if(ue=C.length){if(ee<ue&&(ue=ee),ge<ue&&(ue=ge),ue===0)break e;l.arraySet(xe,Q,q,ue,K),ee-=ue,q+=ue,ge-=ue,K+=ue,C.length-=ue;break}C.mode=12;break;case 17:for(;N<14;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(C.nlen=257+(31&A),A>>>=5,N-=5,C.ndist=1+(31&A),A>>>=5,N-=5,C.ncode=4+(15&A),A>>>=4,N-=4,286<C.nlen||30<C.ndist){D.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;N<3;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.lens[ve[C.have++]]=7&A,A>>>=3,N-=3}for(;C.have<19;)C.lens[ve[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},fe=f(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(Ae<16)A>>>=me,N-=me,C.lens[C.have++]=Ae;else{if(Ae===16){for(U=me+2;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A>>>=me,N-=me,C.have===0){D.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ue=3+(3&A),A>>>=2,N-=2}else if(Ae===17){for(U=me+3;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}N-=me,I=0,ue=3+(7&(A>>>=me)),A>>>=3,N-=3}else{for(U=me+7;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}N-=me,I=0,ue=11+(127&(A>>>=me)),A>>>=7,N-=7}if(C.have+ue>C.nlen+C.ndist){D.msg="invalid bit length repeat",C.mode=30;break}for(;ue--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){D.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},fe=f(m,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},fe=f(v,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,fe){D.msg="invalid distances set",C.mode=30;break}if(C.mode=20,G===6)break e;case 20:C.mode=21;case 21:if(6<=ee&&258<=ge){D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,d(D,le),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,N=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(Ie&&!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(R=C.lencode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&R,!(We+(me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,C.length=Ae,Ie===0){C.mode=26;break}if(32&Ie){C.back=-1,C.mode=12;break}if(64&Ie){D.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ie,C.mode=22;case 22:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.length+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ie=(R=C.distcode[A&(1<<C.distbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(R=C.distcode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&R,!(We+(me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,64&Ie){D.msg="invalid distance code",C.mode=30;break}C.offset=Ae,C.extra=15&Ie,C.mode=24;case 24:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.offset+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){D.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ge===0)break e;if(ue=le-ge,C.offset>ue){if((ue=C.offset-ue)>C.whave&&C.sane){D.msg="invalid distance too far back",C.mode=30;break}te=ue>C.wnext?(ue-=C.wnext,C.wsize-ue):C.wnext-ue,ue>C.length&&(ue=C.length),Oe=C.window}else Oe=xe,te=K-C.offset,ue=C.length;for(ge<ue&&(ue=ge),ge-=ue,C.length-=ue;xe[K++]=Oe[te++],--ue;);C.length===0&&(C.mode=21);break;case 26:if(ge===0)break e;xe[K++]=C.length,ge--,C.mode=21;break;case 27:if(C.wrap){for(;N<32;){if(ee===0)break e;ee--,A|=Q[q++]<<N,N+=8}if(le-=ge,D.total_out+=le,C.total+=le,le&&(D.adler=C.check=C.flags?u(C.check,xe,le,K-le):s(C.check,xe,le,K-le)),le=ge,(C.flags?A:x(A))!==C.check){D.msg="incorrect data check",C.mode=30;break}N=A=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A!==(4294967295&C.total)){D.msg="incorrect length check",C.mode=30;break}N=A=0}C.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,(C.wsize||le!==D.avail_out&&C.mode<30&&(C.mode<27||G!==4))&&re(D,D.output,D.next_out,le-D.avail_out)?(C.mode=31,-4):(oe-=D.avail_in,le-=D.avail_out,D.total_in+=oe,D.total_out+=le,C.total+=le,C.wrap&&le&&(D.adler=C.check=C.flags?u(C.check,xe,le,D.next_out-le):s(C.check,xe,le,D.next_out-le)),D.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(oe==0&&le===0||G===4)&&fe===g&&(fe=-5),fe)},i.inflateEnd=function(D){if(!D||!D.state)return h;var G=D.state;return G.window&&(G.window=null),D.state=null,g},i.inflateGetHeader=function(D,G){var C;return D&&D.state&&2&(C=D.state).wrap?((C.head=G).done=!1,g):h},i.inflateSetDictionary=function(D,G){var C,Q=G.length;return D&&D.state?(C=D.state).wrap!==0&&C.mode!==11?h:C.mode===11&&s(1,G,Q,0)!==C.check?-3:re(D,G,Q,Q)?(C.mode=31,-4):(C.havedict=1,g):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var l=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,v,g,h,b,y,k,x){var S,_,O,j,z,V,W,B,Z,re=x.bits,D=0,G=0,C=0,Q=0,xe=0,q=0,K=0,ee=0,ge=0,A=0,N=null,oe=0,le=new l.Buf16(16),ue=new l.Buf16(16),te=null,Oe=0;for(D=0;D<=15;D++)le[D]=0;for(G=0;G<h;G++)le[v[g+G]]++;for(xe=re,Q=15;1<=Q&&le[Q]===0;Q--);if(Q<xe&&(xe=Q),Q===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(C=1;C<Q&&le[C]===0;C++);for(xe<C&&(xe=C),D=ee=1;D<=15;D++)if(ee<<=1,(ee-=le[D])<0)return-1;if(0<ee&&(m===0||Q!==1))return-1;for(ue[1]=0,D=1;D<15;D++)ue[D+1]=ue[D]+le[D];for(G=0;G<h;G++)v[g+G]!==0&&(k[ue[v[g+G]]++]=G);if(V=m===0?(N=te=k,19):m===1?(N=s,oe-=257,te=u,Oe-=257,256):(N=d,te=f,-1),D=C,z=y,K=G=A=0,O=-1,j=(ge=1<<(q=xe))-1,m===1&&852<ge||m===2&&592<ge)return 1;for(;;){for(W=D-K,Z=k[G]<V?(B=0,k[G]):k[G]>V?(B=te[Oe+k[G]],N[oe+k[G]]):(B=96,0),S=1<<D-K,C=_=1<<q;b[z+(A>>K)+(_-=S)]=W<<24|B<<16|Z|0,_!==0;);for(S=1<<D-1;A&S;)S>>=1;if(S!==0?(A&=S-1,A+=S):A=0,G++,--le[D]==0){if(D===Q)break;D=v[g+k[G]]}if(xe<D&&(A&j)!==O){for(K===0&&(K=xe),z+=C,ee=1<<(q=D-K);q+K<Q&&!((ee-=le[q+K])<=0);)q++,ee<<=1;if(ge+=1<<q,m===1&&852<ge||m===2&&592<ge)return 1;b[O=A&j]=xe<<24|q<<16|z-y|0}}return A!==0&&(b[z+A]=D-K<<24|64<<16|0),x.bits=xe,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var l=n("../utils/common"),s=0,u=1;function d(R){for(var ne=R.length;0<=--ne;)R[ne]=0}var f=0,m=29,v=256,g=v+1+m,h=30,b=19,y=2*g+1,k=15,x=16,S=7,_=256,O=16,j=17,z=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(g+2));d(re);var D=new Array(2*h);d(D);var G=new Array(512);d(G);var C=new Array(256);d(C);var Q=new Array(m);d(Q);var xe,q,K,ee=new Array(h);function ge(R,ne,ve,ke,ae){this.static_tree=R,this.extra_bits=ne,this.extra_base=ve,this.elems=ke,this.max_length=ae,this.has_stree=R&&R.length}function A(R,ne){this.dyn_tree=R,this.max_code=0,this.stat_desc=ne}function N(R){return R<256?G[R]:G[256+(R>>>7)]}function oe(R,ne){R.pending_buf[R.pending++]=255&ne,R.pending_buf[R.pending++]=ne>>>8&255}function le(R,ne,ve){R.bi_valid>x-ve?(R.bi_buf|=ne<<R.bi_valid&65535,oe(R,R.bi_buf),R.bi_buf=ne>>x-R.bi_valid,R.bi_valid+=ve-x):(R.bi_buf|=ne<<R.bi_valid&65535,R.bi_valid+=ve)}function ue(R,ne,ve){le(R,ve[2*ne],ve[2*ne+1])}function te(R,ne){for(var ve=0;ve|=1&R,R>>>=1,ve<<=1,0<--ne;);return ve>>>1}function Oe(R,ne,ve){var ke,ae,Se=new Array(k+1),ye=0;for(ke=1;ke<=k;ke++)Se[ke]=ye=ye+ve[ke-1]<<1;for(ae=0;ae<=ne;ae++){var we=R[2*ae+1];we!==0&&(R[2*ae]=te(Se[we]++,we))}}function me(R){var ne;for(ne=0;ne<g;ne++)R.dyn_ltree[2*ne]=0;for(ne=0;ne<h;ne++)R.dyn_dtree[2*ne]=0;for(ne=0;ne<b;ne++)R.bl_tree[2*ne]=0;R.dyn_ltree[2*_]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Ie(R){8<R.bi_valid?oe(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Ae(R,ne,ve,ke){var ae=2*ne,Se=2*ve;return R[ae]<R[Se]||R[ae]===R[Se]&&ke[ne]<=ke[ve]}function We(R,ne,ve){for(var ke=R.heap[ve],ae=ve<<1;ae<=R.heap_len&&(ae<R.heap_len&&Ae(ne,R.heap[ae+1],R.heap[ae],R.depth)&&ae++,!Ae(ne,ke,R.heap[ae],R.depth));)R.heap[ve]=R.heap[ae],ve=ae,ae<<=1;R.heap[ve]=ke}function Ve(R,ne,ve){var ke,ae,Se,ye,we=0;if(R.last_lit!==0)for(;ke=R.pending_buf[R.d_buf+2*we]<<8|R.pending_buf[R.d_buf+2*we+1],ae=R.pending_buf[R.l_buf+we],we++,ke===0?ue(R,ae,ne):(ue(R,(Se=C[ae])+v+1,ne),(ye=V[Se])!==0&&le(R,ae-=Q[Se],ye),ue(R,Se=N(--ke),ve),(ye=W[Se])!==0&&le(R,ke-=ee[Se],ye)),we<R.last_lit;);ue(R,_,ne)}function it(R,ne){var ve,ke,ae,Se=ne.dyn_tree,ye=ne.stat_desc.static_tree,we=ne.stat_desc.has_stree,Ue=ne.stat_desc.elems,ot=-1;for(R.heap_len=0,R.heap_max=y,ve=0;ve<Ue;ve++)Se[2*ve]!==0?(R.heap[++R.heap_len]=ot=ve,R.depth[ve]=0):Se[2*ve+1]=0;for(;R.heap_len<2;)Se[2*(ae=R.heap[++R.heap_len]=ot<2?++ot:0)]=1,R.depth[ae]=0,R.opt_len--,we&&(R.static_len-=ye[2*ae+1]);for(ne.max_code=ot,ve=R.heap_len>>1;1<=ve;ve--)We(R,Se,ve);for(ae=Ue;ve=R.heap[1],R.heap[1]=R.heap[R.heap_len--],We(R,Se,1),ke=R.heap[1],R.heap[--R.heap_max]=ve,R.heap[--R.heap_max]=ke,Se[2*ae]=Se[2*ve]+Se[2*ke],R.depth[ae]=(R.depth[ve]>=R.depth[ke]?R.depth[ve]:R.depth[ke])+1,Se[2*ve+1]=Se[2*ke+1]=ae,R.heap[1]=ae++,We(R,Se,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ze,tn){var za,un,jr,Et,Xi,Es,Or=tn.dyn_tree,_s=tn.max_code,Lc=tn.stat_desc.static_tree,Zc=tn.stat_desc.has_stree,Gc=tn.stat_desc.extra_bits,Ps=tn.stat_desc.extra_base,tr=tn.stat_desc.max_length,Tr=0;for(Et=0;Et<=k;Et++)Ze.bl_count[Et]=0;for(Or[2*Ze.heap[Ze.heap_max]+1]=0,za=Ze.heap_max+1;za<y;za++)tr<(Et=Or[2*Or[2*(un=Ze.heap[za])+1]+1]+1)&&(Et=tr,Tr++),Or[2*un+1]=Et,_s<un||(Ze.bl_count[Et]++,Xi=0,Ps<=un&&(Xi=Gc[un-Ps]),Es=Or[2*un],Ze.opt_len+=Es*(Et+Xi),Zc&&(Ze.static_len+=Es*(Lc[2*un+1]+Xi)));if(Tr!==0){do{for(Et=tr-1;Ze.bl_count[Et]===0;)Et--;Ze.bl_count[Et]--,Ze.bl_count[Et+1]+=2,Ze.bl_count[tr]--,Tr-=2}while(0<Tr);for(Et=tr;Et!==0;Et--)for(un=Ze.bl_count[Et];un!==0;)_s<(jr=Ze.heap[--za])||(Or[2*jr+1]!==Et&&(Ze.opt_len+=(Et-Or[2*jr+1])*Or[2*jr],Or[2*jr+1]=Et),un--)}}(R,ne),Oe(Se,ot,R.bl_count)}function I(R,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ne[2*(ve+1)+1]=65535,ke=0;ke<=ve;ke++)ae=ye,ye=ne[2*(ke+1)+1],++we<Ue&&ae===ye||(we<ot?R.bl_tree[2*ae]+=we:ae!==0?(ae!==Se&&R.bl_tree[2*ae]++,R.bl_tree[2*O]++):we<=10?R.bl_tree[2*j]++:R.bl_tree[2*z]++,Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4))}function fe(R,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ke=0;ke<=ve;ke++)if(ae=ye,ye=ne[2*(ke+1)+1],!(++we<Ue&&ae===ye)){if(we<ot)for(;ue(R,ae,R.bl_tree),--we!=0;);else ae!==0?(ae!==Se&&(ue(R,ae,R.bl_tree),we--),ue(R,O,R.bl_tree),le(R,we-3,2)):we<=10?(ue(R,j,R.bl_tree),le(R,we-3,3)):(ue(R,z,R.bl_tree),le(R,we-11,7));Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4)}}d(ee);var ce=!1;function U(R,ne,ve,ke){le(R,(f<<1)+(ke?1:0),3),function(ae,Se,ye,we){Ie(ae),oe(ae,ye),oe(ae,~ye),l.arraySet(ae.pending_buf,ae.window,Se,ye,ae.pending),ae.pending+=ye}(R,ne,ve)}i._tr_init=function(R){ce||(function(){var ne,ve,ke,ae,Se,ye=new Array(k+1);for(ae=ke=0;ae<m-1;ae++)for(Q[ae]=ke,ne=0;ne<1<<V[ae];ne++)C[ke++]=ae;for(C[ke-1]=ae,ae=Se=0;ae<16;ae++)for(ee[ae]=Se,ne=0;ne<1<<W[ae];ne++)G[Se++]=ae;for(Se>>=7;ae<h;ae++)for(ee[ae]=Se<<7,ne=0;ne<1<<W[ae]-7;ne++)G[256+Se++]=ae;for(ve=0;ve<=k;ve++)ye[ve]=0;for(ne=0;ne<=143;)re[2*ne+1]=8,ne++,ye[8]++;for(;ne<=255;)re[2*ne+1]=9,ne++,ye[9]++;for(;ne<=279;)re[2*ne+1]=7,ne++,ye[7]++;for(;ne<=287;)re[2*ne+1]=8,ne++,ye[8]++;for(Oe(re,g+1,ye),ne=0;ne<h;ne++)D[2*ne+1]=5,D[2*ne]=te(ne,5);xe=new ge(re,V,v+1,g,k),q=new ge(D,W,0,h,k),K=new ge(new Array(0),B,0,b,S)}(),ce=!0),R.l_desc=new A(R.dyn_ltree,xe),R.d_desc=new A(R.dyn_dtree,q),R.bl_desc=new A(R.bl_tree,K),R.bi_buf=0,R.bi_valid=0,me(R)},i._tr_stored_block=U,i._tr_flush_block=function(R,ne,ve,ke){var ae,Se,ye=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(we){var Ue,ot=4093624447;for(Ue=0;Ue<=31;Ue++,ot>>>=1)if(1&ot&&we.dyn_ltree[2*Ue]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<v;Ue++)if(we.dyn_ltree[2*Ue]!==0)return u;return s}(R)),it(R,R.l_desc),it(R,R.d_desc),ye=function(we){var Ue;for(I(we,we.dyn_ltree,we.l_desc.max_code),I(we,we.dyn_dtree,we.d_desc.max_code),it(we,we.bl_desc),Ue=b-1;3<=Ue&&we.bl_tree[2*Z[Ue]+1]===0;Ue--);return we.opt_len+=3*(Ue+1)+5+5+4,Ue}(R),ae=R.opt_len+3+7>>>3,(Se=R.static_len+3+7>>>3)<=ae&&(ae=Se)):ae=Se=ve+5,ve+4<=ae&&ne!==-1?U(R,ne,ve,ke):R.strategy===4||Se===ae?(le(R,2+(ke?1:0),3),Ve(R,re,D)):(le(R,4+(ke?1:0),3),function(we,Ue,ot,Ze){var tn;for(le(we,Ue-257,5),le(we,ot-1,5),le(we,Ze-4,4),tn=0;tn<Ze;tn++)le(we,we.bl_tree[2*Z[tn]+1],3);fe(we,we.dyn_ltree,Ue-1),fe(we,we.dyn_dtree,ot-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,ye+1),Ve(R,R.dyn_ltree,R.dyn_dtree)),me(R),ke&&Ie(R)},i._tr_tally=function(R,ne,ve){return R.pending_buf[R.d_buf+2*R.last_lit]=ne>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&ne,R.pending_buf[R.l_buf+R.last_lit]=255&ve,R.last_lit++,ne===0?R.dyn_ltree[2*ve]++:(R.matches++,ne--,R.dyn_ltree[2*(C[ve]+v+1)]++,R.dyn_dtree[2*N(ne)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){le(R,2,3),ue(R,_,re),function(ne){ne.bi_valid===16?(oe(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(l){(function(s,u){if(!s.setImmediate){var d,f,m,v,g=1,h={},b=!1,y=s.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(s);k=k&&k.setTimeout?k:s,d={}.toString.call(s.process)==="[object process]"?function(O){process.nextTick(function(){S(O)})}:function(){if(s.postMessage&&!s.importScripts){var O=!0,j=s.onmessage;return s.onmessage=function(){O=!1},s.postMessage("","*"),s.onmessage=j,O}}()?(v="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(O){s.postMessage(v+O,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){S(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(O){var j=y.createElement("script");j.onreadystatechange=function(){S(O),j.onreadystatechange=null,f.removeChild(j),j=null},f.appendChild(j)}):function(O){setTimeout(S,0,O)},k.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var j=new Array(arguments.length-1),z=0;z<j.length;z++)j[z]=arguments[z+1];var V={callback:O,args:j};return h[g]=V,d(g),g++},k.clearImmediate=x}function x(O){delete h[O]}function S(O){if(b)setTimeout(S,0,O);else{var j=h[O];if(j){b=!0;try{(function(z){var V=z.callback,W=z.args;switch(W.length){case 0:V();break;case 1:V(W[0]);break;case 2:V(W[0],W[1]);break;case 3:V(W[0],W[1],W[2]);break;default:V.apply(u,W)}})(j)}finally{x(O),b=!1}}}}function _(O){O.source===s&&typeof O.data=="string"&&O.data.indexOf(v)===0&&S(+O.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),wb,Fp,KT,xb,WT,qT,ic,$T,Sb,LT,Rp,lc,sc,ma,ZT,GT,XT,ts,Sn,YT,QT,Eb,Mp,gee=P(()=>{wb=$(X(),1),Fp=$(X(),1),KT=e=>typeof e=="function",xb=(e,t)=>KT(e)?e(t):e,WT=(()=>{let e=0;return()=>(++e).toString()})(),qT=20,ic=new Map,$T=1e3,Sb=e=>{if(ic.has(e))return;let t=setTimeout(()=>{ic.delete(e),ma({type:4,toastId:e})},$T);ic.set(e,t)},LT=e=>{let t=ic.get(e);t&&clearTimeout(t)},Rp=(e,t)=>{switch(t.type){case 0:return he(L({},e),{toasts:[t.toast,...e.toasts].slice(0,qT)});case 1:return t.toast.id&&LT(t.toast.id),he(L({},e),{toasts:e.toasts.map(l=>l.id===t.toast.id?L(L({},l),t.toast):l)});case 2:let{toast:n}=t;return e.toasts.find(l=>l.id===n.id)?Rp(e,{type:1,toast:n}):Rp(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?Sb(o):e.toasts.forEach(l=>{Sb(l.id)}),he(L({},e),{toasts:e.toasts.map(l=>l.id===o||o===void 0?he(L({},l),{visible:!1}):l)});case 4:return t.toastId===void 0?he(L({},e),{toasts:[]}):he(L({},e),{toasts:e.toasts.filter(l=>l.id!==t.toastId)});case 5:return he(L({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return he(L({},e),{pausedAt:void 0,toasts:e.toasts.map(l=>he(L({},l),{pauseDuration:l.pauseDuration+i}))})}},lc=[],sc={toasts:[],pausedAt:void 0},ma=e=>{sc=Rp(sc,e),lc.forEach(t=>{t(sc)})},ZT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GT=(e={})=>{let[t,n]=(0,wb.useState)(sc);(0,wb.useEffect)(()=>(lc.push(n),()=>{let i=lc.indexOf(n);i>-1&&lc.splice(i,1)}),[t]);let o=t.toasts.map(i=>{var l,s;return he(L(L(L({},e),e[i.type]),i),{duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||ZT[i.type],style:L(L(L({},e.style),(s=e[i.type])==null?void 0:s.style),i.style)})});return he(L({},t),{toasts:o})},XT=(e,t="blank",n)=>he(L({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(n==null?void 0:n.id)||WT()}),ts=e=>(t,n)=>{let o=XT(t,e,n);return ma({type:2,toast:o}),o.id},Sn=(e,t)=>ts("blank")(e,t),Sn.error=ts("error"),Sn.success=ts("success"),Sn.loading=ts("loading"),Sn.custom=ts("custom"),Sn.dismiss=e=>{ma({type:3,toastId:e})},Sn.remove=e=>ma({type:4,toastId:e}),Sn.promise=(e,t,n)=>{let o=Sn.loading(t.loading,L(L({},n),n==null?void 0:n.loading));return e.then(i=>(Sn.success(xb(t.success,i),L(L({id:o},n),n==null?void 0:n.success)),i)).catch(i=>{Sn.error(xb(t.error,i),L(L({id:o},n),n==null?void 0:n.error))}),e},YT=(e,t)=>{ma({type:1,toast:{id:e,height:t}})},QT=()=>{ma({type:5,time:Date.now()})},Eb=e=>{let{toasts:t,pausedAt:n}=GT(e);(0,Fp.useEffect)(()=>{if(n)return;let l=Date.now(),s=t.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(d<0){u.visible&&Sn.dismiss(u.id);return}return setTimeout(()=>Sn.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[t,n]);let o=(0,Fp.useCallback)(()=>{n&&ma({type:6,time:Date.now()})},[n]),i=(0,Fp.useCallback)((l,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=s||{},m=t.filter(h=>(h.position||f)===(l.position||f)&&h.height),v=m.findIndex(h=>h.id===l.id),g=m.filter((h,b)=>b<v&&h.visible).length;return m.filter(h=>h.visible).slice(...u?[g+1]:[0,g]).reduce((h,b)=>h+(b.height||0)+d,0)},[t]);return{toasts:t,handlers:{updateHeight:YT,startPause:QT,endPause:o,calculateOffset:i}}},Mp=Sn});function JT(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function vee(e){bi=e}function Ht(e,t){if(t){if(lz.test(e))return e.replace(sz,_b)}else if(uz.test(e))return e.replace(cz,_b);return e}function ez(e){return e.replace(fz,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}function ct(e,t){e=typeof e=="string"?e:e.source,t=t||"";let n={replace:(o,i)=>(i=i.source||i,i=i.replace(pz,"$1"),e=e.replace(o,i),n),getRegex:()=>new RegExp(e,t)};return n}function tz(e,t,n){if(e){let o;try{o=decodeURIComponent(ez(n)).replace(hz,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!mz.test(n)&&(n=yee(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function yee(e,t){uc[" "+e]||(gz.test(e)?uc[" "+e]=e+"/":uc[" "+e]=Up(e,"/",!0)),e=uc[" "+e];let n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(vz,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(yz,"$1")+t:e+t}function wr(e){let t=1,n,o;for(;t<arguments.length;t++){n=arguments[t];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}function nz(e,t){let n=e.replace(/\|/g,(l,s,u)=>{let d=!1,f=s;for(;--f>=0&&u[f]==="\\";)d=!d;return d?"|":" |"}),o=n.split(/ \|/),i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Up(e,t,n){let o=e.length;if(o===0)return"";let i=0;for(;i<o;){let l=e.charAt(o-i-1);if(l===t&&!n)i++;else if(l!==t&&n)i++;else break}return e.slice(0,o-i)}function bee(e,t){if(e.indexOf(t[1])===-1)return-1;let n=e.length,o=0,i=0;for(;i<n;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])o++;else if(e[i]===t[1]&&(o--,o<0))return i;return-1}function rz(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function oz(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function az(e,t,n,o){let i=t.href,l=t.title?Ht(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let u={type:"link",raw:n,href:i,title:l,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:l,text:Ht(s)}}function kee(e,t){let n=e.match(/^(\s+)(?:```)/);if(n===null)return t;let o=n[1];return t.split(`
`).map(i=>{let l=i.match(/^\s+/);if(l===null)return i;let[s]=l;return s.length>=o.length?i.slice(o.length):i}).join(`
`)}function wee(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function iz(e){let t="",n,o,i=e.length;for(n=0;n<i;n++)o=e.charCodeAt(n),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function Le(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=wr({},Le.defaults,t||{}),rz(t),n){let i=t.highlight,l;try{l=ki.lex(e,t)}catch(d){return n(d)}let s=function(d){let f;if(!d)try{t.walkTokens&&Le.walkTokens(l,t.walkTokens),f=ga.parse(l,t)}catch(m){d=m}return t.highlight=i,d?n(d):n(null,f)};if(!i||i.length<3||(delete t.highlight,!l.length))return s();let u=0;Le.walkTokens(l,function(d){d.type==="code"&&(u++,setTimeout(()=>{i(d.text,d.lang,function(f,m){if(f)return s(f);m!=null&&m!==d.text&&(d.text=m,d.escaped=!0),u--,u===0&&s()})},0))}),u===0&&s();return}function o(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ht(i.message+"",!0)+"</pre>";throw i}try{let i=ki.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Le.walkTokens(i,t.walkTokens)).then(()=>ga.parse(i,t)).catch(o);Le.walkTokens(i,t.walkTokens)}return ga.parse(i,t)}catch(i){o(i)}}var bi,lz,sz,uz,cz,dz,_b,fz,pz,hz,mz,uc,gz,vz,yz,cc,Vp,Ke,ze,ki,Hp,Pb,Cb,ga,xee=P(()=>{bi=JT(),lz=/[&<>"']/,sz=/[&<>"']/g,uz=/[<>"']|&(?!#?\w+;)/,cz=/[<>"']|&(?!#?\w+;)/g,dz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_b=e=>dz[e],fz=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,pz=/(^|[^\[])\^/g,hz=/[^\w:]/g,mz=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,uc={},gz=/^[^:]+:\/*[^/]*$/,vz=/^([^:]+:)[\s\S]*$/,yz=/^([^:]+:\/*[^/]*)[\s\S]*$/,cc={exec:function(){}},Vp=class{constructor(e){this.options=e||bi}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Up(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],o=kee(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let o=Up(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,i,l,s,u,d,f,m,v,g,h,b=t[1].trim(),y=b.length>1,k={type:"list",raw:"",ordered:y,start:y?+b.slice(0,-1):"",loose:!1,items:[]};b=y?"\\d{1,9}\\".concat(b.slice(-1)):"\\".concat(b),this.options.pedantic&&(b=y?b:"[*+-]");let x=new RegExp("^( {0,3}".concat(b,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),f=t[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(l=2,g=f.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,g=f.slice(l),l+=t[1].length),u=!1,!f&&/^ *$/.test(m)&&(n+=m+`
`,e=e.substring(m.length+1),h=!0),!h){let _=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),O=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),j=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),z=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));for(;e&&(v=e.split(`
`,1)[0],f=v,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(j.test(f)||z.test(f)||_.test(f)||O.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())g+=`
`+f.slice(l);else if(!u)g+=`
`+f;else break;!u&&!f.trim()&&(u=!0),n+=v+`
`,e=e.substring(v.length+1)}}k.loose||(d?k.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(i=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!o,checked:i,loose:!1,text:g}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=g.trimRight(),k.raw=k.raw.trimRight();let S=k.items.length;for(s=0;s<S;s++){this.lexer.state.top=!1,k.items[s].tokens=this.lexer.blockTokens(k.items[s].text,[]);let _=k.items[s].tokens.filter(j=>j.type==="space"),O=_.every(j=>{let z=j.raw.split(""),V=0;for(let W of z)if(W===`
`&&(V+=1),V>1)return!0;return!1});!k.loose&&_.length&&O&&(k.loose=!0,k.items[s].loose=!0)}return k}}html(e){let t=this.rules.block.html.exec(e);if(t){let n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):Ht(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let n={type:"table",header:nz(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,i,l,s,u;for(i=0;i<o;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=nz(n.rows[i],n.header.length).map(d=>({text:d}));for(o=n.header.length,l=0;l<o;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(o=n.rows.length,l=0;l<o;l++)for(u=n.rows[l],s=0;s<u.length;s++)u[s].tokens=this.lexer.inline(u[s].text);return n}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ht(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ht(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let l=Up(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=bee(t[2],"()");if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){let l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),az(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return az(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=o[1]||o[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){let l=o[0].length-1,s,u,d=l,f=0,m=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+l);(o=m.exec(t))!=null;){if(s=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!s)continue;if(u=s.length,o[3]||o[4]){d+=u;continue}else if((o[5]||o[6])&&l%3&&!((l+u)%3)){f+=u;continue}if(d-=u,d>0)continue;if(u=Math.min(u,u+d+f),Math.min(l,u)%2){let g=e.slice(1,l+o.index+u);return{type:"em",raw:e.slice(0,l+o.index+u+1),text:g,tokens:this.lexer.inlineTokens(g)}}let v=e.slice(2,l+o.index+u-1);return{type:"strong",raw:e.slice(0,l+o.index+u+1),text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ht(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let o,i;return n[2]==="@"?(o=Ht(this.options.mangle?t(n[1]):n[1]),i="mailto:"+o):(o=Ht(n[1]),i=o),{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,i;if(n[2]==="@")o=Ht(this.options.mangle?t(n[0]):n[0]),i="mailto:"+o;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);o=Ht(n[0]),n[1]==="www."?i="http://"+o:i=o}return{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ht(n[0]):n[0]:o=Ht(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}},Ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Ke._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ke._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ke.def=ct(Ke.def).replace("label",Ke._label).replace("title",Ke._title).getRegex(),Ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ke.listItemStart=ct(/^( *)(bull) */).replace("bull",Ke.bullet).getRegex(),Ke.list=ct(Ke.list).replace(/bull/g,Ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ke.def.source+")").getRegex(),Ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ke.html=ct(Ke.html,"i").replace("comment",Ke._comment).replace("tag",Ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ke.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.blockquote=ct(Ke.blockquote).replace("paragraph",Ke.paragraph).getRegex(),Ke.normal=wr({},Ke),Ke.gfm=wr({},Ke.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ke.gfm.table=ct(Ke.gfm.table).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.gfm.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ke.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.pedantic=wr({},Ke.normal,{html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cc,paragraph:ct(Ke.normal._paragraph).replace("hr",Ke.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ze.punctuation=ct(ze.punctuation).replace(/punctuation/g,ze._punctuation).getRegex(),ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ze.escapedEmSt=/\\\*|\\_/g,ze._comment=ct(Ke._comment).replace("(?:-->|$)","-->").getRegex(),ze.emStrong.lDelim=ct(ze.emStrong.lDelim).replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimAst=ct(ze.emStrong.rDelimAst,"g").replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimUnd=ct(ze.emStrong.rDelimUnd,"g").replace(/punct/g,ze._punctuation).getRegex(),ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ze.autolink=ct(ze.autolink).replace("scheme",ze._scheme).replace("email",ze._email).getRegex(),ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ze.tag=ct(ze.tag).replace("comment",ze._comment).replace("attribute",ze._attribute).getRegex(),ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ze.link=ct(ze.link).replace("label",ze._label).replace("href",ze._href).replace("title",ze._title).getRegex(),ze.reflink=ct(ze.reflink).replace("label",ze._label).replace("ref",Ke._label).getRegex(),ze.nolink=ct(ze.nolink).replace("ref",Ke._label).getRegex(),ze.reflinkSearch=ct(ze.reflinkSearch,"g").replace("reflink",ze.reflink).replace("nolink",ze.nolink).getRegex(),ze.normal=wr({},ze),ze.pedantic=wr({},ze.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ze._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze._label).getRegex()}),ze.gfm=wr({},ze.normal,{escape:ct(ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ze.gfm.url=ct(ze.gfm.url,"i").replace("email",ze.gfm._extended_email).getRegex(),ze.breaks=wr({},ze.gfm,{br:ct(ze.br).replace("{2,}","*").getRegex(),text:ct(ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),ki=class o2{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||bi,this.options.tokenizer=this.options.tokenizer||new Vp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Ke.normal,inline:ze.normal};this.options.pedantic?(n.block=Ke.pedantic,n.inline=ze.pedantic):this.options.gfm&&(n.block=Ke.gfm,this.options.breaks?n.inline=ze.breaks:n.inline=ze.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ke,inline:ze}}static lex(t,n){return new o2(n).lex(t)}static lexInline(t,n){return new o2(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,d,f)=>d+"    ".repeat(f.length));let o,i,l,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(o=u.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,d=t.slice(1),f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o),s=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let o,i,l,s=t,u,d,f;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)m.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+oz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+oz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(d||(f=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(t,s,f)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(t,iz)){t=t.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,iz))){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0,v=t.slice(1),g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},v),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(l=t.substring(0,m+1))}if(o=this.tokenizer.inlineText(l,wee)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(f=o.raw.slice(-1)),d=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},Hp=class{constructor(e){this.options=e||bi}code(e,t,n){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let i=this.options.highlight(e,o);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Ht(o,!0)+'">'+(n?e:Ht(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ht(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){let i=this.options.headerPrefix+o.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){let o=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+o+i+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(e=tz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+Ht(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=tz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},Pb=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},Cb=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ga=class a2{constructor(t){this.options=t||bi,this.options.renderer=this.options.renderer||new Hp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Pb,this.slugger=new Cb}static parse(t,n){return new a2(n).parse(t)}static parseInline(t,n){return new a2(n).parseInline(t)}parse(t,n=!0){let o="",i,l,s,u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V=t.length;for(i=0;i<V;i++){if(h=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(z=this.options.extensions.renderers[h.type].call({parser:this},h),z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){o+=z||"";continue}switch(h.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ez(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(v="",m="",u=h.header.length,l=0;l<u;l++)m+=this.renderer.tablecell(this.parseInline(h.header[l].tokens),{header:!0,align:h.align[l]});for(v+=this.renderer.tablerow(m),g="",u=h.rows.length,l=0;l<u;l++){for(f=h.rows[l],m="",d=f.length,s=0;s<d;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:h.align[s]});g+=this.renderer.tablerow(m)}o+=this.renderer.table(v,g);continue}case"blockquote":{g=this.parse(h.tokens),o+=this.renderer.blockquote(g);continue}case"list":{for(b=h.ordered,y=h.start,k=h.loose,u=h.items.length,g="",l=0;l<u;l++)S=h.items[l],_=S.checked,O=S.task,x="",S.task&&(j=this.renderer.checkbox(_),k?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=j+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=j+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:j}):x+=j),x+=this.parse(S.tokens,k),g+=this.renderer.listitem(x,O,_);o+=this.renderer.list(g,b,y);continue}case"html":{o+=this.renderer.html(h.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;i+1<V&&t[i+1].type==="text";)h=t[++i],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);o+=n?this.renderer.paragraph(g):g;continue}default:{let W='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return o}parseInline(t,n){n=n||this.renderer;let o="",i,l,s,u=t.length;for(i=0;i<u;i++){if(l=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(s=this.options.extensions.renderers[l.type].call({parser:this},l),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){o+=s||"";continue}switch(l.type){case"escape":{o+=n.text(l.text);break}case"html":{o+=n.html(l.text);break}case"link":{o+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{o+=n.image(l.href,l.title,l.text);break}case"strong":{o+=n.strong(this.parseInline(l.tokens,n));break}case"em":{o+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{o+=n.codespan(l.text);break}case"br":{o+=n.br();break}case"del":{o+=n.del(this.parseInline(l.tokens,n));break}case"text":{o+=n.text(l.text);break}default:{let d='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return o}},Le.options=Le.setOptions=function(e){return wr(Le.defaults,e),vee(Le.defaults),Le},Le.getDefaults=JT,Le.defaults=bi,Le.use=function(...e){let t=wr({},...e),n=Le.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(i=>{if(i.extensions&&(o=!0,i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let s=n.renderers?n.renderers[l.name]:null;s?n.renderers[l.name]=function(...u){let d=l.renderer.apply(this,u);return d===!1&&(d=s.apply(this,u)),d}:n.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[l.level]?n[l.level].unshift(l.tokenizer):n[l.level]=[l.tokenizer],l.start&&(l.level==="block"?n.startBlock?n.startBlock.push(l.start):n.startBlock=[l.start]:l.level==="inline"&&(n.startInline?n.startInline.push(l.start):n.startInline=[l.start]))}l.childTokens&&(n.childTokens[l.name]=l.childTokens)})),i.renderer){let l=Le.defaults.renderer||new Hp;for(let s in i.renderer){let u=l[s];l[s]=(...d)=>{let f=i.renderer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.renderer=l}if(i.tokenizer){let l=Le.defaults.tokenizer||new Vp;for(let s in i.tokenizer){let u=l[s];l[s]=(...d)=>{let f=i.tokenizer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.tokenizer=l}if(i.walkTokens){let l=Le.defaults.walkTokens;t.walkTokens=function(s){let u=[];return u.push(i.walkTokens.call(this,s)),l&&(u=u.concat(l.call(this,s))),u}}o&&(t.extensions=n),Le.setOptions(t)})},Le.walkTokens=function(e,t){let n=[];for(let o of e)switch(n=n.concat(t.call(Le,o)),o.type){case"table":{for(let i of o.header)n=n.concat(Le.walkTokens(i.tokens,t));for(let i of o.rows)for(let l of i)n=n.concat(Le.walkTokens(l.tokens,t));break}case"list":{n=n.concat(Le.walkTokens(o.items,t));break}default:Le.defaults.extensions&&Le.defaults.extensions.childTokens&&Le.defaults.extensions.childTokens[o.type]?Le.defaults.extensions.childTokens[o.type].forEach(function(i){n=n.concat(Le.walkTokens(o[i],t))}):o.tokens&&(n=n.concat(Le.walkTokens(o.tokens,t)))}return n},Le.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=wr({},Le.defaults,t||{}),rz(t);try{let n=ki.lexInline(e,t);return t.walkTokens&&Le.walkTokens(n,t.walkTokens),ga.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ht(n.message+"",!0)+"</pre>";throw n}},Le.Parser=ga,Le.parser=ga.parse,Le.Renderer=Hp,Le.TextRenderer=Pb,Le.Lexer=ki,Le.lexer=ki.lex,Le.Tokenizer=Vp,Le.Slugger=Cb,Le.parse=Le,Le.options,Le.setOptions,Le.use,Le.walkTokens,Le.parseInline,ga.parse,ki.lex}),bz,kz,Ib,wz=P(()=>{be(),Np(),kz=M(es)(bz||(bz=F([`
  padding: 6px;
`]))),Ib=kz}),Ot,Kp,dc,Wp,xz,Sz,Ez,jb,_z,Pz,Cz,Ob,Iz,jz,Oz,Tz,zz,fc,pc,Dz,Az,Bz,Nz,Fz,Rz,Mz,Uz,Vz,Hz,Kz,Wz,Tb,hc=P(()=>{Ot=$(X()),gee(),be(),rt(),Re(),Ne(),xee(),ac(),wz(),Kp=({title:e,message:t})=>"".concat(e," ").concat(t),dc=(()=>{let e=new Map;return{add:t=>{let n=Kp(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=Kp(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(Kp(t))}})(),Wp=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),Sz=M.div(xz||(xz=F([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),jb=M.div(Ez||(Ez=F([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),Pz=M.div(_z||(_z=F([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),Ob=M.div(Cz||(Cz=F([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),jz=M.button(Iz||(Iz=F([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),Oz={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},zz=M.div(Tz||(Tz=F([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>Oz[e]),fc=e=>(t,n,o=[],i=!1)=>{(i||!dc.check({title:t,message:n}))&&(dc.add({title:t,message:n}),Wp.add(e),Mp.custom(l=>Ot.default.createElement(Sz,null,Ot.default.createElement(zz,{type:e}),Ot.default.createElement(Pz,null,Ot.default.createElement(jb,null,t),Ot.default.createElement(Ob,{dangerouslySetInnerHTML:{__html:Le.parse(n)}}),o.length>0&&Ot.default.createElement(Ob,null,Ot.default.createElement("span",null,"Docs:"," ",o.map((s,u)=>Ot.default.createElement(Ot.Fragment,{key:u},u>0&&", ",Ot.default.createElement("a",{target:"_blank",href:s.url},s.title)))))),Ot.default.createElement(jz,{onClick:()=>{Mp.remove(l.id),dc.delete({title:t,message:n}),Wp.delete(e)}},"Close")),{duration:1/0}))},pc={warning:fc("warning"),success:fc("success"),info:fc("info"),error:fc("error")},Az=M.div(Dz||(Dz=F([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),Nz=M.button(Bz||(Bz=F([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),Rz=M.div(Fz||(Fz=F([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),Uz=M.div(Mz||(Mz=F([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),Hz=M.div(Vz||(Vz=F([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),Kz=()=>{let{hasNotifications:e}=Tb();return Jl({enabled:!e},()=>Ot.default.createElement(Ib,null,Ot.default.createElement(Hz,null,Ot.default.createElement(jb,null,"No notifications"),"Notifications will appear here when you get them.")))},Wz=()=>{var e;let{toasts:t,handlers:n}=Eb(),{startPause:o,endPause:i}=n,l=(e=Ye(de().atomP.ahistoric.pinNotifications))!=null?e:!1;return Ot.default.createElement(Rz,null,l?t.length>0&&Ot.default.createElement(Uz,{onMouseEnter:o,onMouseLeave:i},Ot.default.createElement("div",null,t.map(s=>Ot.default.createElement("div",{key:s.id},s.message(s))))):null,Ot.default.createElement(Az,{align:"side"},l&&t.length>0&&Ot.default.createElement(Nz,{onClick:()=>{Wp.clear(),dc.clear(),Mp.remove()},danger:!0},"Clear")))},Tb=()=>{let{toasts:e}=Eb();return{hasNotifications:e.length>0}}});function zb(e,t){var n;let o=Object.values((n=(0,qz.val)(e.pointers.historic.sheetsById))!=null?n:{}),i=o.flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.staticOverrides.byObject)!=null?u:{})}).flatMap(s=>Object.values(s??{})),l=[...o.flatMap(s=>{var u,d;return Object.values((d=(u=s==null?void 0:s.sequence)==null?void 0:u.tracksByObject)!=null?d:{})}).flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.trackData)!=null?u:{})}).flatMap(s=>s==null?void 0:s.keyframes).map(s=>s==null?void 0:s.value)];return i.forEach(s=>{Dd(s,u=>{l.push(u)},[])}),l.filter(s=>(s==null?void 0:s.type)&&typeof(s==null?void 0:s.type)=="string").map(s=>s.id).filter((s,u,d)=>s!==null&&s!==""&&d.indexOf(s)===u)}var qz,$z=P(()=>{qz=je,Ag()});function Lz(e,t){let n=new File([e],t),o=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var Nn,Zz,Gz,Xz,Yz,Qz,Jz,eD,tD,nD,See=P(()=>{Ne(),Zr(),$r(),Nn=$(X()),be(),bT(),hee(),Zz=$(mee()),hc(),$z(),Xz=M.div(Gz||(Gz=F([""]))),Qz=M.div(Yz||(Yz=F([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),eD=M(Lr)(Jz||(Jz=F([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),tD=({projects:e})=>{let t=e[0],n=t.address.projectId,o=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(o,".theatre-project-state.json"),[l,s]=(0,Nn.useState)(!1),u=(0,Nn.useCallback)(()=>Vt(void 0,null,function*(){var f,m;let v=zb(t),g=new Map;try{yield Promise.all(v.map(b=>Vt(void 0,null,function*(){let y=t.assetStorage.getAssetUrl(b),k=yield fetch(y);k.ok&&g.set(b,yield k.blob())})))}catch{pc.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((m=(f=t.config.assets)==null?void 0:f.baseUrl)!=null?m:"/",". This is likely due to a CORS issue."));return}if(g.size>0){let b=new Zz.default;for(let[k,x]of g)b.file(k,x);let y=yield b.generateAsync({type:"blob"});Lz(y,"".concat(o,".assets.zip"))}let h=JSON.stringify(de().createContentOfSaveFile(t.address.projectId),null,2);Lz(h,i),s(!0),setTimeout(()=>{s(!1)},2e3)}),[t,i]),d=qr({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>Nn.default.createElement(eD,null,Nn.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),Nn.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),Nn.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return Nn.default.createElement(Nn.default.Fragment,null,d.node,Nn.default.createElement(Xz,null,Nn.default.createElement(HT,{projectId:n}),Nn.default.createElement(Qz,null,Nn.default.createElement(Ap,{onMouseEnter:f=>d.open(f,f.target),onClick:l?void 0:u,disabled:l},l?"(Exported)":"Export ".concat(n," to JSON")))))},nD=tD}),va,rD,oD,aD,iD,lD,sD,uD,cD,dD,fD,Eee=P(()=>{va=$(X()),be(),Tu(),oD=M.div(rD||(rD=F([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),iD=M.div(aD||(aD=F([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),sD=M.div(lD||(lD=F([`
  color: rgba(145, 145, 145, 0.8);
`]))),cD=M.a(uD||(uD=F([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),dD=()=>va.default.createElement(oD,null,va.default.createElement(iD,null,va.default.createElement(sD,null,va.default.createElement(Yv,null)),va.default.createElement("div",null,"Please select an object from the ",va.default.createElement("u",null,"Outline Menu")," to see its properties.")),va.default.createElement(cD,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),fD=dD});function pD(){let[e,t]=(0,Db.useState)(!1),n=(0,Db.useMemo)(()=>{let o=new Set;return()=>{let i=()=>{o.delete(i),t(o.size>0)};return o.add(i),t(!0),i}},[]);return[e,n]}var Db,hD=P(()=>{Db=$(X())}),ft,ns,mD,gD,qp,vD,Ab,yD,Bb,bD,Nb,mc,kD,wD,$p,wi,Fb=P(()=>{la(),Re(),ft=$(X()),be(),Qa(),So(),rt(),dee(),See(),Ne(),rj(),ns=je,Eee(),hD(),vi(),mD="32px",qp=M.div(gD||(gD=F([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Fl.propsPanel,({pin:e})=>e?"block":"none"),Ab=M.div(vD||(vD=F([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),tt),Bb=M.div(yD||(yD=F([`
  height: `,`;
  display: flex;
  align-items: center;
`])),mD),Nb=M.div(bD||(bD=F([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),tt),mc=(0,ft.createContext)([!1,()=>()=>{}]),kD=e=>{let t=Ye(de().atomP.ahistoric.pinDetails)!==!1,n=nj("right");(0,ft.useLayoutEffect)(()=>{$p.set(n)},[n]),(0,ft.useEffect)(()=>()=>{wi.set(!1),$p.set(!1)},[]);let[o]=(0,ft.useContext)(mc),i=t||n||o,[l,s]=(0,ft.useState)(null);return UO(l),Xe(()=>{let u=ia(),d=u.find(sr);if(d)return ft.default.createElement(qp,{"data-testid":"DetailPanel-Object",pin:i,ref:s,onMouseEnter:()=>{wi.set(!0)},onMouseLeave:()=>{wi.set(!1)}},ft.default.createElement(Bb,null,ft.default.createElement(Ab,{title:"".concat(d.sheet.address.sheetId,": ").concat(d.sheet.address.sheetInstanceId," > ").concat(d.address.objectKey)},ft.default.createElement(aa,null,d.sheet.address.sheetId," "),ft.default.createElement(Ou,null,":",""),ft.default.createElement(aa,null,d.sheet.address.sheetInstanceId," "),ft.default.createElement(Ou,null,""),ft.default.createElement(aa,null,d.address.objectKey))),ft.default.createElement(Nb,null,ft.default.createElement(gT,{objects:[d]})));let f=u.find(Bg);return f?ft.default.createElement(qp,{pin:i},ft.default.createElement(Bb,null,ft.default.createElement(Ab,{title:"".concat(f.address.projectId)},ft.default.createElement(aa,null,f.address.projectId," "))),ft.default.createElement(Nb,null,ft.default.createElement(nD,{projects:[f]}))):ft.default.createElement(qp,{pin:i,onMouseEnter:()=>{wi.set(!0)},onMouseLeave:()=>{wi.set(!1)}},ft.default.createElement(fD,null))},[i])},wD=()=>{let e=pD();return ft.default.createElement(mc.Provider,{value:e},ft.default.createElement(kD,null))},$p=new ns.Atom(!1),wi=new ns.Atom(!1),(0,ns.prism)(()=>{let e=(0,ns.val)(wi.prism),t=(0,ns.val)($p.prism);return e||t})}),Rb,Lp,Zp,Mb,rs,xD,Ub,os=P(()=>{Rb=je,Re(),Ne(),hD(),Lp=$(X()),Ky(),Zp=(e,t)=>{let n=e.left/t.width,o=(e.left+e.width)/t.width,i=e.top/t.height,l=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},Mb=Lp.default.createContext(null),rs=()=>(0,Lp.useContext)(Mb),xD=({panelId:e,children:t,defaultPosition:n,minDims:o})=>{let i=fp(800,200),[l,s]=pD(),{stuff:u}=Xe(()=>{var d;let{edges:f}=(d=(0,Rb.val)(de().atomP.historic.panelPositions[e]))!=null?d:n,m=Math.floor(i.width*(f.left.from==="screenLeft"?f.left.distance:1-f.left.distance)),v=Math.floor(i.width*(f.right.from==="screenLeft"?f.right.distance:1-f.right.distance)),g=Math.floor(i.height*(f.top.from==="screenTop"?f.top.distance:1-f.top.distance)),h=Math.floor(i.height*(f.bottom.from==="screenTop"?f.bottom.distance:1-f.bottom.distance)),b=Math.max(v-m,o.width),y=Math.max(h-g,o.height);return{stuff:{dims:Rb.prism.memo("dims",()=>({width:b,left:m,top:g,height:y}),[b,m,g,y]),panelId:e,minDims:o,boundsHighlighted:l,addBoundsHighlightLock:s}}},[e,i,l,s]);return Lp.default.createElement(Mb.Provider,{value:u},t)},Ub=xD}),gc,SD,ED,_D,Vb,PD=P(()=>{nt(),Ne(),Dt(),gc=$(X()),be(),os(),Bn(),Ft(),So(),ED=M.div(SD||(SD=F([`
  cursor: move;
`]))),_D=e=>{let t=rs(),n=(0,gc.useRef)(t);n.current=t;let[o,i]=Qe(null),l=(0,gc.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let f=n.current,m,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=he(L({},f.dims),{top:kt(f.dims.top+h,0,window.innerHeight-Vr),left:kt(f.dims.left+g,-f.dims.width+Vr,window.innerWidth-Vr)}),y=Zp(b,{width:window.innerWidth,height:window.innerHeight});m==null||m.discard(),m=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:f.panelId})})},onDragEnd(g){v(),g?m==null||m.commit():m==null||m.discard()}}}}),[]),[s]=xt(i,l);Ln(s,"dragging","move");let[u,d]=(0,gc.useMemo)(()=>{let f;return[function(){if(f){let m=f;f=void 0,m()}f=t.addBoundsHighlightLock()},function(){if(f){let m=f;f=void 0,m()}}]},[]);return gc.default.createElement(ED,he(L({},e),{ref:o,onMouseEnter:u,onMouseLeave:d}))},Vb=_D}),Gp,CD,Hb,ID,Kb,jD,Wb,OD,TD,zD,DD,AD,qb,BD,ND,FD,RD,MD,vc,UD,VD,HD,KD,WD,qD,$D,LD,ZD,$b,GD,zo,_ee=P(()=>{nt(),Ne(),Dt(),An(),Gp=$(X()),be(),os(),rt(),Ft(),So(),Hb=M.div(CD||(CD=F([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),tt,jl(.2,"#478698")),Kb=M(Hb)(ID||(ID=F([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),Wb=M(Kb)(jD||(jD=F([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),TD=M(Wb)(OD||(OD=F([`
  top: -1px;
`]))),DD=M(Wb)(zD||(zD=F([`
  bottom: -1px;
`]))),qb=M(Kb)(AD||(AD=F([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),ND=M(qb)(BD||(BD=F([`
  left: -1px;
`]))),RD=M(qb)(FD||(FD=F([`
  right: -1px;
`]))),vc=M(Hb)(MD||(MD=F([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),VD=M(vc)(UD||(UD=F([`
  top: 0;
  left: 0;
`]))),KD=M(vc)(HD||(HD=F([`
  top: 0;
  right: 0;
`]))),qD=M(vc)(WD||(WD=F([`
  bottom: 0;
  left: 0;
`]))),LD=M(vc)($D||($D=F([`
  bottom: 0;
  right: 0;
`]))),ZD={Top:TD,TopLeft:VD,TopRight:KD,Bottom:DD,BottomLeft:qD,BottomRight:LD,Left:ND,Right:RD},$b={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},GD=({which:e})=>{let t=rs(),n=(0,Gp.useRef)(t);n.current=t;let[o,i]=Qe(null),l=(0,Gp.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:$b[e],onDragStart(){let f,m=n.current,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=L({},m.dims);if(e.startsWith("Bottom"))b.height=Math.max(b.height+h,m.minDims.height);else if(e.startsWith("Top")){let k=b.top+b.height,x=kt(b.top+h,0,Math.min(k-m.minDims.height,window.innerHeight-Vr)),S=k-x;b.height=S,b.top=x}if(e.endsWith("Left")){let k=b.left+b.width,x=Math.min(b.left+g,Math.min(k-m.minDims.width,window.innerWidth-Vr)),S=k-x;b.width=S,b.left=x}else e.endsWith("Right")&&(b.width=Math.max(b.width+g,Math.max(m.minDims.width,Vr-m.dims.left)));let y=Zp(b,{width:window.innerWidth,height:window.innerHeight});f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:m.panelId})})},onDragEnd(g){v(),g?f==null||f.commit():f==null||f.discard()}}}}),[e]),[s]=xt(i,l),u=ZD[e],d=e.length<=6;return Gp.default.createElement(u,{ref:o,className:[s?"isDragging":"",t.boundsHighlighted&&d?"isHighlighted":""].join(" "),style:{cursor:$b[e]}})},zo=GD}),xr,XD,YD,Pee=P(()=>{xr=$(X()),_ee(),XD=e=>xr.default.createElement(xr.default.Fragment,null,xr.default.createElement(zo,{which:"Bottom"}),xr.default.createElement(zo,{which:"Top"}),xr.default.createElement(zo,{which:"Left"}),xr.default.createElement(zo,{which:"Right"}),xr.default.createElement(zo,{which:"TopLeft"}),xr.default.createElement(zo,{which:"TopRight"}),xr.default.createElement(zo,{which:"BottomLeft"}),xr.default.createElement(zo,{which:"BottomRight"})),YD=XD}),Xp,QD,JD,eA,Lb,tA=P(()=>{rt(),Xp=$(X()),be(),os(),Pee(),JD=M.div(QD||(QD=F([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),tt),eA=Xp.default.forwardRef((e,t)=>{let n=rs(),o=e,{style:i,children:l}=o,s=Xs(o,["style","children"]);return Xp.default.createElement(JD,he(L({ref:t},s),{style:L({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},i??{})}),Xp.default.createElement(YD,null),l)}),Lb=eA}),Cee=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t<"u"?o(e,X()):(n=typeof globalThis<"u"?globalThis:n||self,o(n.ReactErrorBoundary={},n.React))})(e,function(n,o){function i(h){if(h&&h.__esModule)return h;var b=Object.create(null);return h&&Object.keys(h).forEach(function(y){if(y!=="default"){var k=Object.getOwnPropertyDescriptor(h,y);Object.defineProperty(b,y,k.get?k:{enumerable:!0,get:function(){return h[y]}})}}),b.default=h,Object.freeze(b)}var l=i(o);function s(h,b){return s=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},s(h,b)}function u(h,b){h.prototype=Object.create(b.prototype),h.prototype.constructor=h,s(h,b)}var d=function(h,b){return h===void 0&&(h=[]),b===void 0&&(b=[]),h.length!==b.length||h.some(function(y,k){return!Object.is(y,b[k])})},f={error:null},m=function(h){u(b,h);function b(){for(var k,x=arguments.length,S=new Array(x),_=0;_<x;_++)S[_]=arguments[_];return k=h.call.apply(h,[this].concat(S))||this,k.state=f,k.updatedWithError=!1,k.resetErrorBoundary=function(){for(var O,j=arguments.length,z=new Array(j),V=0;V<j;V++)z[V]=arguments[V];k.props.onReset==null||(O=k.props).onReset.apply(O,z),k.reset()},k}b.getDerivedStateFromError=function(k){return{error:k}};var y=b.prototype;return y.reset=function(){this.updatedWithError=!1,this.setState(f)},y.componentDidCatch=function(k,x){var S,_;(S=(_=this.props).onError)==null||S.call(_,k,x)},y.componentDidMount=function(){var k=this.state.error;k!==null&&(this.updatedWithError=!0)},y.componentDidUpdate=function(k){var x=this.state.error,S=this.props.resetKeys;if(x!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(x!==null&&d(k.resetKeys,S)){var _,O;(_=(O=this.props).onResetKeysChange)==null||_.call(O,k.resetKeys,S),this.reset()}},y.render=function(){var k=this.state.error,x=this.props,S=x.fallbackRender,_=x.FallbackComponent,O=x.fallback;if(k!==null){var j={error:k,resetErrorBoundary:this.resetErrorBoundary};if(l.isValidElement(O))return O;if(typeof S=="function")return S(j);if(_)return l.createElement(_,j);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},b}(l.Component);function v(h,b){var y=function(x){return l.createElement(m,b,l.createElement(h,x))},k=h.displayName||h.name||"Unknown";return y.displayName="withErrorBoundary("+k+")",y}function g(h){var b=l.useState(null),y=b[0],k=b[1];if(h!=null)throw h;if(y!=null)throw y;return k}n.ErrorBoundary=m,n.useErrorHandler=g,n.withErrorBoundary=v,Object.defineProperty(n,"__esModule",{value:!0})})}),Zt,nA,rA,oA,aA,iA,lA,sA,uA,cA,dA,fA,pA,hA,mA,gA,vA,yA,bA,kA,Iee=P(()=>{Zt=$(X()),be(),So(),os(),PD(),tA(),nA=$(Cee()),ql(),Ne(),So(),rA={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},oA={width:300,height:300},aA=({paneInstance:e})=>Zt.default.createElement(Ub,{panelId:"pane-".concat(e.instanceId),defaultPosition:rA,minDims:oA},Zt.default.createElement(bA,{paneInstance:e})),lA=M(Lb)(iA||(iA=F([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),Fl.pluginPanes),uA=M.div(sA||(sA=F([`
  width: 100%;
`]))),dA=M.div(cA||(cA=F([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),pA=M.button(fA||(fA=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),mA=M(t3)(hA||(hA=F([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),vA=M.div(gA||(gA=F([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),yA=e=>Zt.default.createElement(vA,null,"An Error occurred rendering this pane. Open the console for more info.",Zt.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),bA=({paneInstance:e})=>{let[t,n]=(0,Zt.useState)(null),o=e.definition.mount;(0,Zt.useLayoutEffect)(()=>{if(!t)return;let l=o({paneId:e.instanceId,node:t});if(typeof l=="function")return l},[t,o,e.instanceId]);let i=(0,Zt.useCallback)(()=>{de().paneManager.destroyPane(e.instanceId)},[e]);return Zt.default.createElement(lA,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},Zt.default.createElement(Vb,null,Zt.default.createElement(Gv,null,Zt.default.createElement(dA,null,Zt.default.createElement(pA,{onClick:i,title:"Close Pane"},Zt.default.createElement(TQ,null))),Zt.default.createElement(uA,null,e.instanceId))),Zt.default.createElement(nA.ErrorBoundary,{FallbackComponent:yA},Zt.default.createElement(mA,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:n})))},kA=aA}),Zb,Gb,wA=P(()=>{Zb=je,Gb=(e,t)=>{let n=Zb.prism.memo(e,()=>new Zb.Atom(t),[]);return n.set(t),n}});function xA(e,t){(0,SA.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let n=null,o=he(L({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function i(){n=jp.replaceLock(o,()=>{})}function l(){n==null||n()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),()=>{n==null||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",l)}},[e])}var SA,EA=P(()=>{SA=$(X()),pb()}),ya,_A,Xb,PA,Yb,CA,Qb,IA,jA,OA,TA,zA,DA,AA,Yp,Qp=P(()=>{rt(),ya=$(X()),ql(),be(),mi(),EA(),Xb=M.li(_A||(_A=F([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),Yb=M.div(PA||(PA=F([`
  border-bottom: 1px solid #7695b705;
`]))),Qb=M(Yb)(CA||(CA=F([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),Nl.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),jA=M.span(IA||(IA=F([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),fa,Qb),TA=M.span(OA||(OA=F([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),DA=M.ul(zA||(zA=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),AA=({leaf:e,label:t,children:n,isSelectable:o,isSelected:i,toggleSelect:l,toggleCollapsed:s,isCollapsed:u})=>{let d=Array.isArray(n)&&n.length>0,f=(0,ya.useRef)(null);return xA(f.current,e),e.shouldRender?ya.default.createElement(Xb,{depth:e.depth},ya.default.createElement(Qb,{ref:f,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:i===!0,onClick:l,isEven:e.n%2===0},ya.default.createElement(TA,{isCollapsed:u,onClick:s},ya.default.createElement(Zj,null)),ya.default.createElement(jA,null,t)),d&&ya.default.createElement(DA,null,n)):null},Yp=AA});function jee(e,t){return t.every((n,o)=>n===e[o])}function Oee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Jp(e){var t;let n=[];for(;;){let o=n.length,i=(t=e[0])==null?void 0:t[o];if(i===void 0)return n;for(let l of e)if(i!==l[o])return n;n.push(i)}}var Qr,eh,Jr=P(()=>{mp(),Qr=Wu(e=>JSON.stringify(e)),eh=e=>JSON.parse(e)});function Tee(e,t){let n=(0,Jb.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,Jb.useEffect)(()=>{function o(s){s.key===n.current.combo&&n.current.listener({down:!0,event:s})}function i(s){s.key===n.current.combo&&n.current.listener({down:!1,event:s})}function l(s){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",i),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",i),window.removeEventListener("blur",l)}},[])}var Jb,zee=P(()=>{Jb=$(X())});function BA(e){let[t,n]=(0,NA.useState)(!1);return Tee(e,({down:o})=>{n(o)}),t}var NA,FA=P(()=>{NA=$(X()),zee()});function Dee(e){let t=(0,e1.useMemo)(()=>new RA.Atom(e),[]);return(0,e1.useLayoutEffect)(()=>{t.set(e)},[e]),t}var RA,e1,Aee=P(()=>{RA=je,e1=$(X())});function MA(e,t,n){let o=(0,t1.pointer)({root:{},path:[]}),i=t(o);_l(e,(0,t1.getPointerParts)(i).path,n)}var t1,Bee=P(()=>{t1=je,Q0()}),th,UA,gn,Sr=P(()=>{th="data-pos",UA={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(th));if(n){let o=parseFloat(n.getAttribute(th));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[th]:e}}},gn=UA});function nh(e){let t=e.type==="sheet"?Fee(e):n1(e);return{byPosition:Nee(t),tracks:t}}function Nee(e){let t=new Map;for(let n of e)for(let o of n.data.keyframes){let i=t.get(o.position);i||(i=[],t.set(o.position,i)),i.push({kf:o,track:n,itemKey:Rt.forTrackKeyframe(n.sheetObject,n.id,o.id)})}return t}function Fee(e){return e.children.flatMap(n1)}function n1(e){return e.children.flatMap(t=>t.type==="propWithChildren"?n1(t):Ree(t))}function Ree(e){let t=e.sheetObject,n=t.address.projectId,o=de().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,rh.val)(o.trackIdByPropPath[Qr(e.pathToProp)]);if(!i)return[];let l=(0,rh.val)(o.trackData[i]);return l?[{id:i,data:l,sheetObject:t}]:[]}function Mee(e,t){return ra(e.children.flatMap(n=>r1(n,t)))}function r1(e,t){return ra(e.children.flatMap(n=>n.type==="propWithChildren"?r1(n,t):Uee(n,t)))}function Uee(e,t){var n,o;let i=e.sheetObject,l=i.address.projectId,s=de().atomP.historic.coreByProject[l].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],u=(0,rh.val)(s.trackIdByPropPath[Qr(e.pathToProp)]);return u?(o=(n=t[i.address.objectKey])==null?void 0:n[u])!=null?o:[]:[]}var rh,as=P(()=>{Ne(),rh=je,Oo(),Jr(),Ft()});function Vee(e,t){let[n,o]=Qe(null),i=sa("useCaptureSelection");return xt(t,(0,is.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let s=t.getBoundingClientRect(),u=l.clientX-s.left-(0,Gn.val)(e.scaledSpace.leftPadding),d=(0,Gn.val)(e.scaledSpace.toUnitSpace)(u);return n.current={h:[d,d],v:[l.clientY-s.top,l.clientY-s.top]},(0,Gn.val)(e.selectionAtom).set({current:void 0}),{onDrag(f,m,v){let g=t.getBoundingClientRect(),h=v.clientX-g.left-(0,Gn.val)(e.scaledSpace.leftPadding),b=(0,Gn.val)(e.scaledSpace.toUnitSpace)(h);n.current={h:[n.current.h[0],b],v:[n.current.v[0],v.clientY-g.top]};let y=o1.boundsToSelection(i,(0,Gn.val)(e),n.current);(0,Gn.val)(e.selectionAtom).set({current:y})},onDragEnd(f){n.current=null}}}}),[e,t,n])),o}var Gn,is,ba,VA,HA,KA,o1,WA,qA,a1,$A,LA,Hee=P(()=>{Ne(),Dt(),FA(),Aee(),Bee(),nt(),Re(),Gn=je,is=$(X()),be(),Sr(),as(),ua(),ba=5,HA=M.div(VA||(VA=F([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),KA=({layoutP:e,children:t,height:n})=>{let[o,i]=Qe(null),l=BA("Shift"),s=Vee(e,i),u=(0,is.useRef)(s);return u.current=s,is.default.createElement(HA,{style:{height:n+"px"},ref:o,isShiftDown:l,className:"selectionview"},s&&is.default.createElement($A,{state:s,layoutP:e}),t)},(e=>{let t=(s,u,d,f,m)=>{let v=nh(d);if(d.top+d.nodeHeight/2+ba>f.v[0]&&d.top+d.nodeHeight/2-ba<f.v[1])for(let[g,h]of v.byPosition){let b=u.scaledSpace.toUnitSpace(ba);if(!(g+b<=f.h[0]||g-b>=f.h[1]))for(let y of h)MA(m,k=>k[y.track.sheetObject.address.objectKey].byTrackId[y.track.id].byKeyframeId[y.kf.id],!0)}o(s,u,d,f,m)},n={sheet(s,u,d,f,m){t(s,u,d,f,m)},propWithChildren(s,u,d,f,m){t(s,u,d,f,m)},sheetObject(s,u,d,f,m){t(s,u,d,f,m)},primitiveProp(s,u,d,f,m){let{sheetObject:v,trackId:g}=d,h=(0,Gn.val)(de().atomP.historic.coreByProject[v.address.projectId].sheetsById[v.address.sheetId].sequence.tracksByObject[v.address.objectKey].trackData[g]);if(!(f.v[0]>d.top+d.heightIncludingChildren/2+ba||d.top+d.heightIncludingChildren/2-ba>f.v[1])){for(let b of h.keyframes)if(!(b.position+u.scaledSpace.toUnitSpace(ba)<=f.h[0])){if(b.position-u.scaledSpace.toUnitSpace(ba)>=f.h[1])break;MA(m,y=>y[v.address.objectKey].byTrackId[g].byKeyframeId[b.id],!0)}}}},o=(s,u,d,f,m)=>{if("children"in d)for(let v of d.children)i(s,u,v,f,m)};function i(s,u,d,f,m){if(!d.shouldRender||f.v[0]>d.top+d.heightIncludingChildren||d.top>f.v[1])return;let v=n[d.type];v?v(s,u,d,f,m):o(s,u,d,f,m)}function l(s,u,d){let f={};d=a1(d);let m=u.tree;i(s.utilFor.internal(),u,m,d,f);let v=u.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:f,getDragHandlers(g){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let h,b=u.scaledSpace.toUnitSpace;return{onDrag(y,k,x){h&&(h.discard(),h=void 0);let S=gn.checkIfMouseEventSnapToPos(x,{ignore:g.domNode}),_=S!=null?S-g.positionAtStartOfDrag:b(y);h=de().tempTransaction(({stateEditors:O})=>{let j=O.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let z of Object.keys(f)){let{byTrackId:V}=f[z];for(let W of Object.keys(V)){let{byKeyframeId:B}=V[W];j({trackId:W,keyframeIds:Object.keys(B),translate:_,scale:1,origin:0,snappingFunction:v.getSequence().closestGridPosition,objectKey:z,projectId:g.projectId,sheetId:g.sheetId})}}})},onDragEnd(y){y?h==null||h.commit():h==null||h.discard()}}}}},delete(){de().transaction(({stateEditors:g})=>{let h=g.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let b of Object.keys(f)){let{byTrackId:y}=f[b];for(let k of Object.keys(y)){let{byKeyframeId:x}=y[k];h(he(L({},v.address),{objectKey:b,trackId:k,keyframeIds:Object.keys(x)}))}}})}}}e.boundsToSelection=l})(o1||(o1={})),qA=M.div(WA||(WA=F([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),a1=e=>({h:[...e.h].sort((t,n)=>t-n),v:[...e.v].sort((t,n)=>t-n)}),$A=({state:e,layoutP:t})=>{let n=Dee(e);return Xe(()=>{let o=(0,Gn.val)(n.pointer),i=a1(o),l=(0,Gn.val)(t.scaledSpace.fromUnitSpace),s=(0,Gn.val)(t.scaledSpace.leftPadding),u=i.h.map(l).map(g=>g+s),d=i.v[0],f=i.v[1]-i.v[0],m=u[0],v=u[1]-u[0];return is.default.createElement(qA,{style:{top:d+"px",height:f+"px",left:m+"px",width:v+"px"}})},[t,n])},LA=KA}),xi,ZA,GA,i1,XA,YA,QA,JA=P(()=>{Rl(),xi=$(X()),be(),Uo(),GA=M.div(ZA||(ZA=F([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>uo.scrollableArea),i1=(0,xi.createContext)(gr),XA=()=>(0,xi.useContext)(i1),YA=e=>{let t=(0,xi.useRef)(null),n=(0,xi.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return xi.default.createElement(i1.Provider,{value:n},xi.default.createElement(GA,{ref:t},e.children))},QA=YA}),eB,Kee=P(()=>{eB='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Xn,oh=P(()=>{Xn=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),ah,tB,nB,Wee=P(()=>{ah=je,tB=(0,ah.prism)(()=>{let[e,t]=ah.prism.state("pos",null);return ah.prism.effect("setupListeners",()=>{let n=o=>{t(o)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]),e}),nB=tB}),Do,vn,yc,rB,oB,aB,iB,Ao,eo,ih,lB,sB,Gt=P(()=>{Do=je,Wee(),Ft(),vn=$(X()),yc=(0,vn.createContext)(null),rB=0,oB=({children:e,layoutP:t})=>{let n=(0,vn.useMemo)(()=>new Do.Atom([]),[]),o=(0,vn.useMemo)(()=>(0,Do.prism)(()=>{let s=Do.prism.memo("p",()=>lB(t),[t]).getValue(),u=(0,Do.val)(n.pointer);return u.length>0?oi(u).position:s}),[t]),i=(0,vn.useCallback)(()=>{let s=rB++;return n.reduce(u=>[...u,{id:s,position:[-1,0]}]),{set:u=>{n.reduce(d=>{let f=d.findIndex(v=>v.id===s);if(f===-1)return console.warn("Lock is already freed. This is a bug."),d;let m=[...d];return m.splice(f,1,{id:s,position:[u,u===-1?0:1]}),m})},unlock:()=>{n.reduce(u=>u.filter(d=>d.id!==s))}}},[]),l={currentD:o,getLock:i};return vn.default.createElement(yc.Provider,{value:l},e)},aB=()=>(0,vn.useContext)(yc).currentD,iB=()=>{let{getLock:e}=(0,vn.useContext)(yc),t=(0,vn.useRef)();return(0,vn.useLayoutEffect)(()=>()=>{var n;(n=t.current)==null||n.unlock()},[]),(0,vn.useMemo)(()=>{let n;return(o,i)=>{var l,s;(n==null?void 0:n.shouldLock)!==o&&(o?t.current=e():(l=t.current)==null||l.unlock()),(n==null?void 0:n.pos)!==i&&o&&((s=t.current)==null||s.set(i)),n={shouldLock:o,pos:i}}},[e])},Ao=(e,t)=>{let{getLock:n}=(0,vn.useContext)(yc),o=(0,vn.useRef)();(0,vn.useLayoutEffect)(()=>{if(e)return o.current=n(),()=>{o.current.unlock()}},[e,n]),(0,vn.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},eo=e=>({[ih]:e==="hide"?e:e.toFixed(3)}),ih="data-theatre-lock-framestamp-to",lB=e=>(0,Do.prism)(()=>{let t=(0,Do.val)(e.rightDims),n=(0,Do.val)(e.clippedSpace.toUnitSpace),o=(0,Do.val)(nB);if(!o)return[-1,0];for(let m of o.composedPath()){if(!(m instanceof HTMLElement||m instanceof SVGElement))break;if(m.hasAttribute(ih)){let v=m.getAttribute(ih);if(typeof v!="string")continue;if(v==="hide")return[-1,0];let g=parseFloat(v);if(isFinite(g)&&g>=0)return[g,2]}}let{clientX:i,clientY:l}=o,{screenX:s,screenY:u,width:d,height:f}=t;if(G0(i,s,s+d)&&G0(l,u+16,u+f)){let m=i-s;return[n(m),3]}else return[-1,0]}),sB=oB}),uB,bc,l1,cB,dB,to,fB=P(()=>{rt(),Bn(),be(),Kee(),oh(),Sr(),Gt(),uB=12,bc=34,l1="beingDragged",to={BEING_DRAGGED_CLASS:l1,CSS:Dn(cB||(cB=F([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Xn(uB),tt,l1),CSS_WHEN_SOMETHING_DRAGGING:Dn(dB||(dB=F([`
    pointer-events: auto;
    cursor: var(`,`);

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),_o,bc/2,bc/2,bc,bc,eB),reactProps(e){return he(L(L({},eo(e.position)),gn.includePositionSnapAttrs(e.position)),{className:e.isDragging?to.BEING_DRAGGED_CLASS:""})}}});function s1(){wc.set({mode:"snapToAll"})}function Si(){wc.set({mode:"snapToNone"})}function pB(e){wc.set({mode:"snapToSome",positions:e})}function hB(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,Object.fromEntries(Object.entries(o.trackData).map(([i,l])=>[i,l.keyframes.filter(s=>t(s,{trackId:i,trackData:l,objectKey:n})).map(s=>s.position)]))]))}var mB,gB,u1,vB,yB,bB,kB,wB,kc,wc,c1,Ei=P(()=>{mB=je,gB=je,u1=$(X()),be(),fB(),yB=M.div(vB||(vB=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),to.CSS,to.CSS_WHEN_SOMETHING_DRAGGING),kB=M.div(bB||(bB=F([`
  position: absolute;
`]))),wB=e=>u1.default.createElement(kB,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,gB.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},u1.default.createElement(yB,L({},to.reactProps({isDragging:!1,position:e.position})))),kc=wB,wc=new mB.Atom({mode:"snapToNone"}),c1=wc.prism});function qee(e,t){let n=(0,_i.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(i){if(i.target instanceof HTMLInputElement||i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||i.composedPath().some(v=>v instanceof HTMLElement&&v.draggable===!0))return!1;let l=i.clientX-t.getBoundingClientRect().left,s=kt((0,St.val)(e.clippedSpace.toUnitSpace)(l),0,1/0),u=(0,St.val)(e.seeker.setIsSeeking),d=(0,St.val)(e.sheet).getSequence();d.position=s;let f=s,m=(0,St.val)(e.scaledSpace.toUnitSpace);return u(!0),s1(),{onDrag(v,g,h){let b=m(v),y=kt(f+b,0,d.length),k=gn.checkIfMouseEventSnapToPos(h,{});k!=null&&(y=k),d.position=y},onDragEnd(){u(!1),Si()}}}}),[e,t]),[o]=xt(t,n);Ln(o,"draggingPositionInSequenceEditor","ew-resize")}function $ee(e,t){let n=XA();(0,_i.useLayoutEffect)(()=>{if(!t)return;let o=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let s=l.clientX-t.getBoundingClientRect().left,u=(0,St.val)(e.clippedSpace.toUnitSpace)(s),d=(0,St.val)(e.clippedSpace.range),f=1+d1(l.deltaY,[-50,50])*.03,m=ai(d,h=>(h-u)*f+u),v=(0,St.val)(e.sheet).getSequence().length,g=v+v*.25;(0,St.val)(e.clippedSpace.setRange)(Lee(m,[0,g]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.sheet).getSequence().length,u=(0,St.val)(e.clippedSpace.range),d=(u.end-u.start)/s,f=d1(l.deltaY||l.deltaX,[-50,50])*.05*d,m=ai(u,v=>v+f);(0,St.val)(e.clippedSpace.setRange)(m);return}else{n(l),l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.scaledSpace.toUnitSpace)(l.deltaX*1),u=(0,St.val)(e.clippedSpace.range),d=ai(u,f=>f+s);(0,St.val)(e.clippedSpace.setRange)(d);return}},i={capture:!0,passive:!1};return t.addEventListener("wheel",o,i),()=>{t.removeEventListener("wheel",o,i)}},[t,e]),xt(t,(0,_i.useMemo)(()=>({onDragStart(o){let i=(0,St.val)(e.clippedSpace.range),l=(0,St.val)(e.clippedSpace.setRange),s=(0,St.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(u,d,f,m,v){n({deltaY:-v});let g=-s(u),h=ai(i,b=>b+g);l(h)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function d1(e,[t,n]){return Math.max(Math.min(e,n),t)}function Lee(e,t){return ai(e,n=>d1(n,t))}function Zee(e,t){(0,_i.useLayoutEffect)(()=>{if(!t)return;let n=(0,St.prism)(()=>{let s=(0,St.val)(e.clippedSpace.range);return(0,St.val)(e.scaledSpace.fromUnitSpace)(s.start)}),o=()=>{let s=n.getValue();t.scrollLeft=s},i=n.onStale(o);o();let l=setTimeout(o,100);return()=>{clearTimeout(l),i()}},[e,t])}var St,_i,xB,SB,EB,f1,_B=P(()=>{Dt(),nt(),Re(),St=je,Ft(),_i=$(X()),be(),JA(),rt(),Bn(),Sr(),Ei(),SB=M.div(xB||(xB=F([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),tt),EB=_i.default.memo(({layoutP:e,children:t,height:n})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:i}=Xe(()=>({width:(0,St.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,St.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[l,s]=Qe(null);return $ee(e,s),qee(e,s),Zee(e,s),_i.default.createElement(SB,{ref:l,style:{width:o+"px",height:n+"px","--unitSpaceToScaledSpaceMultiplier":i}},t)}),f1=EB}),lh,PB,CB,IB,jB,OB,TB,zB,ls,sh=P(()=>{lh=$(X()),be(),CB=M.li(PB||(PB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),jB=M.div(IB||(IB=F([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),TB=M.ul(OB||(OB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),zB=({leaf:e,children:t,node:n,isCollapsed:o})=>{let i=Array.isArray(t)&&t.length>0;return e.shouldRender?lh.default.createElement(CB,null,lh.default.createElement(jB,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},n),i&&lh.default.createElement(TB,null,t)):null},ls=zB}),Gee=He((e,t)=>{(function(){var n=this,o={};typeof e<"u"?t.exports=o:n.fuzzy=o,o.simpleFilter=function(i,l){return l.filter(function(s){return o.test(i,s)})},o.test=function(i,l){return o.match(i,l)!==null},o.match=function(i,l,s){s=s||{};var u=0,d=[],f=l.length,m=0,v=0,g=s.pre||"",h=s.post||"",b=s.caseSensitive&&l||l.toLowerCase(),y;i=s.caseSensitive&&i||i.toLowerCase();for(var k=0;k<f;k++)y=l[k],b[k]===i[u]?(y=g+y+h,u+=1,v+=1+v):v=0,m+=v,d[d.length]=y;return u===i.length?(m=b===i?1/0:m,{rendered:d.join(""),score:m}):null},o.filter=function(i,l,s){return!l||l.length===0?[]:typeof i!="string"?l:(s=s||{},l.reduce(function(u,d,f,m){var v=d;s.extract&&(v=s.extract(d));var g=o.match(i,v,s);return g!=null&&(u[u.length]={string:g.rendered,score:g.score,index:f,original:d}),u},[]).sort(function(u,d){var f=d.score-u.score;return f||u.index-d.index}))}})()});function Xee(e,t){let[n,o]=(0,uh.useState)(!1),i=(0,uh.useRef)(t);return n||(i.current=t),(0,uh.useMemo)(()=>e(o),i.current)}var uh,Yee=P(()=>{uh=$(X())}),p1,ka,ch=P(()=>{p1="rgba(26, 28, 30, 0.97);",ka="#272B2F"});function DB(e,t,n,o){let i=Xee(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(s,u){e&&n.onCurveChange(o(s,u))},onDragEnd(s){l(!1),n.onCancelCurveChange()}}}}),[e,n.onCurveChange,n.onCancelCurveChange]);xt(t,i)}var Je,dh,xc,ss,AB,Sc,BB,fh,NB,FB,RB,us,MB,Pi,UB,VB,h1,HB,ph,KB,m1,WB,qB,Qee=P(()=>{Je=$(X()),Dt(),nt(),lf(),be(),rt(),Yee(),ch(),dh=.12,xc=1+dh*2,ss=.01,AB=8,Sc=(1-ss)/(AB-1),BB="#3EAAA4",fh="#3EAAA4",NB="#3EAAA4",FB="#3EAAA4",RB="#3EAAA4",us="#3EAAA4",MB="#3EAAA4",Pi="#B3B3B3",UB="#3eaaa4",VB="#67dfd8",h1=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],ph=M.circle(HB||(HB=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),UB),m1=M.circle(KB||(KB=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),tt,ph,VB),WB=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:o}=e,i=Math.min(0,1-n.handles[1],1-t.handles[3]),l=Math.max(1,1-n.handles[1],1-t.handles[3]),s=Math.max(1,l-i),u=x=>(x-i)/s,[d,f]=Qe(null),m=xc/((f==null?void 0:f.clientWidth)||1),v=xc/((f==null?void 0:f.clientHeight)||1),[g,h]=Qe(null);DB(f,h,e,(x,S)=>{let _=kt(t.handles[2]+x*m,0,1),O=t.handles[3]-S*v;return[_,O,n.handles[0],n.handles[1]]});let[b,y]=Qe(null);DB(f,y,e,(x,S)=>{let _=kt(n.handles[0]+x*m,0,1),O=n.handles[1]-S*v;return[t.handles[2],t.handles[3],_,O]});let k=x=>"M0 ".concat(u(1)," C").concat(x.left.handles[2]," ").concat(u(1-x.left.handles[3])," ").concat(x.right.handles[0]," ").concat(u(1-x.right.handles[1])," 1 ").concat(u(0));return Je.default.createElement("svg",{height:"100%",width:"100%",ref:d,viewBox:"".concat(-dh," ").concat(-dh," ").concat(xc," ").concat(xc),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Je.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Je.default.createElement("stop",{offset:u(-1),stopColor:MB}),Je.default.createElement("stop",{offset:u(0),stopColor:us}),Je.default.createElement("stop",{offset:u(.3),stopColor:RB}),Je.default.createElement("stop",{offset:u(.5),stopColor:FB}),Je.default.createElement("stop",{offset:u(.7),stopColor:NB}),Je.default.createElement("stop",{offset:u(1),stopColor:fh}),Je.default.createElement("stop",{offset:u(2),stopColor:BB})),Je.default.createElement("pattern",{id:"dot-background-pattern-1",width:Sc,height:Sc/s,y:-i/s},Je.default.createElement("rect",{width:ss,height:ss,fill:Pi,opacity:.3})),Je.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Je.default.createElement("pattern",{id:"dot-background-pattern-2",width:Sc,height:Sc},Je.default.createElement("rect",{width:ss,height:ss,fill:Pi})),Je.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:t.handles[2],y2:u(1-t.handles[3]),stroke:Pi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(0),x2:n.handles[0],y2:u(1-n.handles[1]),stroke:Pi,strokeWidth:"0.01"}),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((x,S)=>Je.default.createElement("path",{key:x.objectKey+"/"+x.left.id,d:k(x),stroke:h1[S%h1.length],opacity:.6,strokeWidth:"0.01"})),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Je.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:fh,strokeWidth:"0.02",fill:ka}),Je.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:us,strokeWidth:"0.02",fill:ka}),Je.default.createElement(m1,{ref:g,cx:t.handles[2],cy:u(1-t.handles[3]),fill:fh,opacity:.2}),Je.default.createElement(ph,{cx:t.handles[2],cy:u(1-t.handles[3])}),Je.default.createElement(m1,{ref:b,cx:n.handles[0],cy:u(1-n.handles[1]),fill:us,opacity:.2}),Je.default.createElement(ph,{cx:n.handles[0],cy:u(1-n.handles[1])})):Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:1,y2:u(1),stroke:Pi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(1),x2:1,y2:0,stroke:Pi,strokeWidth:"0.01"}),Je.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:us,strokeWidth:"0.02",fill:ka}),Je.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:us,strokeWidth:"0.02",fill:ka})))},qB=WB});function hh(e){return e.map(t=>t.toFixed(3)).join(", ")}function mh(e){if(!e||(e==null?void 0:e.length)>$B)return null;let t=e.split(",");if(t.length!==4)return null;let n=t.map(o=>Number(o.trim()));return!n.every(o=>isFinite(o))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function Jee(e,t,n={threshold:.02}){if(!e||!t)return!1;let o=0;for(let i=0;i<4;i++)o+=Math.abs(e[i]-t[i]);return o<n.threshold}var $B,gh,LB=P(()=>{$B=128,gh=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),sn,vh,Ci,g1,ZB,GB,Ec,v1,y1,XB,YB,ete=P(()=>{sn=$(X()),vh=.75,Ci=.1,g1=1+vh*2,ZB="#F5F5F5",GB="#888888",Ec="#4f4f4f",v1="rgba(255, 255, 255, 0.1)",y1=e=>1-e,XB=e=>{let{easing:t,isSelected:n}=e,o=n?ZB:GB,i="".concat(-vh," ").concat(-vh," ").concat(g1," ").concat(g1);if(t){let l=[t[0],y1(t[1])],s=[t[2],y1(t[3])];return sn.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:Ec,strokeWidth:"0.1"}),sn.default.createElement("line",{x1:"1",y1:"0",x2:s[0],y2:s[1],stroke:Ec,strokeWidth:"0.1"}),sn.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:v1}),sn.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:v1}),sn.default.createElement("circle",{cx:l[0],cy:l[1],r:Ci,fill:Ec}),sn.default.createElement("circle",{cx:s[0],cy:s[1],r:Ci,fill:Ec}),sn.default.createElement("path",{d:"M0 1 C".concat(l[0]," ").concat(l[1]," ").concat(s[0],` 
        `).concat(s[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),sn.default.createElement("circle",{cx:0,cy:1,r:Ci,fill:o}),sn.default.createElement("circle",{cx:1,cy:0,r:Ci,fill:o}))}return sn.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),sn.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),sn.default.createElement("circle",{cx:0,cy:1,r:Ci,fill:o}),sn.default.createElement("circle",{cx:1,cy:0,r:Ci,fill:o}))},YB=XB}),_c,QB,JB,e9,t9,n9,r9,o9,tte=P(()=>{ac(),_c=$(X()),be(),LB(),ete(),Gf(),ch(),Zr(),e9=M.div(JB||(JB=F([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),ka,({isSelected:e})=>e&&Dn(QB||(QB=F([`
      background-color: #383d42;
    `])))),n9=M(Lr)(t9||(t9=F([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),r9=_c.default.forwardRef((e,t)=>{let[n,o]=Jl({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>_c.default.createElement(n9,{showPopoverEdgeTriangle:!1},e.easing.label));return _c.default.createElement(e9,L({ref:Zf([o,t])},e),n,_c.default.createElement(YB,{easing:mh(e.easing.value),isSelected:e.isSelected}))}),o9=r9});function nte(e){var t;let[n,o]=(0,a9.useState)(null),i=s=>{if(n===null){e.items.length>0&&o(0);return}let u=n+s*e.uiColumns,d=u<0,f=u>e.items.length-1;if(d||f){if(e.canVerticleExit&&e.canVerticleExit(d?"top":"bottom")){o(null);return}return}o(u)},l=s=>{n===null?o(ite(s,e.items.length)):n+s<0?o(null):o(Math.min(n+s,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:s=>{if(s.key==="ArrowRight")l(1);else if(s.key==="ArrowLeft")l(-1);else if(s.key==="ArrowUp")i(-1);else if(s.key==="ArrowDown")i(1);else return 0;return 1},gridItems:e.items.map((s,u)=>e.renderItem({isSelected:u===n,item:s,select(d){o(u),e.onSelectItem(s)===1&&(d==null||d.preventDefault(),d==null||d.stopPropagation())}})),currentSelection:(t=e.items[n??-1])!=null?t:null}}var a9,rte=P(()=>{a9=$(X()),bh()});function i9(e,t,n){var o;(o=e.current)==null||o.discard(),e.current=null;let i=mh(n);i===null?e.current=ate(t):e.current=ote(t,i)}function l9(e){var t;(t=e.current)==null||t.discard(),e.current=null}function ote(e,t){return de().tempTransaction(({stateEditors:n})=>{let{setHandlesForKeyframe:o,setKeyframeType:i}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:s,objectKey:u,trackId:d,left:f,right:m}of e)o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,start:[t[0],t[1]]}),o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:m.id,end:[t[2],t[3]]}),i({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,keyframeType:"bezier"})})}function ate(e){return de().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:n}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:i,objectKey:l,trackId:s,left:u}of e)n({projectId:o,sheetId:i,objectKey:l,trackId:s,keyframeId:u.id,keyframeType:"hold"})})}function ite(e,t){return(e%t+t)%t}function lte(e,t){return()=>setTimeout(e,t)}function ste({left:e,right:t}){return({left:n,right:o})=>e.handles[2]!==n.handles[2]||e.handles[3]!==n.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var yh,gt,s9,b1,k1,u9,c9,d9,f9,p9,h9,m9,g9,v9,y9,b9,k9,w1,ute,x1,w9,bh=P(()=>{yh=je,gt=$(X()),be(),s9=$(Gee()),Ne(),Qee(),tte(),LB(),ch(),nt(),rte(),b1=3,k1=53,u9=25,d9=M.div(c9||(c9=F([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),p1,b1*k1),p9=M.div(f9||(f9=F([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),b1),m9=M.input.attrs({type:"text"})(h9||(h9=F([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),ka),v9=M.div(g9||(g9=F([`
  grid-area: tween;
  background: `,`;
`])),ka),b9=M.div(y9||(y9=F([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),k9=e=>{let t=(0,gt.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),n=(0,gt.useRef)(null);(0,gt.useEffect)(()=>{let D=w9(t);return()=>{var G;D(),(G=n.current)==null||G.commit()}},[n]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,gt.useRef)(null);(0,gt.useLayoutEffect)(()=>{var D,G;(D=i.current)==null||D.select(),(G=i.current)==null||G.focus()},[i.current]);let[l,s]=(0,gt.useState)(hh(o)),u=D=>{D!==void 0&&(m(1),s(D.target.value),mh(D.target.value)&&g(D.target.value))},d=D=>{var G,C;m(1),(D.key==="ArrowDown"||D.key==="ArrowUp")&&D.preventDefault(),D.key==="ArrowDown"?(re.focusFirstItem(),(C=(G=z.current[x[0].label])==null?void 0:G.current)==null||C.focus()):D.key==="Escape"?(l9(n),e.onRequestClose("key Escape")):D.key==="Enter"&&e.onRequestClose("key Enter")},[f,m]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{f===2?s(hh(o)):f===3&&l!==""&&s("")},t);let[v,g]=(0,gt.useState)(hh(o)),[h,b]=(0,gt.useState)(null);(0,gt.useEffect)(()=>{var D;f!==0&&f!==3&&i9(n,t,(D=h??v)!=null?D:"")},[h,v,f]),t.some(ste(e.curveConnection))&&f===0&&m(3);let y=D=>{var G,C;m(2);let Q=hh(D);s(Q),g(Q),(G=i.current)==null||G.select(),(C=i.current)==null||C.focus()},k=()=>{},x=(0,gt.useMemo)(()=>/^[A-Za-z]/.test(l)?s9.default.filter(l,gh,{extract:D=>D.label}).map(D=>D.original):gh,[l]);(0,gt.useEffect)(()=>{f===1&&x[0]&&g(x[0].value)},[x]);let S=D=>{D.key==="Escape"?(l9(n),e.onRequestClose("key Escape"),D.stopPropagation()):D.key==="Enter"&&(e.onRequestClose("key Enter"),D.stopPropagation())},_=D=>{f===0&&m(2),b(D.value)},O=()=>b(null),j=D=>(i9(n,t,D.value),e.onRequestClose("selected easing option"),1),z=(0,gt.useRef)(gh.reduce((D,G)=>(D[G.label]={current:null},D),{})),[V,W]=Qe(null),[B,Z]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{let D=()=>{var G;Z((G=W==null?void 0:W.scrollTop)!=null?G:0)};return W==null||W.addEventListener("scroll",D),()=>W==null?void 0:W.removeEventListener("scroll",D)},[W]);let re=nte({items:x,uiColumns:3,onSelectItem:j,canVerticleExit(D){var G,C;return D==="top"?((G=i.current)==null||G.select(),(C=i.current)==null||C.focus(),1):0},renderItem:({item:D,select:G})=>{var C,Q;return gt.default.createElement(o9,{key:D.label,easing:D,tabIndex:0,onKeyDown:S,ref:z.current[D.label],onMouseOver:()=>_(D),onMouseOut:O,onClick:G,tooltipPlacement:((Q=(C=z.current[D.label].current)==null?void 0:C.offsetTop)!=null?Q:0)-(B??0)<k1+u9?"bottom":"top",isSelected:Jee(o,mh(D.value))})}});return(0,gt.useLayoutEffect)(()=>{var D,G;if(re.currentSelection!==null&&document.activeElement!==i.current){let C=(G=(D=z.current)==null?void 0:D[re.currentSelection.label])==null?void 0:G.current;C==null||C.focus(),g(re.currentSelection.value),/^[A-Za-z]/.test(l)||s(re.currentSelection.value)}},[re.currentSelection]),gt.default.createElement(d9,null,gt.default.createElement(m9,{value:l,placeholder:f===3?"Multiple easings selected":"Search presets...",onPaste:lte(u),onChange:u,ref:i,onKeyDown:d}),gt.default.createElement(p9,{ref:V,onKeyDown:D=>re.onParentEltKeyDown(D)},re.gridItems,re.gridItems.length===0?gt.default.createElement(b9,null,"No results found"):void 0),gt.default.createElement(v9,{onClick:()=>{var D;return(D=i.current)==null?void 0:D.focus()}},gt.default.createElement(qB,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:y,onCancelCurveChange:k})))},w1=k9,{isCurveEditorOpenD:ute,isConnectionEditingInCurvePopover:x1,getLock:w9}=(()=>{let e=new yh.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,yh.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return yh.prism.ensurePrism(),e.prism.getValue().some(({left:n,right:o})=>t.left.id===n.id&&t.right.id===o.id)}}})()});function cte(e,t){for(let{keyframeId:n}of pte(t))if(e.left.id===n)return!0;return!1}function x9(e,t,n){return(0,wh.prism)(()=>{if(n===void 0)return[];let o=[];for(let{objectKey:i,trackId:l}of S9(n)){let s=(0,wh.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[l]);s&&(o=o.concat(fte(s.keyframes).filter(u=>cte(u,n)).map(({left:u,right:d})=>({left:u,right:d,trackId:l,objectKey:i,sheetId:t,projectId:e}))))}return o})}function kh(e,t,n){var o;if(n===void 0)return[];let i=[];for(let{objectKey:s,trackId:u,keyframeIds:d}of S9(n))i=i.concat((o=S1({projectId:e,sheetId:t,objectKey:s,trackId:u,keyframeIds:d}))!=null?o:[]);let l=Jp(i.map(s=>s.pathToProp));return i.map(({keyframe:s,pathToProp:u})=>({keyframe:s,pathToProp:u.slice(l.length)}))}function S1({projectId:e,sheetId:t,objectKey:n,trackId:o,keyframeIds:i}){let l=(0,wh.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[n]),s=l==null?void 0:l.trackData[o];if(!s)return null;let u=dte((l==null?void 0:l.trackIdByPropPath)||{})[o];if(!u)return null;let d=[n,...eh(u)];return i.map(f=>({keyframe:s.keyframes.find(m=>m.id===f),pathToProp:d})).filter(({keyframe:f})=>f!==void 0)}function dte(e){let t={};for(let[n,o]of Object.entries(e))t[o]=n;return t}function fte(e){return e.map((t,n)=>({left:t,right:e[n+1]})).slice(0,-1)}function pte(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))for(let f of Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{}))i.push({objectKey:l,trackId:u,keyframeId:f});return i}function S9(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))i.push({objectKey:l,trackId:u,keyframeIds:Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{})});return i}var wh,cs=P(()=>{wh=je,Ne(),Jr()});function hte(e,t){return(0,E9.useMemo)(()=>mte(e,t),[])}function mte(e,t){let n=null,o=s=>de().tempTransaction(u=>e(u,s));function i(){n==null||n.discard(),n=null}let l={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:s=>s.id?t.sheet.project.assetStorage.getAssetUrl(s.id):void 0};return L({temporarilySetValue(s){i(),n=o(s)},discardTemporaryValue:i,permanentlySetValue(s){i(),o(s).commit()}},l)}var E9,gte=P(()=>{Ne(),E9=$(X())});function E1(e){var t;if(e.type==="sheetObject")return Xt.default.createElement(Xt.default.Fragment,null,Xt.default.createElement(xh,{style:{paddingLeft:"".concat(e.indent*Sh,"px")}},e.sheetObject.address.objectKey),e.children.map((n,o)=>Xt.default.createElement(E1,he(L({key:o},n),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let n=(t=e.propConfig.label)!=null?t:oi(e.pathToProp);return Xt.default.createElement(Xt.default.Fragment,null,Xt.default.createElement(xh,{style:{paddingLeft:"".concat(e.indent*Sh,"px")}},n),e.children.map((o,i)=>Xt.default.createElement(E1,he(L({key:i},o),{autoFocusInput:e.autoFocusInput&&i===0,indent:e.indent+1}))))}else return Xt.default.createElement(vte,he(L({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function vte(e){var t;let n=(t=e.propConfig.label)!=null?t:oi(e.pathToProp),o=yte(e);if(e.propConfig.type==="enum")return Xt.default.createElement(Xt.default.Fragment,null);{let i=eb[e.propConfig.type];return Xt.default.createElement(P9,null,Xt.default.createElement(xh,null,Xt.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*Sh,"px")}},n)),Xt.default.createElement(j9,null,Xt.default.createElement(i,{editingTools:o,propConfig:e.propConfig,value:vp(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function yte(e){let t=e.sheetObject;return hte(({stateEditors:n},o)=>{let i=he(L({},e.keyframe),{value:o});n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},t.address),{trackId:e.trackId,keyframes:[i],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var Xt,_9,P9,C9,xh,Sh,I9,j9,bte=P(()=>{Xt=$(X()),be(),pO(),hf(),gte(),da(),P9=M.div(_9||(_9=F([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),xh=M.div(C9||(C9=F([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),Sh=10,j9=M.div(I9||(I9=F([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function Eh(e){return qr({debugName:"useKeyframeInlineEditorPopover"},()=>_h.default.createElement(Lr,{showPopoverEdgeTriangle:!0},_h.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,n)=>_h.default.createElement(E1,he(L({key:n},t),{autoFocusInput:n===0,indent:0}))):void 0)))}var _h,Ph=P(()=>{_h=$(X()),$r(),Zr(),bte()});function kte(e,t,n){return hn(e,{displayName:"Keyframe",menuItems:()=>{let o=kh(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])})}},{label:n.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():de().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",n)}})}function wte(e,t,n){let o=(0,wa.useRef)(t);o.current=t;let{onClickFromDrag:i}=n,l=(0,wa.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(u){let d=o.current,f=(0,Ch.val)(de().atomP.historic.coreByProject[d.leaf.sheetObject.address.projectId].sheetsById[d.leaf.sheetObject.address.sheetId].sequence.tracksByObject),m=hB(f,function(b,{trackId:y,objectKey:k}){var x,S;return b.id!==d.keyframe.id&&!(d.selection&&(S=(x=d.selection.byObjectKey[k])==null?void 0:x.byTrackId[y])!=null&&S.byKeyframeId[b.id])});if(pB(m),d.selection){let{selection:b,leaf:y}=d,{sheetObject:k}=y,x=b.getDragHandlers(he(L({},k.address),{domNode:e,positionAtStartOfDrag:d.track.data.keyframes[d.index].position})).onDragStart(u);return x&&he(L({},x),{onClick:i,onDragEnd:(...S)=>{var _;(_=x.onDragEnd)==null||_.call(x,...S),Si()}})}let v=d,g=(0,Ch.val)(v.layoutP.scaledSpace.toUnitSpace),h;return{onDrag(b,y,k){var x;let S=v.track.data.keyframes[v.index],_=Math.max((x=gn.checkIfMouseEventSnapToPos(k,{ignore:e}))!=null?x:S.position+g(b),0);h==null||h.discard(),h=void 0,h=de().tempTransaction(({stateEditors:O})=>{O.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},v.leaf.sheetObject.address),{trackId:v.leaf.trackId,keyframes:[he(L({},S),{position:_})],snappingFunction:(0,Ch.val)(v.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(b){b?h==null||h.commit():h==null||h.discard(),Si()},onClick(b){i(b)}}}}),[i]),[s]=xt(e,l);return Ao(s,t.keyframe.position),Ln(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var wa,Ch,Pc,_1,Cc,P1,O9,Ih,T9,z9,D9,A9,B9,N9,F9=P(()=>{wa=$(X()),be(),Ne(),mn(),Dt(),nt(),Ch=je,Gt(),Bn(),Sr(),oh(),ua(),cs(),rt(),Ei(),Ph(),vi(),Pc=6,_1=Pc+2,Cc={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},P1=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?Cc.inlineEditorOpenColor:e?Cc.selectedColor:t?Cc.selectedAndInlineEditorOpenColor:Cc.normalColor,Ih=M.div(O9||(O9=F([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Xn(Pc),e=>P1(e),e=>e.flag===2?"outline: 2px solid white;":""),z9=M.div(T9||(T9=F([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Xn(Pc*1.5),e=>P1(e),e=>e.flag===2?"outline: 2px solid white;":""),A9=M.div(D9||(D9=F([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Xn(12),tt,Ih,e=>e.isInlineEditorPopoverOpen?Xn(_1):"",Ih,Xn(_1)),B9=e=>{let t=sa("SingleKeyframeDot",e.keyframe.id),n=gi(e.itemKey),[o,i]=Qe(null),[l]=kte(i,t,e),{node:s,toggle:u,isOpen:d}=Eh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);wte(i,e,{onClickFromDrag(m){u(m,o.current)}});let f=!e.keyframe.type||e.keyframe.type==="bezier";return wa.default.createElement(wa.default.Fragment,null,wa.default.createElement(A9,L({ref:o,isInlineEditorPopoverOpen:d},n.attrs)),f?wa.default.createElement(Ih,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}):wa.default.createElement(z9,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}),s,l)},N9=B9}),C1,I1,j1,Ii,R9,M9,O1,U9=P(()=>{An(),C1=$(X()),be(),F9(),I1=Pc/2+1,j1=1e3,Ii={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?Ii.selectedColor:Ii.normalColor;return e.isPopoverOpen?Af(.2,jl(.2,t)):t},hoverColor:e=>{let t=e.isSelected?Ii.selectedColor:Ii.normalColor;return e.isPopoverOpen?Af(.2,jl(.2,t)):Af(.1,jl(.1,t))}},M9=M.div(R9||(R9=F([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),Ii.barColor,I1,j1,I1/2,Ii.hoverColor),O1=C1.default.forwardRef((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return C1.default.createElement(M9,he(L({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/j1,"))")},onClick:o=>{var i;(i=e.openPopover)==null||i.call(e,o)}}),e.children)})});function xte(e,t){let n=(0,T1.useRef)(t);n.current=t;let o=(0,T1.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s;if(l.selection){let{selection:m,leaf:v}=l,{sheetObject:g}=v;return m.getDragHandlers(he(L({},g.address),{domNode:e,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(i)}let u=l,d=(0,jh.val)(u.layoutP.sheet).getSequence(),f=(0,jh.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(m,v,g){let h=f(m);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},u.leaf.sheetObject.address),{trackId:u.leaf.trackId,keyframeIds:[u.keyframe.id,u.track.data.keyframes[u.index+1].id],translate:h,scale:1,origin:0,snappingFunction:d.closestGridPosition}))})},onDragEnd(m){m?s&&s.commit():s&&s.discard()}}}}),[]);xt(e,o)}function Ste(e,t,n,o){return hn(t,{displayName:"Tween",menuItems:()=>{let i=kh(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:i.length>0?"Copy (selection)":"Copy",callback:()=>{i.length>0?de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}):de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():de().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},e.leaf.sheetObject.address),{keyframeIds:[n.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var jh,xa,T1,z1,V9,H9,K9,W9,q9,Ete=P(()=>{Ne(),mn(),Dt(),nt(),jh=je,xa=$(X()),T1=$(X()),$r(),Zr(),bh(),U9(),ch(),Re(),cs(),cs(),be(),z1=5,H9=M(Lr)(V9||(V9=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),p1),K9=e=>{let{index:t,track:n}=e,o=n.data.keyframes[t],i=n.data.keyframes[t+1],[l,s]=Qe(null),{node:u,toggle:d,close:f}=qr(()=>{let h=(0,jh.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:h.screenX+z1,maxX:h.screenX+h.width-z1}}},()=>xa.default.createElement(q9,he(L({},e),{closePopover:f}))),[m]=Ste(e,s,o,i);xte(s,e);let v=i.position-o.position,g={isPopoverOpen:Xe(()=>x1(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:i})),[e.leaf.sheetObject.address,e.leaf.trackId,o,i]),isSelected:e.selection!==void 0};return xa.default.createElement(xa.default.Fragment,null,xa.default.createElement(O1,he(L({ref:l,connectorLengthInUnitSpace:v},g),{openPopover:h=>{s&&d(h,s)}}),u),m)},W9=K9,q9=xa.default.forwardRef((e,t)=>{let{index:n,track:{data:o},selection:i}=e,l=o.keyframes[n],s=o.keyframes[n+1],u=e.leaf.trackId,d=e.leaf.sheetObject.address,f=Xe(()=>x9(d.projectId,d.sheetId,i).getValue(),[d,i]),m=L({left:l,right:s,trackId:u},d);return xa.default.createElement(H9,{showPopoverEdgeTriangle:!1,ref:t},xa.default.createElement(w1,{curveConnection:m,additionalConnections:f,onRequestClose:e.closePopover}))})}),$9,ji,L9,Z9,G9,X9,Y9,_te=P(()=>{$9=je,ji=$(X()),be(),Ete(),F9(),Z9=M.div(L9||(L9=F([`
  position: absolute;
`]))),G9=ji.default.createElement(ji.default.Fragment,null),X9=ji.default.memo(e=>{let{index:t,track:{data:n}}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=o.connectedRight&&!!i;return ji.default.createElement(Z9,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,$9.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},ji.default.createElement(N9,he(L({},e),{itemKey:e.itemKey})),l?ji.default.createElement(W9,L({},e)):G9)}),Y9=X9});function Pte(e,t){return hn(e,{displayName:"Keyframe Track",menuItems:()=>{var n;let o=(n=(0,ds.val)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?n:[];return[Cte(t,o)]}})}function Cte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let o=(0,ds.val)(e.layoutP.sheet).getSequence(),i=(n=t[0])==null?void 0:n.pathToProp,l=t.filter(({keyframe:s,pathToProp:u})=>Oee(i,u)).map(({keyframe:s,pathToProp:u})=>s);de().transaction(({stateEditors:s})=>{var u;o.position=o.closestGridPosition(o.position);let d=(u=Ite(l))==null?void 0:u.position;for(let f of l)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+f.position-d,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}}}function Ite(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}var ds,Bo,Q9,J9,D1,eN,jte=P(()=>{Re(),ds=je,Bo=$(X()),be(),_te(),mn(),nt(),Ne(),Jr(),Ei(),Oo(),J9=M.div(Q9||(Q9=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),D1=Bo.default.memo(e=>{var t;let{layoutP:n,trackData:o,leaf:i}=e,[l,s]=Qe(null),{selectedKeyframeIds:u,selection:d}=Xe(()=>{let _=(0,ds.val)(n.selectionAtom),O=(0,ds.val)(_.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return O?{selectedKeyframeIds:O,selection:(0,ds.val)(_.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[n,i.trackId]),[f,m,v]=Pte(s,e),g=Ye(c1),h=g.mode==="snapToSome"?(t=g.positions[i.sheetObject.address.objectKey])==null?void 0:t[i.trackId]:[],b=g.mode==="snapToAll",y=(0,Bo.useMemo)(()=>({data:o,id:i.trackId,sheetObject:e.leaf.sheetObject}),[o,i.trackId]),k=o.keyframes.map((_,O)=>Bo.default.createElement(Y9,{key:"keyframe-"+_.id,itemKey:Rt.forTrackKeyframe(i.sheetObject,i.trackId,_.id),keyframe:_,index:O,track:y,layoutP:n,leaf:i,selection:u[_.id]===!0?d:void 0})),x=h.map(_=>Bo.default.createElement(kc,{key:"snap-target-"+_,layoutP:n,leaf:i,position:_})),S=b?o.keyframes.map(_=>Bo.default.createElement(kc,{key:"additionalSnapTarget-".concat(_.id),layoutP:n,leaf:i,position:_.position})):null;return Bo.default.createElement(J9,{ref:l,style:{background:v?"#444850 ":"unset"}},k,x,Bo.default.createElement(Bo.default.Fragment,null,S),f)}),D1.displayName="BasicKeyframedTrack",eN=D1}),tN,Ic,nN,rN,Ote=P(()=>{Ne(),Re(),tN=je,Ic=$(X()),sh(),jte(),ua(),nN=({leaf:e,layoutP:t})=>{let n=sa("PrimitivePropRow",e.pathToProp.join());return Xe(()=>{let{sheetObject:o}=e,{trackId:i}=e,l=(0,tN.val)(de().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[i]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(n.errorDev("trackData type ".concat(l==null?void 0:l.type," is not yet supported on the sequence editor")),Ic.default.createElement(ls,{leaf:e,isCollapsed:!1,node:Ic.default.createElement("div",null)})):Ic.default.createElement(ls,{leaf:e,isCollapsed:!1,node:Ic.default.createElement(eN,{layoutP:t,trackData:l,leaf:e})})},[e,t])},rN=nN});function Tte(e){return e()}var zte=P(()=>{});function oN(e){let{index:t,aggregateKeyframes:n,selection:o}=e;return Xe(aN(e),[t,n,o,e.viewModel])}function aN(e){let{index:t,aggregateKeyframes:n,selection:o}=e,{projectId:i,sheetId:l}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let s=n[t],u=n[t+1],d=u&&s.keyframes.length===u.keyframes.length&&s.keyframes.every(({track:g},h)=>u.keyframes[h].track===g)?{length:u.position-s.position,selected:s.selected===0&&u.selected===0}:null,f=d?s.keyframes.map(({kf:g,track:h},b)=>he(L({},h.sheetObject.address),{trackId:h.id,left:g,right:u.keyframes[b].kf})):[],m=Tte(()=>{let g=A1.prism.memo("selectedConnections",()=>x9(i,l,o),[i,l,o]).getValue();return[...f,...g]}),v=f.every(g=>x1(g));return{itemKey:A1.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?Rt.forSheetAggregateKeyframe(e.viewModel.sheet,s.position):e.viewModel.type==="sheetObject"?Rt.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,s.position):Rt.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,s.position),[e.viewModel,s.position]),cur:s,connected:d,isAggregateEditingInCurvePopover:v,allConnections:m}}}var A1,B1=P(()=>{A1=je,Oo(),bh(),Re(),cs(),zte()});function Dte(e,t){let n=(0,Yn.useRef)(t);n.current=t;let o=(0,Yn.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s,u=l.aggregateKeyframes[l.index].keyframes,{selection:d,viewModel:f}=l,m=f.type==="sheet"?f.sheet.address:f.sheetObject.address;if(d&&l.aggregateKeyframes[l.index].selected===0)return d.getDragHandlers(he(L({},m),{domNode:e,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(i);let v=l,g=(0,Oh.val)(v.layoutP.sheet).getSequence(),h=(0,Oh.val)(v.layoutP.scaledSpace.toUnitSpace);return{onDrag(b,y,k){let x=h(b);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:S})=>{for(let _ of u)S.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},_.track.sheetObject.address),{trackId:_.track.id,keyframeIds:[_.kf.id,_.track.data.keyframes[_.track.data.keyframes.indexOf(_.kf)+1].id],translate:x,scale:1,origin:0,snappingFunction:g.closestGridPosition}))})},onDragEnd(b){b?s&&s.commit():s&&s.discard()}}}}),[]);return xt(e,o)}function Ate(e,t){return hn(t,{displayName:"Aggregate Tween",menuItems:()=>{let n=e.utils.allConnections.reduce((u,d)=>{var f;return u.concat((f=S1(he(L({},d),{keyframeIds:[d.left.id,d.right.id]})))!=null?f:[])},[]),o=Jp(n.map(u=>u.pathToProp)),i=n.map(({keyframe:u,pathToProp:d})=>({keyframe:u,pathToProp:d.slice(o.length)})),l=e.editorProps.viewModel,s=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let u=kh(s.projectId,s.sheetId,e.editorProps.selection);de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():de().transaction(({stateEditors:u})=>{for(let d of e.utils.allConnections)u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},s),{objectKey:d.objectKey,keyframeIds:[d.left.id,d.right.id],trackId:d.trackId}))})}}]}})}var Oh,Yn,N1,iN,lN,sN,uN,Bte=P(()=>{Oh=je,Yn=$(X()),U9(),$r(),nt(),Ne(),Dt(),bh(),B1(),be(),Zr(),cs(),mn(),Jr(),N1=5,lN=M(Lr)(iN||(iN=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),sN=Yn.default.forwardRef((e,t)=>{let{allConnections:n}=oN(e);return Yn.default.createElement(lN,{showPopoverEdgeTriangle:!1,ref:t},Yn.default.createElement(w1,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))}),uN=e=>{let[t,n]=Qe(null),{editorProps:o}=e,[i]=Ate(e,n),[l]=Dte(n,e.editorProps),{node:s,toggle:u,close:d}=qr(()=>{let v=(0,Oh.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:v.screenX+N1,maxX:v.screenX+v.width-N1}}},()=>Yn.default.createElement(sN,he(L({},o),{closePopover:d}))),{connected:f,isAggregateEditingInCurvePopover:m}=e.utils;return f||l?Yn.default.createElement(Yn.default.Fragment,null,Yn.default.createElement(O1,{ref:t,connectorLengthInUnitSpace:f?f.length:0,isSelected:f?f.selected:!1,isPopoverOpen:m,openPopover:v=>{n&&u(v,n)}}),s,i):Yn.default.createElement(Yn.default.Fragment,null)}});function Nte(e){let t={isSelected:e.isSelected,flag:e.flag};return No.default.createElement(Th,null,e.isAllHere?No.default.createElement(mN,L({},t)):No.default.createElement(gN,L({},t)))}var No,F1,cN,dN,Th,fN,pN,R1,M1,U1,V1,hN,mN,gN,Fte=P(()=>{No=$(X()),be(),oh(),rt(),F1=16,cN=F1+2,Th=M.div(dN||(dN=F([`
  position: absolute;
  `,`
  z-index: 1;
`])),Xn(F1)),pN=M.div(fN||(fN=F([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Xn(12),tt,Th,Th,Xn(cN)),R1="#F2C95C",M1="#40AAA4",U1="#45747C",V1=e=>e.isSelected===0?R1:e.isSelected===1?M1:U1,hN=e=>e.isSelected===0?R1:e.isSelected===1?M1:U1,mN=e=>No.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},No.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:hN(e)}),No.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:V1(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),gN=e=>No.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},No.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":V1(e),strokeWidth:e.flag===2?"2px":void 0}))});function Rte(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?H1(o,t):vN(o,t)).filter(K1);return n.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}function H1(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?H1(o,t):vN(o,t)).filter(K1);return n.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function vN(e,t){let n=t.find(o=>o.track.id===e.trackId);return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function Mte(e){var t,n,o,i;let{cur:l}=e.utils,s=Eh(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(n=(t=Rte(e.editorProps.viewModel,l.keyframes))==null?void 0:t.children)!=null?n:null:(i=(o=H1(e.editorProps.viewModel,l.keyframes))==null?void 0:o.children)!=null?i:null),u=gi(e.utils.itemKey);u.useRelations(()=>l.keyframes.map(v=>({affects:v.itemKey,flag:2})),[l.keyframes.map(v=>v.track.id).join("-")]);let[d,f]=Qe(null),[m]=Ute(e,f);return jc.default.createElement(jc.default.Fragment,null,jc.default.createElement(pN,he(L(L({ref:d},u.attrs),gn.includePositionSnapAttrs(l.position)),{onClick:v=>e.editorProps.viewModel.type!=="sheet"?s.open(v,d.current):null})),jc.default.createElement(Nte,{flag:u.flag,isAllHere:l.allHere,isSelected:l.selected}),m,s.node)}function Ute(e,t){return hn(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let n=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:i,sheetId:l}=n.type==="sheet"?n.sheet.address:n.sheetObject.address,s=kh(i,l,o);de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(s)})}else{let i=e.utils.cur.keyframes.flatMap(d=>{var f;return(f=S1(he(L({},d.track.sheetObject.address),{trackId:d.track.id,keyframeIds:[d.kf.id]})))!=null?f:[]}),l=n.type==="sheet"?[]:n.type==="sheetObject"?[n.sheetObject.address.objectKey]:n.type==="propWithChildren"?[n.sheetObject.address.objectKey,...n.pathToProp]:[],s=Jp([l,...i.map(d=>d.pathToProp)]),u=i.map(({keyframe:d,pathToProp:f})=>({keyframe:d,pathToProp:f.slice(s.length)}));de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():de().transaction(({stateEditors:i})=>{for(let l of e.utils.cur.keyframes)i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var jc,K1,Vte=P(()=>{jc=$(X()),nt(),vi(),mn(),Fte(),Ne(),cs(),Jr(),Sr(),Ph(),K1=e=>e!==null}),yN,Oc,bN,kN,wN,xN,Hte=P(()=>{yN=je,Oc=$(X()),be(),Bte(),B1(),Vte(),kN=M.div(bN||(bN=F([`
  position: absolute;
`]))),wN=Oc.default.memo(e=>{let t=oN(e);return Oc.default.createElement(kN,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,yN.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},Oc.default.createElement(Mte,{editorProps:e,utils:t}),Oc.default.createElement(uN,{editorProps:e,utils:t}))}),xN=wN});function Kte(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:o}=e,i=sa("AggregatedKeyframeTrack"),[l,s]=Qe(null),{selectedPositions:u,selection:d}=Wte(t,n),[f,m,v]=Lte(s,e,()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),g=(0,Qn.useMemo)(()=>[...n.byPosition.entries()].sort((_,O)=>_[0]-O[0]).map(([_,O])=>({position:_,keyframes:O,selected:u.get(_),allHere:O.length===n.tracks.length})),[n,u]),h=Ye(c1),b=h.mode==="snapToAll",y=h.mode==="snapToSome"?h.positions:fb,k=(0,Qn.useMemo)(()=>o.type==="sheet"?Mee(o,y):r1(o,y),[y]).map(_=>Qn.default.createElement(kc,{key:"snap-target-"+_,layoutP:t,leaf:o,position:_})),x=(0,Qn.useMemo)(()=>g.map(({position:_,keyframes:O},j)=>({position:_,editorProps:{index:j,layoutP:t,viewModel:o,aggregateKeyframes:g,selection:u.has(_)?d:void 0}})),[g,o,u]);Yte(s,_=>{var O;return(O=x.find(j=>j.position===_))==null?void 0:O.editorProps},{onClickFromDrag(_){}});let S=x.map((_,O)=>Qn.default.createElement(Qn.Fragment,{key:"agg-"+g[O].keyframes[0].kf.id},b&&Qn.default.createElement(kc,{layoutP:t,leaf:o,position:_.position}),Qn.default.createElement(xN,L({},_.editorProps))));return Qn.default.createElement(PN,{ref:l,style:{background:v?"#444850 ":"unset"}},S,k,f)}function Wte(e,t){return Xe(()=>(0,yn.val)(qte(e,t)),[e,t])}function qte(e,t){return(0,yn.prism)(()=>{let n=(0,yn.val)(e.selectionAtom),o=(0,yn.val)(n.pointer.current);if(!o)return CN;let i=new Map;for(let[l,s]of t.byPosition){let u=$te(s,o);u!==void 0&&u!==Dh&&i.set(l,u)}return{selectedPositions:i,selection:(0,yn.val)(n.pointer.current)}})}function $te(e,t){var n,o,i;let l;for(let{track:s,kf:u}of e){let d=((i=(o=(n=t.byObjectKey[s.sheetObject.address.objectKey])==null?void 0:n.byTrackId[s.id])==null?void 0:o.byKeyframeId)==null?void 0:i[u.id])===!0;l===void 0?d?l=$1:l=Dh:d?l===Dh&&(l=L1):l===$1&&(l=L1)}return l}function Lte(e,t,n){return hn(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let i=(o=(0,yn.pointerToPrism)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[Zte(t,i)]}})}function Zte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,yn.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?Gte(e.viewModel,t,n):Xte(e.viewModel,t,n)}}}function Gte(e,t,n){var o;let{projectId:i,sheetId:l,sheetInstanceId:s}=e.sheet.address;if(t.every(({pathToProp:u})=>u.length===0))for(let u of e.children.map(d=>d.sheetObject)){let d=(0,yn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[u.address.objectKey]).getValue(),f=Object.keys((o=d==null?void 0:d.trackData)!=null?o:{});W1(u.address,f,t,n)}else{let u=(0,yn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject).getValue(),d=t.map(({keyframe:f,pathToProp:m})=>{var v,g;let h=m[0],b=m.slice(1),y=Qr([...b]),k=((g=(v=u==null?void 0:u[h])==null?void 0:v.trackIdByPropPath)!=null?g:{})[y];return k?{keyframe:f,trackId:k,address:{objectKey:h,projectId:i,sheetId:l,sheetInstanceId:s}}:null}).filter(f=>f!==null);SN(d,n)}}function Xte(e,t,n){var o;let{projectId:i,sheetId:l,objectKey:s}=e.sheetObject.address,u=(0,yn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[s]).getValue();if(t.every(({pathToProp:d})=>d.length===0)){let d=Object.keys((o=u==null?void 0:u.trackData)!=null?o:{});if(e.type==="sheetObject")W1(e.sheetObject.address,d,t,n);else{let f=(u==null?void 0:u.trackIdByPropPath)||{},m=Object.entries(f).filter(([v,g])=>g!==void 0&&jee(eh(v),e.pathToProp)).map(([v,g])=>g);W1(e.sheetObject.address,m,t,n)}}else{let d=(u==null?void 0:u.trackIdByPropPath)||{},f=e.type==="propWithChildren"?e.pathToProp:[],m=t.map(({keyframe:v,pathToProp:g})=>{let h=Qr([...f,...g]),b=d[h];return b?{keyframe:v,trackId:b,address:e.sheetObject.address}:null}).filter(v=>v!==null);SN(m,n)}}function W1(e,t,n,o){var i;o.position=o.closestGridPosition(o.position);let l=(i=EN(n.map(({keyframe:s})=>s)))==null?void 0:i.position;de().transaction(({stateEditors:s})=>{for(let u of t)for(let{keyframe:d}of n)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e),{trackId:u,position:o.position+d.position-l,handles:d.handles,value:d.value,snappingFunction:o.closestGridPosition,type:d.type}))})}function SN(e,t){var n;t.position=t.closestGridPosition(t.position);let o=(n=EN(e.map(({keyframe:i})=>i)))==null?void 0:n.position;de().transaction(({stateEditors:i})=>{for(let{keyframe:l,trackId:s,address:u}of e)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},u),{trackId:s,position:t.position+l.position-o,handles:l.handles,value:l.value,snappingFunction:t.closestGridPosition,type:l.type}))})}function EN(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}function Yte(e,t,n){let o=sa("useDragForAggregateKeyframeDot"),i=iB(),l=(0,Qn.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(u){o._debug("onDragStart",{target:u.target});let d=Number(u.target.dataset.pos),f=t(d);if(!f)return o._debug("no props found for ",{positionToFind:d}),!1;i(!0,d);let m=(0,yn.prism)(aN(f)).getValue().cur.keyframes,v=f.viewModel.type==="sheet"?f.viewModel.sheet.address:f.viewModel.sheetObject.address,g=(0,yn.val)(de().atomP.historic.coreByProject[v.projectId].sheetsById[v.sheetId].sequence.tracksByObject),h=hB(g,function(x,{trackId:S,objectKey:_}){var O,j;return m.every(z=>x.id!==z.kf.id)&&!(f.selection&&(j=(O=f.selection.byObjectKey[_])==null?void 0:O.byTrackId[S])!=null&&j.byKeyframeId[x.id])});if(pB(h),f.selection&&f.aggregateKeyframes[f.index].selected===0){let{selection:x,viewModel:S}=f,_=x.getDragHandlers(he(L({},v),{domNode:e,positionAtStartOfDrag:m[0].kf.position})).onDragStart(u);return _&&he(L({},_),{onClick:n.onClickFromDrag,onDragEnd:(...O)=>{var j;(j=_.onDragEnd)==null||j.call(_,...O),Si()}})}let b=f,y=(0,yn.val)(b.layoutP.scaledSpace.toUnitSpace),k;return{onDrag(x,S,_){var O;let j=Math.max((O=gn.checkIfMouseEventSnapToPos(_,{}))!=null?O:m[0].kf.position+y(x),0);i(!0,j),k==null||k.discard(),k=void 0,k=de().tempTransaction(({stateEditors:z})=>{for(let V of m){let W=V.kf;z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},V.track.sheetObject.address),{trackId:V.track.id,keyframes:[he(L({},W),{position:j})],snappingFunction:(0,yn.val)(b.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(x){i(!1,-1),x?k==null||k.commit():(k==null||k.discard(),n.onClickFromDrag(u)),Si()},onClick(x){n.onClickFromDrag(x)}}}}),[t,n.onClickFromDrag]),[s]=xt(e,l);return Ln(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var yn,Qn,_N,PN,CN,IN,zh,q1,$1,L1,Dh,Z1=P(()=>{Re(),yn=je,Qn=$(X()),be(),mn(),nt(),Hte(),as(),ua(),B1(),Sr(),Dt(),Gt(),Bn(),Ne(),Jr(),Ei(),g8(),Ei(),as(),PN=M.div(_N||(_N=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),CN=Object.freeze({selectedPositions:new Map,selection:void 0}),IN=Qn.default.memo(Kte),zh=IN,q1=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(q1||{}),{AllSelected:$1,AtLeastOneUnselected:L1,NoneSelected:Dh}=q1}),fs,G1,jN,Qte=P(()=>{Re(),fs=$(X()),Ote(),sh(),Z1(),as(),ua(),G1=(e,t)=>e.type==="propWithChildren"?fs.default.createElement(jN,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):fs.default.createElement(rN,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),jN=({viewModel:e,layoutP:t})=>{let n=sa("RightPropWithChildrenRow",e.pathToProp.join());return Xe(()=>{let o=nh(e);return fs.default.createElement(Sj,{logger:n},fs.default.createElement(ls,{leaf:e,node:fs.default.createElement(zh,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(i=>G1(i,t))))},[e,t])}}),X1,ON,TN,Jte=P(()=>{Re(),X1=$(X()),Qte(),sh(),as(),Z1(),ON=({leaf:e,layoutP:t})=>Xe(()=>{let n=nh(e);return X1.default.createElement(ls,{leaf:e,node:X1.default.createElement(zh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>G1(o,t)))},[e,t]),TN=ON}),Ah,zN,DN,ene=P(()=>{Re(),Ah=$(X()),Jte(),sh(),as(),Z1(),zN=({leaf:e,layoutP:t})=>Xe(()=>{let n=nh(e);return Ah.default.createElement(ls,{leaf:e,node:Ah.default.createElement(zh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Ah.default.createElement(TN,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),DN=zN}),Tc,Oi,Bh,AN,BN,NN,FN,RN=P(()=>{Re(),Tc=je,Oi=$(X()),be(),Hee(),_B(),ene(),Bh=1e6,BN=M.ul(AN||(AN=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),Bh),NN=({layoutP:e})=>Xe(()=>{let t=(0,Tc.val)(e.tree),n=(0,Tc.val)(e.tree.top)+Math.max((0,Tc.val)(e.tree.heightIncludingChildren),(0,Tc.val)(e.dopeSheetDims.height));return Oi.default.createElement(Oi.default.Fragment,null,Oi.default.createElement(f1,{layoutP:e,height:n},Oi.default.createElement(LA,{layoutP:e,height:n},Oi.default.createElement(BN,{style:{top:t.top+"px"}},Oi.default.createElement(DN,{leaf:t,layoutP:e})))))},[e]),FN=NN});function Y1(e,t,n,o){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),l="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");n===0&&(n=1e-4);let s="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");o===0&&(o=.001);let u="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(i,", ").concat(l,") scale(").concat(s,", ").concat(u,")")}function tne(e,t){let{index:n,trackData:o}=t,i=o.keyframes[n],l=o.keyframes[n+1];return hn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:s})=>{let{deleteKeyframes:u}=s.coreByProject.historic.sheetsById.sequence;u(he(L({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,l.id]}))})}}]})}var Nh,MN,UN,VN,HN,KN,Q1=P(()=>{da(),Ne(),mn(),nt(),Nh=$(X()),be(),UN=M.path(MN||(MN=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),VN="M 0 0 L 1 0 L 1 1",HN=e=>{let{index:t,trackData:n}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=i.position-o.position,[s,u]=Qe(null),[d]=tne(u,e),f=e.isScalar?vp(o.value,e.propConfig):0,m=e.isScalar?vp(i.value,e.propConfig):1,v=e.extremumSpace.fromValueSpace(f),g=e.extremumSpace.fromValueSpace(m)-v,h=Y1(o.position,v,l,g),b=o.handles[2],y=o.handles[3],k=i.handles[0],x=i.handles[1],S="M 0 0 C ".concat(b," ").concat(y," ").concat(k," ").concat(x," 1 1");return Nh.default.createElement(Nh.default.Fragment,null,Nh.default.createElement(UN,{ref:s,d:!o.type||o.type==="bezier"?S:VN,style:{transform:h}}),d)},KN=HN});function nne(e,t){let n=(0,Ti.useRef)(t);n.current=t;let o=(0,Ti.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let i,l=n.current,s=(0,zc.val)(l.layoutP.scaledSpace.toUnitSpace),u=(0,zc.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),d=l.extremumSpace.lock();return{onDrag(f,m){i&&(i.discard(),i=void 0);let{index:v,trackData:g}=l,h=g.keyframes[v],b=g.keyframes[v+1],y=s(f)/(b.position-h.position),k=-m,x=u(k),S=l.extremumSpace.deltaToValueSpace(x),_=t.isScalar?h.value:0,O=t.isScalar?b.value:1,j=S/(O-_);if(l.which==="left"){let z=kt(h.handles[2]+y,0,1),V=h.handles[3]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{snappingFunction:(0,zc.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[he(L({},h),{handles:[h.handles[0],h.handles[1],z,V]})]}))})}else{let z=kt(b.handles[0]+y,0,1),V=b.handles[1]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,zc.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[he(L({},b),{handles:[z,V,b.handles[2],b.handles[3]]})]}))})}},onDragEnd(f){d(),f?i&&i.commit():i&&i.discard()}}}}),[]);xt(e,o)}function rne(e,t){return hn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var zc,Ti,WN,J1,qN,$N,LN,ZN,GN,ek,one=P(()=>{Ne(),mn(),Dt(),nt(),zc=je,Ft(),Ti=$(X()),be(),Q1(),rt(),J1=M.circle(WN||(WN=F([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),$N=M.circle(qN||(qN=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),tt,J1),ZN=M.path(LN||(LN=F([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),GN=e=>{let[t,n]=Qe(null),{index:o,trackData:i}=e,l=i.keyframes[o],s=i.keyframes[o+1],[u]=rne(n,e);nne(n,e);let d=e.which==="left"?l.handles[2]:s.handles[0],f=l.position+(s.position-l.position)*d,m=e.which==="left"?l.handles[3]:s.handles[1],v=e.isScalar?l.value:0,g=e.isScalar?s.value:1,h=v+(g-v)*m,b=e.extremumSpace.fromValueSpace(h),y=b-e.extremumSpace.fromValueSpace(e.which==="left"?v:g),k=Y1(e.which==="left"?l.position:s.position,e.extremumSpace.fromValueSpace(e.which==="left"?v:g),f-(e.which==="left"?l.position:s.position),y);return Ti.default.createElement("g",null,Ti.default.createElement($N,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Ti.default.createElement(J1,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Ti.default.createElement(ZN,{d:"M 0 0 L 1 1",style:{transform:k}}),u)},ek=GN});function ane(e){let[t,n]=(0,Sa.useState)(!1);Ao(t,e.props.keyframe.position);let o=(0,Sa.useRef)(e.props);o.current=e.props;let i=(0,Sa.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){n(!0);let s=!!l.altKey,u=o.current,d=(0,Fh.val)(u.layoutP.scaledSpace.toUnitSpace),f=(0,Fh.val)(u.layoutP.graphEditorVerticalSpace.toExtremumSpace),m=u.extremumSpace.lock(),v;return{onDrag(g,h){let b=u.trackData.keyframes[u.index],y=d(g),k=-h,x=f(k),S=u.extremumSpace.deltaToValueSpace(x),_=[],O=he(L({},b),{position:b.position+y,value:b.value+S,handles:[...b.handles]});if(_.push(O),s){let j=u.trackData.keyframes[u.index-1];if(j&&Math.abs(b.value-j.value)>0){let V=he(L({},j),{handles:[...j.handles]});_.push(V),V.handles[3]=lne(j.handles[3],j.value,j.value,b.value,O.value)}let z=u.trackData.keyframes[u.index+1];if(z&&Math.abs(b.value-z.value)>0){let V=he(L({},z),{handles:[...z.handles]});_.push(V),V.handles[1]=sne(V.handles[1],V.value,V.value,b.value,O.value)}}v==null||v.discard(),v=de().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},u.sheetObject.address),{trackId:u.trackId,keyframes:_,snappingFunction:(0,Fh.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(g){n(!1),m(),g?v==null||v.commit():(v==null||v.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Ln(t,"draggingPositionInSequenceEditor","move"),t}function ine(e,t){return hn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function lne(e,t,n,o,i){return(o-t)*e/(i-n)}function sne(e,t,n,o,i){return((t-o)*e+o-t+n-i)/(n-i)}var Fh,Sa,XN,tk,YN,QN,JN,eF,une=P(()=>{Ne(),mn(),Dt(),nt(),Fh=je,Sa=$(X()),be(),Gt(),Gt(),rt(),Bn(),Sr(),Ph(),vi(),tk=M.circle(XN||(XN=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),QN=M.circle(YN||(YN=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,tk,_o),JN=e=>{let[t,n]=Qe(null),{index:o,trackData:i}=e,l=i.keyframes[o],[s]=ine(n,e),u=gi(e.itemKey),d=l.value,f=e.extremumSpace.fromValueSpace(d),m=Eh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=ane({node:n,props:e,onDetectedClick:g=>m.toggle(g,g.target instanceof Element?g.target:n)});return Sa.default.createElement(Sa.default.Fragment,null,Sa.default.createElement(QN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},eo(l.position)),gn.includePositionSnapAttrs(l.position)),u.attrs),{className:v?"beingDragged":""})),Sa.default.createElement(tk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:u.flag===2?"white":void 0}}),m.node,s)},eF=JN});function cne(e){let[t,n]=(0,Ea.useState)(!1);Ao(t,e.props.keyframe.position);let o=(0,Ea.useRef)(e.props);o.current=e.props;let i=(0,Ea.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){n(!0);let s=o.current,u=(0,nk.val)(s.layoutP.scaledSpace.toUnitSpace),d=s.extremumSpace.lock(),f;return{onDrag(m,v){let g=s.trackData.keyframes[s.index],h=u(m),b=[],y=he(L({},g),{position:g.position+h,value:g.value,handles:[...g.handles]});b.push(y),f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},s.sheetObject.address),{trackId:s.trackId,keyframes:b,snappingFunction:(0,nk.val)(s.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(m){n(!1),d(),m?f==null||f.commit():(f==null||f.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Ln(t,"draggingPositionInSequenceEditor","ew-resize"),t}function dne(e,t){return hn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var nk,Ea,tF,rk,nF,rF,oF,ok,fne=P(()=>{Ne(),mn(),Dt(),nt(),nk=je,Ea=$(X()),be(),Gt(),Gt(),rt(),Bn(),Sr(),Ph(),vi(),rk=M.circle(tF||(tF=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),rF=M.circle(nF||(nF=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,rk,_o),oF=e=>{let[t,n]=Qe(null),{index:o,trackData:i,itemKey:l}=e,s=i.keyframes[o],[u]=dne(n,e),d=gi(l),f=e.which==="left"?0:1,m=Eh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=cne({node:n,props:e,onDetectedClick:h=>m.toggle(h,h.target instanceof Element?h.target:n)}),g=e.extremumSpace.fromValueSpace(f);return Ea.default.createElement(Ea.default.Fragment,null,Ea.default.createElement(rF,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}},d.attrs),eo(s.position)),gn.includePositionSnapAttrs(s.position)),{className:v?"beingDragged":""})),Ea.default.createElement(rk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)"),fill:d.flag===2?"white":void 0}}),m.node,u)},ok=oF}),Rh,aF,iF,lF,sF,pne=P(()=>{Rh=$(X()),be(),Q1(),iF=M.path(aF||(aF=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),lF=e=>{let{index:t,trackData:n}=e,o="M 0 0 L 1 1",i=Y1(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return Rh.default.createElement(Rh.default.Fragment,null,Rh.default.createElement(iF,{d:o,style:{transform:i}}))},sF=lF}),Yt,uF,cF,dF,fF,pF,hne=P(()=>{Yt=$(X()),be(),Q1(),one(),une(),fne(),pne(),cF=M.g(uF||(uF=F([`
  /* position: absolute; */
`]))),dF=Yt.default.createElement(Yt.default.Fragment,null),fF=e=>{let{index:t,trackData:n,isScalar:o}=e,i=n.keyframes[t],l=n.keyframes[t+1],s=i.connectedRight&&!!l&&l.value!==i.value;return Yt.default.createElement(cF,null,s?Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(KN,L({},e)),!i.type||i.type==="bezier"&&Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(ek,he(L({},e),{which:"left"})),Yt.default.createElement(ek,he(L({},e),{which:"right"})))):dF,o?Yt.default.createElement(eF,L({},e)):Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(ok,he(L({},e),{which:"left"})),Yt.default.createElement(ok,he(L({},e),{which:"right"})),Yt.default.createElement(sF,L({},e))))},pF=fF});function mne(e,t){let n=1/0,o=-1/0;function i(l){n=Math.min(l,n),o=Math.max(l,o)}return e.forEach((l,s)=>{let u=vp(l.value,t);if(i(u),!l.connectedRight)return;let d=e[s+1];if(!d)return;let f=(typeof d.value=="number"?d.value:1)-u;i(u+l.handles[3]*f),i(u+d.handles[1]*f)}),[n,o]}function gne(e){let t=0,n=1;function o(i){t=Math.min(i,t),n=Math.max(i,n)}return e.forEach((i,l)=>{if(!i.connectedRight)return;let s=e[l+1];s&&(o(i.handles[3]),o(s.handles[1]))}),[t,n]}var no,hF,mF,vne=P(()=>{Oo(),no=$(X()),Uh(),hne(),da(),Re(),hF=no.default.memo(({layoutP:e,trackData:t,sheetObject:n,trackId:o,color:i,pathToProp:l})=>{let s=gp(Ye(n.template.configPointer),l);if(Xr(s))return console.error("Composite prop types cannot be keyframed"),no.default.createElement(no.default.Fragment,null);let[u,d]=(0,no.useState)(!1),f=(0,no.useMemo)(()=>{let h=new Set;return function(){let b=h.size===0;h.add(y),b&&d(!0);function y(){let k=h.size>0;h.delete(y),k&&h.size===0&&d(!1)}return y}},[]),m=(0,no.useMemo)(()=>{let h=s.type==="number"?mne(t.keyframes,s):gne(t.keyframes),b=x=>(x-h[0])/(h[1]-h[0]),y=x=>h[0]+k(x),k=x=>x*(h[1]-h[0]);return{fromValueSpace:b,toValueSpace:y,deltaToValueSpace:k,lock:f}},[t.keyframes]),v=(0,no.useRef)(void 0);u||(v.current=m);let g=t.keyframes.map((h,b)=>no.default.createElement(pF,{pathToProp:l,propConfig:s,itemKey:Rt.forTrackKeyframe(n,o,h.id),keyframe:h,index:b,trackData:t,layoutP:e,sheetObject:n,trackId:o,isScalar:s.type==="number",key:h.id,extremumSpace:v.current,color:i}));return no.default.createElement("g",{style:{"--main-color":Dc[i].iconColor}},g)}),mF=hF}),gF,Mh,vF,yF,yne=P(()=>{Ne(),Re(),gF=je,Mh=$(X()),vne(),vF=e=>Xe(()=>{let{sheetObject:t,trackId:n}=e,o=(0,gF.val)(de().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),Mh.default.createElement(Mh.default.Fragment,null)):Mh.default.createElement(mF,he(L({},e),{trackData:o}))},[e.trackId,e.layoutP]),yF=vF});function bF({clippedSpaceRange:e,clippedSpaceWidth:t,fps:n,gapWidth:o=120},i){let l=1/n,s=e.end-e.start,u=t/(n*s),d=Math.floor(o/u),f=(d<n?kF(n).find(g=>g>=d):n*Math.floor(d/n))*l,m=Math.floor(e.start/f),v=Math.ceil(e.end/f);for(let g=m;g<=v;g++){let h=g*f,b=h%1===0;i(h,b)}}var kF,wF=P(()=>{Ft(),kF=b0(e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t})});function bne(e){let{clippedSpaceWidth:t,height:n,ctx:o,unitSpaceToClippedSpace:i,snapToGrid:l}=e;o.clearRect(0,0,t,n),bF(e,(s,u)=>{let d=l(s),f=Math.floor(i(d));o.strokeStyle=u?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(f,0),o.lineTo(f,n),o.stroke(),o.closePath()})}var zi,Di,xF,SF,EF,_F,PF,CF,IF,jF,ak,OF=P(()=>{zi=je,Di=$(X()),be(),wF(),Ne(),SF=M.div(xF||(xF=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),_F=M.canvas(EF||(EF=F([`
  position: relative;
  left: 0;
`]))),PF=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},CF=()=>window.devicePixelRatio||1,IF=e=>CF()/PF(e),jF=({layoutP:e,width:t,height:n})=>{let o=(0,Di.useRef)(null),[i,l]=(0,Di.useState)(null),{ctx:s,ratio:u}=(0,Di.useMemo)(()=>{if(!i)return{};let d=i.getContext("2d"),f=IF(d);return{ctx:d,ratio:f}},[i]);return(0,Di.useLayoutEffect)(()=>{if(!s)return;i.width=t*u,i.height=n*u;let d=(0,zi.prism)(()=>{let f=(0,zi.val)(e.sheet).getSequence();return{ctx:s,clippedSpaceRange:(0,zi.val)(e.clippedSpace.range),clippedSpaceWidth:(0,zi.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,zi.val)(e.clippedSpace.fromUnitSpace),height:n,leftPadding:(0,zi.val)(e.scaledSpace.leftPadding),fps:f.subUnitsPerUnit,snapToGrid:m=>f.closestGridPosition(m)}}).onChange(de().ticker,f=>{s.save(),s.scale(u,u),bne(f),s.restore()},!0);return()=>{d()}},[s,t,n,e]),Di.default.createElement(SF,{ref:o,style:{width:t+"px"}},Di.default.createElement(_F,{ref:l,style:{width:t+"px",height:n+"px"}}))},ak=jF}),ro,Ai,Dc,TF,zF,DF,AF,BF,NF,Uh=P(()=>{Ne(),Jr(),wp(),Re(),ro=je,Ai=$(X()),be(),RN(),_B(),yne(),OF(),An(),Dc={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},zF=M.div(TF||(TF=F([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),mr(.03,"#1a1c1e")),AF=M.svg(DF||(DF=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),BF=({layoutP:e})=>Xe(()=>{let t=(0,ro.val)(e.sheet),n=(0,ro.val)(de().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,ro.val)(e.graphEditorDims.height),i=(0,ro.val)(e.scaledSpace.fromUnitSpace)(1),l=[];if(n)for(let[u,d]of Object.entries(n)){let f=t.getObject(u);if(!f)continue;let m=(0,ro.val)(f.template.getMapOfValidSequenceTracks_forStudio());for(let[v,g]of Object.entries(d)){let h=eh(v),b=pa(m,h);b&&l.push(Ai.default.createElement(yF,{key:"graph-".concat(u,"-").concat(v),sheetObject:f,pathToProp:h,layoutP:e,trackId:b,color:g}))}}let s=(0,ro.val)(e.rightDims.width);return Ai.default.createElement(zF,{style:{width:s+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,ro.val)(e.graphEditorVerticalSpace.space))}},Ai.default.createElement(ak,{layoutP:e,width:s,height:o}),Ai.default.createElement(f1,{layoutP:e,height:o},Ai.default.createElement(AF,{width:Bh,height:o,viewBox:"0 0 ".concat(Bh," ").concat(o)},Ai.default.createElement("g",{style:{transform:"translate(".concat((0,ro.val)(e.scaledSpace.leftPadding),"px, ").concat((0,ro.val)(e.graphEditorDims.padding.top),"px)")}},l))))},[e]),NF=BF}),FF,Jn,RF,MF,UF,VF,ik,HF,KF,WF,qF,$F,LF,ZF,kne=P(()=>{Ne(),Jr(),xp(),Re(),FF=je,Jn=$(X()),be(),gb(),Cp(),Uh(),Qp(),mi(),EA(),RF={label:{color:"#9a9a9a"}},UF=M(Xb)(MF||(MF=F([""]))),ik=M(Yb)(VF||(VF=F([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),RF.label.color),KF=M.button(HF||(HF=F([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?Dc[e.graphEditorColor].iconColor:ha.offColor),WF=()=>Jn.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},Jn.default.createElement("g",{transform:"translate(0 100)"},Jn.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),$F=M.span(qF||(qF=F([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),fa,ik),LF=({leaf:e})=>{var t;let n=Gu(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:i}=mb(n,o,e.propConf),l=Xe(()=>{let g=e.sheetObject.address,h=Qr(e.pathToProp);return(0,FF.val)(de().atomP.historic.projects.stateByProjectId[g.projectId].stateBySheetId[g.sheetId].sequenceEditor.selectedPropsByObject[g.objectKey][h])},[e]),s=(0,Jn.useRef)(!1),u=typeof l=="string";s.current=u;let d=(0,Jn.useCallback)(()=>{let g=e.sheetObject.address;de().transaction(({stateEditors:h})=>{s.current?h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(he(L({},g),{pathToProp:e.pathToProp})):(h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(he(L({},g),{pathToProp:e.pathToProp})),h.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),f=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],m=!0,v=(0,Jn.useRef)(null);return xA(v.current,e),Jn.default.createElement(UF,{depth:e.depth},Jn.default.createElement(ik,{ref:v,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:u===!0},Jn.default.createElement($F,null,f),i,Jn.default.createElement(KF,{onClick:d,isSelected:u===!0,graphEditorColor:l??"1",style:{opacity:1},disabled:!m},Jn.default.createElement(WF,null))))},ZF=LF});function lk(e,t){de().transaction(({stateEditors:n})=>{n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(he(L({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var sk=P(()=>{Ne()}),ps,uk,GF,wne=P(()=>{ps=$(X()),Qp(),kne(),sk(),uk=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?ps.default.createElement(GF,{leaf:e,key:t}):ps.default.createElement(ZF,{leaf:e,key:t}):ps.default.createElement(ps.default.Fragment,{key:t})},GF=({leaf:e})=>ps.default.createElement(Yp,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>lk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>uk(t)))}),XF,YF,QF,xne=P(()=>{XF=$(X()),Qp(),wne(),sk(),Ne(),YF=({leaf:e})=>XF.default.createElement(Yp,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{de().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>lk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>uk(t))),QF=YF}),ck,JF,e7,Sne=P(()=>{Re(),ck=$(X()),xne(),Qp(),sk(),cT(),JF=({leaf:e})=>Xe(()=>ck.default.createElement(Yp,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{lk(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>ck.default.createElement(QF,{key:"sheetObject-"+sT(t.sheetObject),leaf:t}))),[e]),e7=JF}),dk,Vh,t7,n7,r7,o7,a7,i7,Ene=P(()=>{Re(),dk=je,Vh=$(X()),be(),Sne(),n7=M.div(t7||(t7=F([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),o7=M.ul(r7||(r7=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),a7=({layoutP:e})=>Xe(()=>{let t=(0,dk.val)(e.tree),n=(0,dk.val)(e.leftDims.width);return Vh.default.createElement(n7,{style:{width:n+"px",top:t.top+"px"}},Vh.default.createElement(o7,null,Vh.default.createElement(e7,{leaf:t})))},[e]),i7=a7}),fk,l7,s7,u7,c7,_ne=P(()=>{rt(),Uo(),Re(),An(),fk=$(X()),be(),OF(),s7=M.div(l7||(l7=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>uo.rightBackground,mr(.01,Su(1*.03,Nl.panel.bg))),u7=({layoutP:e})=>{let t=Ye(e.rightDims.width),n=Ye(e.panelDims.height);return fk.default.createElement(s7,{style:{width:t+"px"}},fk.default.createElement(ak,{width:t,height:n,layoutP:e}))},c7=u7}),hs,d7,f7,p7,h7,Pne=P(()=>{Re(),hs=$(X()),be(),Ene(),_ne(),RN(),JA(),f7=M.div(d7||(d7=F([`
  position: absolute;
  left: 0;
  right: 0;
`]))),p7=({layoutP:e})=>{let t=Ye(e.dopeSheetDims.height);return hs.default.createElement(f7,{style:{height:t+"px"}},hs.default.createElement(c7,{layoutP:e}),hs.default.createElement(QA,null,hs.default.createElement(i7,{layoutP:e}),hs.default.createElement(FN,{layoutP:e})))},h7=p7});function Cne(e,t,n){return pk.prism.memo(e,()=>(0,pk.prism)(t),n).getValue()}var pk,Ine=P(()=>{pk=je});function pt(e){return function(t,n){return e(t,n())}}function Fn(e){return Object.freeze({audience:Bi(e,8)?"internal":Bi(e,16)?"dev":"public",category:Bi(e,4)?"troubleshooting":Bi(e,2)?"todo":"general",level:Bi(e,512)?512:Bi(e,256)?256:Bi(e,128)?128:64})}function Bi(e,t){return(e&t)===t}function ht(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function m7(e=console,t={}){let n=he(L({},oo),{includes:L({},oo.includes)}),o={styled:Tne.bind(n,e),noStyle:Dne.bind(n,e)},i=One.bind(n);function l(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?o.styled:o.noStyle}return n.create=l(),{configureLogger(s){var u;s==="console"?(n.loggerConsoleStyle=oo.loggerConsoleStyle,n.create=l()):s.type==="console"?(n.loggerConsoleStyle=(u=s.style)!=null?u:oo.loggerConsoleStyle,n.create=l()):s.type==="keyed"?(n.creatExt=d=>s.keyed(d.names),n.create=i):s.type==="named"&&(n.creatExt=jne.bind(null,s.named),n.create=i)},configureLogging(s){var u,d,f,m,v;n.includes.dev=(u=s.dev)!=null?u:oo.includes.dev,n.includes.internal=(d=s.internal)!=null?d:oo.includes.internal,n.includes.min=(f=s.min)!=null?f:oo.includes.min,n.include=(m=s.include)!=null?m:oo.include,n.loggingConsoleStyle=(v=s.consoleStyle)!=null?v:oo.loggingConsoleStyle,n.create=l()},getLogger(){return n.create({names:[]})}}}function jne(e,t){let n=[];for(let{name:o,key:i}of t.names)n.push(i==null?o:"".concat(o," (").concat(i,")"));return e(n)}function One(e){let t=L(L({},this.includes),this.include(e)),n=this.filtered,o=this.named.bind(this,e),i=this.creatExt(e),l=ht(t,524),s=ht(t,522),u=ht(t,521),d=ht(t,529),f=ht(t,545),m=ht(t,265),v=ht(t,268),g=ht(t,273),h=ht(t,289),b=ht(t,137),y=ht(t,145),k=ht(t,73),x=ht(t,81),S=l?i.error.bind(i,En._hmm):n.bind(e,524),_=s?i.error.bind(i,En._todo):n.bind(e,522),O=u?i.error.bind(i,En._error):n.bind(e,521),j=d?i.error.bind(i,En.errorDev):n.bind(e,529),z=f?i.error.bind(i,En.errorPublic):n.bind(e,545),V=v?i.warn.bind(i,En._kapow):n.bind(e,268),W=m?i.warn.bind(i,En._warn):n.bind(e,265),B=g?i.warn.bind(i,En.warnDev):n.bind(e,273),Z=h?i.warn.bind(i,En.warnPublic):n.bind(e,273),re=b?i.debug.bind(i,En._debug):n.bind(e,137),D=y?i.debug.bind(i,En.debugDev):n.bind(e,145),G=k?i.trace.bind(i,En._trace):n.bind(e,73),C=x?i.trace.bind(i,En.traceDev):n.bind(e,81),Q={_hmm:S,_todo:_,_error:O,errorDev:j,errorPublic:z,_kapow:V,_warn:W,warnDev:B,warnPublic:Z,_debug:re,debugDev:D,_trace:G,traceDev:C,lazy:{_hmm:l?pt(S):S,_todo:s?pt(_):_,_error:u?pt(O):O,errorDev:d?pt(j):j,errorPublic:f?pt(z):z,_kapow:v?pt(V):V,_warn:m?pt(W):W,warnDev:g?pt(B):B,warnPublic:h?pt(Z):Z,_debug:b?pt(re):re,debugDev:y?pt(D):D,_trace:k?pt(G):G,traceDev:x?pt(C):C},named:o,utilFor:{internal(){return{debug:Q._debug,error:Q._error,warn:Q._warn,trace:Q._trace,named(xe,q){return Q.named(xe,q).utilFor.internal()}}},dev(){return{debug:Q.debugDev,error:Q.errorDev,warn:Q.warnDev,trace:Q.traceDev,named(xe,q){return Q.named(xe,q).utilFor.dev()}}},public(){return{error:Q.errorPublic,warn:Q.warnPublic,debug(xe,q){Q._warn('(public "debug" filtered out) '.concat(xe),q)},trace(xe,q){Q._warn('(public "trace" filtered out) '.concat(xe),q)},named(xe,q){return Q.named(xe,q).utilFor.public()}}}}};return Q}function Tne(e,t){let n=L(L({},this.includes),this.include(t)),o=[],i="";for(let d=0;d<t.names.length;d++){let{name:f,key:m}=t.names[d];if(i+=" %c".concat(f),o.push(this.style.css(f)),m!=null){let v="%c#".concat(m);i+=v,o.push(this.style.css(v))}}let l=this.filtered,s=this.named.bind(this,t),u=[i,...o];return g7(l,t,n,e,u,zne(u),s)}function zne(e){let t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}function Dne(e,t){let n=L(L({},this.includes),this.include(t)),o="";for(let u=0;u<t.names.length;u++){let{name:d,key:f}=t.names[u];o+=" ".concat(d),f!=null&&(o+="#".concat(f))}let i=this.filtered,l=this.named.bind(this,t),s=[o];return g7(i,t,n,e,s,s,l)}function g7(e,t,n,o,i,l,s){let u=ht(n,524),d=ht(n,522),f=ht(n,521),m=ht(n,529),v=ht(n,545),g=ht(n,265),h=ht(n,268),b=ht(n,273),y=ht(n,289),k=ht(n,137),x=ht(n,145),S=ht(n,73),_=ht(n,81),O=u?o.error.bind(o,...i):e.bind(t,524),j=d?o.error.bind(o,...i):e.bind(t,522),z=f?o.error.bind(o,...i):e.bind(t,521),V=m?o.error.bind(o,...i):e.bind(t,529),W=v?o.error.bind(o,...i):e.bind(t,545),B=h?o.warn.bind(o,...l):e.bind(t,268),Z=g?o.warn.bind(o,...i):e.bind(t,265),re=b?o.warn.bind(o,...i):e.bind(t,273),D=y?o.warn.bind(o,...i):e.bind(t,273),G=k?o.info.bind(o,...i):e.bind(t,137),C=x?o.info.bind(o,...i):e.bind(t,145),Q=S?o.debug.bind(o,...i):e.bind(t,73),xe=_?o.debug.bind(o,...i):e.bind(t,81),q={_hmm:O,_todo:j,_error:z,errorDev:V,errorPublic:W,_kapow:B,_warn:Z,warnDev:re,warnPublic:D,_debug:G,debugDev:C,_trace:Q,traceDev:xe,lazy:{_hmm:u?pt(O):O,_todo:d?pt(j):j,_error:f?pt(z):z,errorDev:m?pt(V):V,errorPublic:v?pt(W):W,_kapow:h?pt(B):B,_warn:g?pt(Z):Z,warnDev:b?pt(re):re,warnPublic:y?pt(D):D,_debug:k?pt(G):G,debugDev:x?pt(C):C,_trace:S?pt(Q):Q,traceDev:_?pt(xe):xe},named:s,utilFor:{internal(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named(K,ee){return q.named(K,ee).utilFor.internal()}}},dev(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named(K,ee){return q.named(K,ee).utilFor.dev()}}},public(){return{error:q.errorPublic,warn:q.warnPublic,debug(K,ee){q._warn('(public "debug" filtered out) '.concat(K),ee)},trace(K,ee){q._warn('(public "trace" filtered out) '.concat(K),ee)},named(K,ee){return q.named(K,ee).utilFor.public()}}}}};return q}var En,oo,v7=P(()=>{En={_hmm:Fn(524),_todo:Fn(522),_error:Fn(521),errorDev:Fn(529),errorPublic:Fn(545),_kapow:Fn(268),_warn:Fn(265),warnDev:Fn(273),warnPublic:Fn(289),_debug:Fn(137),debugDev:Fn(145),_trace:Fn(73),traceDev:Fn(81)},oo={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,o,i;let l=this.cssMemo.get(e);if(l)return l;let s="color:".concat((n=(t=this.color)==null?void 0:t.call(this,e))!=null?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(s+=";font-weight:600"),(i=this.italic)!=null&&i.test(e)&&(s+=";font-style:italic"),this.cssMemo.set(e,s),s}}}}),hk,Hh,Kh=P(()=>{v7(),v7(),hk=m7(console,{_debug:function(){},_error:function(){}}),hk.configureLogging({dev:!0,min:64}),Hh=hk.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),_a,Ni,y7,Ane=P(()=>{Oo(),_a=je,Kh(),So(),Ni=28,y7=(e,t)=>{var n;_a.prism.ensurePrism();let o=!0,i=Hf+Ni,l=0,s=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,u=s.byId[Rt.forSheet()].isCollapsed,d=(n=(0,_a.pointerToPrism)(u).getValue())!=null?n:!1,f={type:"sheet",isCollapsed:d,sheet:e,children:[],sheetItemKey:Rt.forSheet(),shouldRender:o,top:Hf,depth:0,n:l,nodeHeight:o?Ni:0,heightIncludingChildren:-1};l+=1;for(let y of Object.values((0,_a.val)(e.objectsP)))y&&m(y,f.children,f.depth+1,!d);f.heightIncludingChildren=i-f.top;function m(y,k,x,S){var _;let O=(0,_a.val)(y.template.getMapOfValidSequenceTracks_forStudio()),j=(0,_a.val)(y.template.configPointer);if(Object.keys(O).length===0)return;let z=s.byId[Rt.forSheetObject(y)].isCollapsed,V=(_=(0,_a.pointerToPrism)(z).getValue())!=null?_:!1,W={type:"sheetObject",isCollapsed:V,sheetItemKey:Rt.forSheetObject(y),shouldRender:S,top:i,children:[],depth:x,n:l,sheetObject:y,nodeHeight:S?Ni:0,heightIncludingChildren:-1};k.push(W),S&&(l+=1,i+=W.nodeHeight),v(y,O,[],j,W.children,x+1,S&&!V),W.heightIncludingChildren=i-W.top}function v(y,k,x,S,_,O,j){for(let[z,V]of Object.entries(k)){let W=S.props[z];g(y,V,[...x,z],W,_,O,j)}}function g(y,k,x,S,_,O,j){S.type==="compound"?h(y,k,S,x,S,_,O,j):S.type==="enum"?Hh.warn("Prop type enum is not yet supported in the sequence editor"):b(y,k,x,S,_,O,j)}function h(y,k,x,S,_,O,j,z){var V;let W=s.byId[Rt.forSheetObjectProp(y,S)].isCollapsed,B=(V=(0,_a.pointerToPrism)(W).getValue())!=null?V:!1,Z={type:"propWithChildren",isCollapsed:B,propConf:x,pathToProp:S,sheetItemKey:Rt.forSheetObjectProp(y,S),sheetObject:y,shouldRender:z,top:i,children:[],nodeHeight:z?Ni:0,heightIncludingChildren:-1,depth:j,trackMapping:k,n:l};O.push(Z),z&&(i+=Z.nodeHeight,l+=1),v(y,k,S,_,Z.children,j+1,z&&!B),Z.heightIncludingChildren=i-Z.top}function b(y,k,x,S,_,O,j){let z={type:"primitiveProp",propConf:S,depth:O,sheetItemKey:Rt.forSheetObjectProp(y,x),sheetObject:y,pathToProp:x,shouldRender:j,top:i,nodeHeight:j?Ni:0,heightIncludingChildren:j?Ni:0,trackId:k,n:l};_.push(z),l+=1,i+=z.nodeHeight}return f}});function Bne(e,t){let n=de(),o=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,_n.prism)(()=>{var l;let s=Cne("tree",()=>y7(e,n),[]),u=(0,_n.val)(t),d=(0,_n.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),f=(0,_n.val)(i.sequenceEditor.selectedPropsByObject),m=!!f&&Object.keys(f).length>0,{leftDims:v,rightDims:g,graphEditorDims:h,dopeSheetDims:b,horizontalScrollbarDims:y}=_n.prism.memo("leftDims",()=>{var Z;let re={width:Math.floor(u.width*b7),height:u.height,screenX:u.screenX,screenY:u.screenY},D={width:u.width-re.width,height:u.height,screenX:u.screenX+re.width,screenY:u.screenY},G=m&&(d==null?void 0:d.isOpen)===!0,C=Math.floor((G?kt((Z=d==null?void 0:d.height)!=null?Z:.5,.1,.7):0)*u.heightWithoutBorder),Q=0+C,xe=u.height-Q,q={width:u.width,height:xe,screenX:u.screenX,screenY:u.screenY},K={isAvailable:m,isOpen:G,width:D.width,height:C,screenX:u.screenX,screenY:u.screenY+xe,padding:{top:20,bottom:20}};return{leftDims:re,rightDims:D,graphEditorDims:K,dopeSheetDims:q,horizontalScrollbarDims:{bottom:0}}},[u,d,m]),k=_n.prism.memo("graphEditorVerticalSpace",()=>{let Z=h.height-h.padding.top-h.padding.bottom;return{space:Z,fromExtremumSpace(re){return re*Z},toExtremumSpace(re){return re/Z}}},[h]),[x,S]=_n.prism.state("isSeeking",!1),_={isSeeking:x,setIsSeeking:S},O={},j=(l=(0,_n.val)(o.sequence.clippedSpaceRange))!=null?l:k7,z=_n.prism.memo("scaledSpace",()=>{let Z=j.end-j.start,re=g.width,D=Z/re,G=re/Z;return{fromUnitSpace(C){return C*G},toUnitSpace(C){return C*D},leftPadding:10}},[j,g.width]),V=_n.prism.memo("setClippedSpaceRange",()=>function(Z){n.transaction(({stateEditors:re})=>{let D=L({},Z);if(D.end<=D.start&&(D.end=D.start+1),D.start<0){let G=D.end-D.start;D.start=0,D.end=G}re.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(he(L({},e.address),{range:D}))})},[]),W=_n.prism.memo("clippedSpace",()=>({range:j,width:g.width,fromUnitSpace(Z){return z.fromUnitSpace(Z-j.start)+z.leftPadding},toUnitSpace(Z){return z.toUnitSpace(Z-z.leftPadding)+j.start},setRange:V}),[j,g.width,z,V]),B=_n.prism.memo("selection.current",()=>new _n.Atom({}),[]);return Gb("finalAtom",{sheet:e,tree:s,panelDims:u,leftDims:v,rightDims:g,dopeSheetDims:b,horizontalScrollbarDims:y,seeker:_,unitSpace:O,scaledSpace:z,clippedSpace:W,graphEditorDims:h,graphEditorVerticalSpace:k,selectionAtom:B}).pointer})}var _n,b7,k7,Nne=P(()=>{Ne(),Ine(),wA(),_n=je,Ane(),Ft(),b7=.2,k7={start:0,end:10}});function Fne(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:o,unitSpaceToClippedSpace:i}=e,l="";bF(e,(s,u)=>{let d=o(s),f=i(d);u?l+=w7(n.formatFullUnitForGrid(d),f,"full-unit"):l+=w7(n.formatSubUnitForGrid(d),f,"sub-unit")}),t.innerHTML=l}function w7(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var Fi,Ri,x7,S7,Pa,E7,_7,P7,C7,I7,j7,O7=P(()=>{Fi=je,An(),Ri=$(X()),be(),wF(),Ne(),S7=M.div(x7||(x7=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),Pa={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Su(.2,Pa.fullUnitStampColor)}},_7=M.div(E7||(E7=F([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),C7=M.div(P7||(P7=F([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),Pa.fullUnitStampColor,Pa.stampFontSize,Pa.fullUnitStampColor,Pa.subUnitStampColor),I7=({layoutP:e,width:t})=>{let n=(0,Ri.useRef)(null),[o,i]=(0,Ri.useState)(null);return(0,Ri.useLayoutEffect)(()=>{if(o)return(0,Fi.prism)(()=>{let l=(0,Fi.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,Fi.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Fi.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Fi.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,Fi.val)(e.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:s=>l.closestGridPosition(s)}}).onChange(de().ticker,Fne,!0)},[o,t,e]),Ri.default.createElement(S7,{ref:n,style:{width:t+"px"}},Ri.default.createElement(_7,{style:{width:t+"px"}},Ri.default.createElement(C7,{ref:i})))},j7=I7});function Rne(e){let[t,n]=(0,mk.useState)(!1);return(0,mk.useEffect)(()=>{if(n(!1),!e)return;let o=l=>{l.target===e?n(!0):n(!1)},i=()=>{n(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",i),()=>{n(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",i)}},[e]),t}var mk,Mne=P(()=>{mk=$(X())});function Une(e,t){let n=0,[o,i]=e,[l,s]=t;return i-o>s-l?[l,s]:(o<l&&(n=0-o),i>s&&(n=s-i),[o+n,i+n])}var ao,Ca,At,gk,T7,Wh,z7,D7,A7=P(()=>{ao=je,Re(),rt(),Ne(),Ui(),mn(),Dt(),nt(),Ca=$(X()),be(),Gt(),At={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},gk=1e3,Wh=M.div(T7||(T7=F([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>lo-1,e=>e.enabled?At.enabled.backgroundColor:At.disabled.backgroundColor,gk,At.hover.backgroundColor,At.dragging.backgroundColor,tt),z7=({layoutP:e})=>{let t=(0,Ca.useMemo)(()=>(0,ao.prism)(()=>{let{projectId:f,sheetId:m}=(0,ao.val)(e.sheet).address;return(0,ao.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),[n,o]=Qe(null),[i]=hn(o,{menuItems:()=>{let f=(0,ao.val)(e.sheet),m=t.getValue();return[{label:"Delete focus range",callback:()=>{de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(L({},f.address))}).commit()}},{label:m!=null&&m.enabled?"Disable focus range":"Enable focus range",callback:()=>{m!==void 0&&de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},f.address),{range:m.range,enabled:!m.enabled}))}).commit()}}]}}),l=Ye(e.scaledSpace.toUnitSpace),s=Ye(e.sheet),u=(0,Ca.useMemo)(()=>{let f,m;return{debugName:"FocusRangeStrip",onDragStart(v){let g,h=t.getValue();if(!h)return!1;let b=h.range.start,y=h.range.end,k=!1,x=(0,ao.val)(e.sheet).getSequence();return{onDrag(S){if(h=t.getValue(),h){k=!0;let _=l(S),O=b+_,j=y+_;j<O&&(j=O),[f,m]=Une([O,j],[0,x.length]).map(z=>x.closestGridPosition(z)),g&&g.discard(),g=de().tempTransaction(({stateEditors:z})=>{var V;z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},s.address),{range:{start:f,end:m},enabled:(V=h==null?void 0:h.enabled)!=null?V:!0}))})}},onDragEnd(){h&&(k&&g!==void 0?g.commit():g&&g.discard())}}},lockCSSCursorTo:"grabbing"}},[s,l]),[d]=xt(o,u);return Ao(d,-1),Xe(()=>{let f=t.getValue(),m=(f==null?void 0:f.range)||{start:0,end:0},v=(0,ao.val)(e.clippedSpace.fromUnitSpace)(m.start),g=(0,ao.val)(e.clippedSpace.fromUnitSpace)(m.end),h,b;return v<0&&(v=0),g>(0,ao.val)(e.clippedSpace.width)&&(g=(0,ao.val)(e.clippedSpace.width)),v>g?(b=0,h=0):(b=v,h=(g-v)/gk),f?Ca.default.createElement(Ca.default.Fragment,null,i,Ca.default.createElement(Wh,{id:"range-strip",enabled:f.enabled,className:"".concat(d?"dragging":""," ").concat(f.enabled?"enabled":""),ref:n,style:{transform:"translateX(".concat(b,"px) scale(").concat(h,", 1)")}})):Ca.default.createElement(Ca.default.Fragment,null)},[e,n,t,i,d])},D7=z7}),Ia,Fo,B7,N7,F7,R7,M7,U7,V7,vk,Vne=P(()=>{Ia=je,Re(),Ne(),Ui(),Bn(),Dt(),nt(),Fo=$(X()),be(),Gt(),A7(),Sr(),N7=M.div(B7||(B7=F([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-At.thumbWidth,At.thumbWidth,()=>lo-1,({enabled:e})=>e?At.enabled.backgroundColor:At.disabled.backgroundColor,At.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",_o,()=>Wh,At.hover.backgroundColor,At.hover.stroke,()=>Wh,At.dragging.backgroundColor,At.dragging.stroke,At.dragging.backgroundColor),R7=M.div(F7||(F7=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?At.thumbWidth:-At.thumbWidth+1),U7=M.div(M7||(M7=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>Ac.backgroundColor,e=>e.type==="start"?-12:At.thumbWidth),V7=({layoutP:e,thumbType:t})=>{var n;let[o,i]=Qe(null),l=(0,Fo.useMemo)(()=>(0,Ia.prism)(()=>{let{projectId:f,sheetId:m}=(0,Ia.val)(e.sheet).address;return(0,Ia.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),s=(0,Fo.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let f,m,v=(0,Ia.val)(e.sheet),g={start:0,end:v.getSequence().length},h=l.getValue()||{range:g,enabled:!1},b=h.enabled,y=h.range[t],k=(0,Ia.val)(e.scaledSpace.toUnitSpace),x=k(At.rangeStripMinWidth);return{onDrag(S,_,O){var j;let z,V=gn.checkIfMouseEventSnapToPos(O,{ignore:i});if(V==null){let B=k(S);z=y+B}else z=V;m=((j=l.getValue())==null?void 0:j.range)||g,t==="start"?z=Math.max(Math.min(z,m.end-x),0):z=Math.min(Math.max(z,m.start+x),v.getSequence().length);let W=v.getSequence().closestGridPosition(z);f!==void 0&&f.discard(),f=de().tempTransaction(({stateEditors:B})=>{B.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},v.address),{range:he(L({},m),{[t]:W}),enabled:b}))})},onDragEnd(S){S?f==null||f.commit():f==null||f.discard()}}}}),[e]),[u]=xt(i,s);Ln(u,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let d=Ye(l);return Ao(u,(n=d==null?void 0:d.range[t])!=null?n:0),Xe(()=>{let f=l.getValue();if(!f)return null;let{enabled:m}=f,v=f.range[t],g=(0,Ia.val)(e.clippedSpace.fromUnitSpace)(v);return(g<0||(0,Ia.val)(e.clippedSpace.width)<g)&&(g=-1e4),Fo.default.createElement(N7,he(L(L({ref:o},gn.includePositionSnapAttrs(v)),eo(v)),{className:"".concat(u&&"dragging"," ").concat(m&&"enabled"),enabled:m,type:t,style:{transform:"translate3d(".concat(g,"px, 0, 0)")}}),Fo.default.createElement(R7,{type:t,enabled:m}),Fo.default.createElement(U7,{type:t}),Fo.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Fo.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Fo.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,l,u])},vk=V7});function Hne(e,t){let[n,o]=(0,io.useState)("none");return Ln(n!=="none","dragging",n==="creating"?"ew-resize":"move"),(0,io.useMemo)(()=>{let i=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(s){let u,d=(0,Mi.val)(e.clippedSpace.toUnitSpace),f=(0,Mi.val)(e.scaledSpace.toUnitSpace),m=(0,Mi.val)(e.sheet),v=m.getSequence(),g=s.target.getBoundingClientRect(),h=d(s.clientX-g.left),b=f(At.rangeStripMinWidth);return{onDrag(y){let k=f(y),x=h,S=h+k;[x,S]=[kt(x,0,v.length),kt(S,0,v.length)].map(_=>v.closestGridPosition(_)),S<x?[x,S]=[Math.max(Math.min(S,x-b),0),x]:y>0&&(S=Math.min(Math.max(S,x+b),v.length)),u&&u.discard(),u=de().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},m.address),{range:{start:x,end:S},enabled:!0}))})},onDragEnd(y){y&&u!==void 0?u.commit():u&&u.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let s,u=t.current,d=t.current.addBoundsHighlightLock();return{onDrag(f,m){let v=he(L({},u.dims),{top:kt(u.dims.top+m,0,window.innerHeight-Vr),left:kt(u.dims.left+f,-u.dims.width+Vr,window.innerWidth-Vr)}),g=Zp(v,{width:window.innerWidth,height:window.innerHeight});s==null||s.discard(),s=de().tempTransaction(({stateEditors:h})=>{h.studio.historic.panelPositions.setPanelPosition({position:g,panelId:u.panelId})})},onDragEnd(f){d(),f?s==null||s.commit():s==null||s.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(s){let[u,d]=s.shiftKey?["creating",i().onDragStart(s)]:["moving-panel",l().onDragStart(s)];return o(u),d===!1?!1:{onDrag(f,m,v,g,h){d.onDrag(f,m,v,g,h)},onDragEnd(f){var m;o("none"),(m=d.onDragEnd)==null||m.call(d,f)}}}}},[e,t])}var Mi,io,H7,K7,W7,q7,Kne=P(()=>{Mi=je,Re(),Ne(),os(),Ui(),Bn(),Dt(),Mne(),FA(),nt(),Ft(),io=$(X()),be(),A7(),Vne(),So(),K7=M.div(H7||(H7=F([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>lo,e=>e.isShiftDown?"ew-resize":"move"),W7=({layoutP:e})=>{let[t,n]=Qe(null),o=rs(),i=(0,io.useRef)(o);i.current=o;let l=(0,io.useMemo)(()=>(0,Mi.prism)(()=>{let{projectId:d,sheetId:f}=(0,Mi.val)(e.sheet).address;return(0,Mi.val)(de().atomP.ahistoric.projects.stateByProjectId[d].stateBySheetId[f].sequence.focusRange)}),[e]);xt(n,Hne(e,i));let s=BA("Shift"),u=Rne(n);return(0,io.useEffect)(()=>{if(!s&&u)return i.current.addBoundsHighlightLock()},[!s&&u]),Xe(()=>io.default.createElement(K7,{ref:t,isShiftDown:s},io.default.createElement(D7,{layoutP:e}),io.default.createElement(vk,{thumbType:"start",layoutP:e}),io.default.createElement(vk,{thumbType:"end",layoutP:e})),[e,l,s])},q7=W7}),ms,lo,Ac,$7,L7,Z7,G7,Ui=P(()=>{Re(),ms=$(X()),be(),O7(),Gt(),rt(),Kne(),lo=18,Ac={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},L7=M.div($7||($7=F([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),lo,Ac.backgroundColor,Ac.borderColor,tt),Z7=({layoutP:e})=>{let t=Ye(e.rightDims.width);return ms.default.createElement(ms.default.Fragment,null,ms.default.createElement(L7,L({},eo("hide")),ms.default.createElement(j7,{layoutP:e,width:t,height:lo}),ms.default.createElement(q7,{layoutP:e})))},G7=Z7}),Vi,X7,Y7,Q7,J7,eR,tR,nR,rR,Wne=P(()=>{Vi=$(X()),be(),Re(),Ne(),xy(),mi(),X7=e=>isFinite(e)&&e>0,Q7=M.div(Y7||(Y7=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),eR=M.div(J7||(J7=F([`
  `,`;
  white-space: nowrap;
`])),fa),tR=({deltaX:e})=>e*.25,nR=({layoutP:e})=>{let t=Ye(e.sheet),n=(0,Vi.useMemo)(()=>{let i;return{temporarilySetValue(l){i&&(i.discard(),i=void 0),i=de().tempTransaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(l){i&&(i.discard(),i=void 0),de().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})}}},[e,t]),o=(0,Vi.useRef)(null);return(0,Vi.useLayoutEffect)(()=>{o.current.focus()},[]),Xe(()=>{let i=t.getSequence().length;return Vi.default.createElement(Q7,null,Vi.default.createElement(eR,null,"Sequence length"),Vi.default.createElement(Yf,he(L({value:i},n),{isValid:X7,inputRef:o,nudge:tR})))},[t,n,o])},rR=nR});function qne(e,t){let n=(0,Pn.useRef)(t);n.current=t;let o=(0,Pn.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let s,u=n.current,d=(0,Hi.val)(n.current.layoutP.sheet),f=d.getSequence().length,m=(0,Hi.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,h){let b=m(v);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:y})=>{y.coreByProject.historic.sheetsById.sequence.setLength(he(L({},d.address),{length:f+b}))})},onDragEnd(v){v?s&&s.commit():s&&s.discard()}}}}),[]),[i]=xt(e,o);return Ao(i,-1),[i]}var Hi,Pn,yk,Bc,oR,ja,aR,iR,lR,sR,uR,cR,dR,fR,pR,hR,mR,$ne=P(()=>{Re(),Hi=je,Pn=$(X()),be(),Uo(),Ui(),nt(),Dt(),Ne(),$r(),Gt(),ql(),Wne(),rt(),Zr(),yk=1e3,Bc={stripNormal:"#0000006c",stripActive:"#000000"},ja=M.div(oR||(oR=F([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>uo.lengthIndicatorStrip,lo,Bc.stripNormal,Bc.stripActive),iR=M.div(aR||(aR=F([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),lo-15),sR=M.div(lR||(lR=F([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),tt,ja,ja,Bc.stripActive),cR=M.div(uR||(uR=F([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),tt,ja,ja,Bc.stripActive),fR=M.div(dR||(dR=F([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),yk,()=>uo.lengthIndicatorCover,ja,ja),pR=-1e4,hR=({layoutP:e})=>{let[t,n]=Qe(null),[o]=qne(n,{layoutP:e}),{node:i,toggle:l,close:s}=qr({debugName:"LengthIndicator"},()=>Pn.default.createElement(Lr,null,Pn.default.createElement(rR,{layoutP:e,onRequestClose:s})));return Xe(()=>{let u=(0,Hi.val)(e.sheet),d=(0,Hi.val)(e.rightDims.height),f=u.getSequence(),m=f.length,v=m,g=(0,Hi.val)(e.clippedSpace.fromUnitSpace)(v),h=(0,Hi.val)(e.clippedSpace.width),b,y;return g>h?(y=0,b=0):(g<0&&(g=0),y=g,b=(h-g)/yk),Pn.default.createElement(Pn.default.Fragment,null,i,Pn.default.createElement(ja,{style:{height:d+"px",transform:"translateX(".concat(y===0?pR:y,"px)")},className:o?"dragging":""},Pn.default.createElement(iR,null,Pn.default.createElement(cR,L({ref:t,onClick:k=>{l(k,n)}},eo("hide")),Pn.default.createElement(BQ,null),Pn.default.createElement(NQ,null)),Pn.default.createElement(sR,null,"Sequence length:"," ",f.positionFormatter.formatBasic(m)))),Pn.default.createElement(fR,{title:"Length",style:{height:d+"px",transform:"translateX(".concat(y,"px) scale(").concat(b,", 1)")}}))},[e,t,o,i])},mR=hR}),bk,Ro,gR,vR,yR,bR,kR,wR,xR,SR,Lne=P(()=>{Re(),bk=je,Ro=$(X()),be(),O7(),Uo(),Ui(),Gt(),vR=M.div(gR||(gR=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),bR=M.div(yR||(yR=F([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),Pa.stampFontSize,Pa.fullUnitStampColor,Ac.backgroundColor,()=>uo.currentFrameStamp),wR=M.div(kR||(kR=F([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),xR=Ro.default.memo(({layoutP:e})=>{let[t,n]=Ye(aB()),o=Ye(e.clippedSpace.fromUnitSpace),{sequence:i,formatter:l,clippedSpaceWidth:s}=Xe(()=>{let m=(0,bk.val)(e.sheet).getSequence(),v=(0,bk.val)(e.clippedSpace.width);return{sequence:m,formatter:m.positionFormatter,clippedSpaceWidth:v}},[e]);if(t==-1)return Ro.default.createElement(Ro.default.Fragment,null);let u=n===3?i.closestGridPosition(t):t,d=o(u),f=d>=0&&d<=s;return Ro.default.createElement(Ro.default.Fragment,null,Ro.default.createElement(vR,null,Ro.default.createElement(bR,{style:{opacity:f?1:0,transform:"translate3d(calc(".concat(d,"px - 50%), 0, 0)")}},l.formatForPlayhead(u)),Ro.default.createElement(wR,{posType:n,style:{opacity:f?1:0,transform:"translate3d(".concat(d,"px, 0, 0)")}}))," ")}),SR=xR}),Er,bn,ER,_R,PR,CR,IR,qh,jR,kk,OR,$h,TR,Lh,zR,wk,DR,AR,Zne=P(()=>{Re(),Er=je,E5(),An(),bn=$(X()),be(),Uo(),Gt(),rt(),Dt(),_R=M.div(ER||(ER=F([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>uo.horizontalScrollbar,tt),CR=M.div(PR||(PR=F([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),qh=M.div(IR||(IR=F([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Pv("absolute","-4px")),kk=M.div(jR||(jR=F([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Pv("absolute","0"),Pv("absolute","-4px")),$h=M(kk)(OR||(OR=F([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),Lh=M(kk)(TR||(TR=F([`
  cursor: e-resize;
  left: 0px;
`]))),wk=M.div(zR||(zR=F([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",$h,Lh,qh,$h,qh,Lh),DR=({layoutP:e})=>{let t=(0,bn.useCallback)(k=>k.toFixed(2),[]),n=(0,bn.useMemo)(()=>(0,Er.prism)(()=>{let k=(0,Er.val)(e.rightDims.width)-25,x=(0,Er.val)(e.clippedSpace.range),S=(0,Er.val)(e.sheet).getSequence().length,_=Math.max(x.end,S),O=x.start/_*k,j=x.end/_*k;return{rightWidth:k,clippedSpaceRange:x,sequenceLength:S,assumedLengthOfSequence:_,rangeStartX:O,rangeEndX:j,bottom:(0,Er.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:i,clippedSpaceRange:l,bottom:s}=Ye(n),[u,d]=(0,bn.useState)("nothing"),f=(0,bn.useMemo)(()=>{let k=(0,Er.val)(n),x=()=>{k=(0,Er.val)(n)},S=_=>_/k.rightWidth*k.assumedLengthOfSequence;return{onRangeDragStart(){return x(),{onDrag(_){d("both");let O=S(_),j=ai(k.clippedSpaceRange,z=>z+O);(0,Er.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeStartDragStart(){return x(),{onDrag(_){d("start");let O=S(_),j={start:k.clippedSpaceRange.start+O,end:k.clippedSpaceRange.end};j.start>j.end-1&&(j.start=j.end-1),j.start<=0&&(j.start=0),(0,Er.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeEndDragStart(){return x(),{onDrag(_){d("end");let O=S(_),j={start:k.clippedSpaceRange.start,end:k.clippedSpaceRange.end+O};j.end<j.start+1&&(j.end=j.start+1),j.end>=k.assumedLengthOfSequence&&(j.end=k.assumedLengthOfSequence),(0,Er.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}}}},[e,n]),[m,v]=(0,bn.useState)(null);xt(m,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:f.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[g,h]=(0,bn.useState)(null);xt(g,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:f.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[b,y]=(0,bn.useState)(null);return xt(b,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:f.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),bn.default.createElement(_R,L({style:{bottom:s+8+"px"}},eo("hide")),bn.default.createElement(CR,null,bn.default.createElement(qh,{ref:v,style:{width:"".concat(i-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),bn.default.createElement($h,{ref:h,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},bn.default.createElement(wk,{active:u==="both"||u==="start"},t(l.start))),bn.default.createElement(Lh,{ref:y,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},bn.default.createElement(wk,{active:u==="both"||u==="end"},t(l.end)))))},AR=DR}),BR,NR,FR,RR,MR,Gne=P(()=>{BR=$(X()),be(),FR=M.div(NR||(NR=F([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),RR=e=>BR.default.createElement(FR,{room:e.room}),MR=RR}),Zh,Gh,xk,UR,VR,HR,KR,WR,qR,$R,LR,Xne=P(()=>{be(),Re(),xy(),mi(),Zh=$(X()),Gh=$(X()),xk=je,lf(),UR=e=>isFinite(e)&&e>=0,HR=M.div(VR||(VR=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),WR=M.div(KR||(KR=F([`
  `,`;
  white-space: nowrap;
`])),fa),qR=({deltaX:e})=>e*.25,$R=({layoutP:e,onRequestClose:t})=>{let n=(0,xk.val)(e.sheet),o=n.getSequence(),i=(0,Zh.useMemo)(()=>{let s,u=o.position;return{temporarilySetValue(d){s&&(s=void 0),s=kt(d,0,o.length),o.position=s},discardTemporaryValue(){s&&(s=void 0,o.position=u,t("discardTemporaryValue"))},permanentlySetValue(d){s&&(s=void 0),o.position=kt(d,0,o.length),t("permanentlySetValue")}}},[e,o]),l=(0,Zh.useRef)(null);return(0,Zh.useLayoutEffect)(()=>{l.current.focus()},[]),Xe(()=>{let s=n.getSequence(),u=Number((0,xk.val)(s.pointer.position).toFixed(3));return Gh.default.createElement(HR,null,Gh.default.createElement(WR,null,"Sequence position"),Gh.default.createElement(Yf,he(L({value:u},i),{isValid:UR,inputRef:l,nudge:qR})))},[n,i,l])},LR=$R}),ZR,Yne=P(()=>{ZR=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),GR,Qne=P(()=>{Yne(),GR=e=>ZR?e.metaKey===!0:e.ctrlKey===!0});function Jne(){Xh=!1}function ere(){Xh=!0}function tre(){let e=de();(0,XR.useEffect)(()=>{let t=n=>{let o=n.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(n.key==="z"||n.key==="Z"||n.code==="KeyZ")if(GR(n))n.shiftKey===!0?e.redo():e.undo();else return;else if(n.code==="Space"&&!n.shiftKey&&!n.metaKey&&!n.altKey&&!n.ctrlKey){if(!Xh)return;let i=oQ();if(i)if(i.playing)i.pause();else{let{projectId:l,sheetId:s}=i.address,u=(0,_r.prism)(()=>{let m=(0,_r.val)(de().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[s].sequence.focusRange);return _r.prism.memo("shouldFollowFocusRange",()=>{let v=i.position;if(m){let g=v>=m.range.start&&v<=m.range.end;return m.enabled?!!g:!0}else return!0},[])&&m&&m.enabled?{range:[m.range.start,m.range.end],isFollowingARange:!0}:{range:[0,(0,_r.val)(i.pointer.length)],isFollowingARange:!1}}),d=i.playDynamicRange((0,_r.prism)(()=>(0,_r.val)(u).range),de().ticker),f=Sk(i);d.finally(()=>{f.set(void 0)}),f.set(u)}else return}else if(n.altKey&&(n.key==="\\"||n.code==="Backslash"||n.code==="IntlBackslash"))e.transaction(({stateEditors:i,drafts:l})=>{i.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;n.preventDefault(),n.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var XR,_r,Xh,Sk,YR,Ek=P(()=>{XR=$(X()),Ne(),Qne(),la(),_r=je,mp(),Xh=!0,Sk=Wu(e=>new _r.Atom(void 0)),YR=Wu(e=>(0,_r.prism)(()=>{let t=Sk(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:n,sheetId:o}=e.address,i=(0,_r.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange);if(!i||!i.enabled)return!1;let l=(0,_r.val)(e.pointer.position);return l>=i.range.start&&l<=i.range.end}}))});function nre(e,t){return hn(e,{menuItems(){return[{label:"Place marker",callback:()=>{de().transaction(({stateEditors:n})=>{let o=(0,so.val)(t.layoutP.sheet),i=o.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:HJ(),position:i.position}],snappingFunction:i.closestGridPosition})})}}]}})}var so,er,QR,Ki,JR,eM,tM,_k,nM,rM,oM,aM,iM,lM,rre=P(()=>{Gne(),Dt(),nt(),Re(),so=je,lf(),er=$(X()),be(),Uo(),Gt(),rt(),$r(),Zr(),Xne(),Ek(),Bn(),mn(),Ne(),Oo(),Sr(),Ei(),Ki=M.div(QR||(QR=F([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>uo.playhead,e=>e.isVisible?"block":"none"),eM=M.div(JR||(JR=F([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),_o),_k=M.div(tM||(tM=F([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),tt,Ki,Ki,_o,Ki),rM=M.div(nM||(nM=F([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),Ki),aM=M.div(oM||(oM=F([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),_k,Ki),iM=({layoutP:e})=>{let[t,n]=Qe(null),{node:o,toggle:i,close:l}=qr({debugName:"Playhead"},()=>er.default.createElement(Lr,null,er.default.createElement(LR,{layoutP:e,onRequestClose:l}))),s=(0,er.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let f=(0,so.val)(e.sheet).getSequence(),m=f.position,v=(0,so.val)(e.scaledSpace.toUnitSpace),g=(0,so.val)(e.seeker.setIsSeeking);return g(!0),s1(),{onDrag(h,b,y){var k;let x=v(h);f.position=(k=gn.checkIfMouseEventSnapToPos(y,{ignore:n}))!=null?k:kt(m+x,0,f.length)},onDragEnd(h){g(!1),Si()},onClick(h){i(h,t.current)}}}}),[e,n]),[u]=xt(n,s);Ln(u,"draggingPositionInSequenceEditor","ew-resize"),Ao(Ye(e.seeker.isSeeking)||u,-1);let[d]=nre(n,{layoutP:e});return Xe(()=>{let f=(0,so.val)(e.seeker.isSeeking),m=(0,so.val)(e.sheet).getSequence(),v=(0,so.val)(YR(m)),g=m.positionPrism.getValue(),h=(0,so.val)(e.clippedSpace.fromUnitSpace)(g),b=h>=0&&h<=(0,so.val)(e.clippedSpace.width);return er.default.createElement(er.default.Fragment,null,d,o,er.default.createElement(Ki,L({isVisible:b,style:{transform:"translate3d(".concat(h,"px, 0, 0)")},className:"".concat(f&&"seeking"," ").concat(v&&"playheadattachedtofocusrange")},eo("hide")),er.default.createElement(_k,L({ref:t},gn.includePositionSnapAttrs(g)),er.default.createElement(MR,{room:8}),er.default.createElement(rM,null),er.default.createElement(aM,null,m.positionFormatter.formatForPlayhead(m.closestGridPosition(g)))),er.default.createElement(eM,he(L({},gn.includePositionSnapAttrs(g)),{className:f?"seeking":""}))))},[e,t,o])},lM=iM}),Wi,Nc,Yh,sM,uM,cM,dM,ore=P(()=>{Wi=je,Re(),Ne(),Ui(),Nc=$(X()),be(),Yh=1e3,uM=M.div(sM||(sM=F([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),lo,Yh,e=>e.enabled?"#000000":"transparent"),cM=({layoutP:e})=>{let t=(0,Nc.useMemo)(()=>(0,Wi.prism)(()=>{let{projectId:n,sheetId:o}=(0,Wi.val)(e.sheet).address;return(0,Wi.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange)}),[e]);return Xe(()=>{let n=t.getValue();if(!n||!n.enabled)return null;let o=(0,Wi.val)(e.rightDims.height)-lo,i=(0,Wi.val)(e.clippedSpace.fromUnitSpace),l=(0,Wi.val)(e.clippedSpace.width),s=[];{let u=0,d=i(n.range.start),f,m;u>d?(m=0,f=0):(d>l&&(d=l),m=u,f=(d-u)/Yh),s.push({translateX:m,scaleX:f})}{let u=i(n.range.end),d=l,f,m;u>d?(m=0,f=0):(u<0&&(u=0),m=u,f=(d-u)/Yh),s.push({translateX:m,scaleX:f})}return Nc.default.createElement(Nc.default.Fragment,null,s.map(({translateX:u,scaleX:d},f)=>Nc.default.createElement(uM,{key:"curtain-".concat(f),enabled:!0,style:{height:"".concat(o,"px"),transform:"translateX(".concat(u,"px) scaleX(").concat(d,")")}})))},[e,t])},dM=cM}),gs,fM,pM,hM,mM,gM,are=P(()=>{gs=$(X()),be(),Re(),Ne(),mi(),jy(),pM=M.div(fM||(fM=F([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),M.div(hM||(hM=F([`
  `,`;
  white-space: nowrap;
`])),fa),mM=({layoutP:e,marker:t})=>{var n;let o=Ye(e.sheet),i=(0,gs.useMemo)(()=>{let s;return{temporarilySetValue(u){s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})},discardTemporaryValue(){s&&(s.discard(),s=void 0)},permanentlySetValue(u){s&&(s.discard(),s=void 0),de().transaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})}}},[e,o]),l=(0,gs.useRef)(null);return(0,gs.useLayoutEffect)(()=>{l.current.focus()},[]),gs.default.createElement(pM,null,gs.default.createElement(Jf,he(L({value:(n=t.label)!=null?n:""},i),{isValid:()=>!0,inputRef:l})))},gM=mM});function ire(e,t){return hn(e,{menuItems(){return[{label:"Remove marker",callback:()=>{de().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function lre(e,t){let n=(0,kn.useRef)(t);n.current=t;let o=(0,kn.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(l){let s=n.current.marker,u=(0,Qh.val)(t.layoutP.scaledSpace.toUnitSpace),d;return s1(),{onDrag(f,m,v){var g;let h=s,b=Math.max((g=gn.checkIfMouseEventSnapToPos(v,{ignore:e}))!=null?g:h.position+u(f),0);d==null||d.discard(),d=de().tempTransaction(({stateEditors:y})=>{y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,Qh.val)(t.layoutP.sheet.address),markers:[he(L({},h),{position:b})],snappingFunction:(0,Qh.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(f){f?d==null||d.commit():d==null||d.discard(),Si()}}}}),[]),[i]=xt(e,o);return Ao(i,t.marker.position),Ln(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}var Qh,kn,Pk,Ck,vM,yM,bM,kM,wM,Jh,xM,SM,EM,_M,PM,CM,sre=P(()=>{Qh=je,Re(),Ne(),Bn(),mn(),nt(),kn=$(X()),be(),Gt(),Dt(),Uo(),Sr(),oh(),fB(),Ei(),$r(),Zr(),are(),Pk=12,Ck=12,vM=Pk*2,yM=Ck*2,kM=M.div(bM||(bM=F([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>uo.marker),Jh=M.div(wM||(wM=F([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Xn(Pk,Ck)),xM=kn.default.memo(()=>kn.default.createElement(Jh,{children:kn.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kn.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),EM=M.div(SM||(SM=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),to.CSS,to.CSS_WHEN_SOMETHING_DRAGGING,to.BEING_DRAGGED_CLASS,_o,Jh,to.BEING_DRAGGED_CLASS,Jh,Xn(vM,yM)),_M=({layoutP:e,markerId:t})=>{let n=Ye(e.sheet.address),o=Ye(de().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let i=Ye(e.clippedSpace.width),l=Ye(e.clippedSpace.fromUnitSpace)(o.position),s=l<=0||l>i,u=s?-1e4:l,d=s?0:1;return kn.default.createElement(kM,{style:{transform:"translateX(".concat(u,"px) scale(").concat(d,")")}},kn.default.createElement(CM,{marker:o,layoutP:e}))},PM=_M,CM=({layoutP:e,marker:t})=>{let n=Ye(e.sheet.address),[o,i]=Qe(null),[l]=ire(i,{sheetAddress:n,markerId:t.id}),[s]=lre(i,{layoutP:e,marker:t}),{node:u,toggle:d,close:f}=qr({debugName:"MarkerPopover"},()=>kn.default.createElement(Lr,null,kn.default.createElement(gM,{marker:t,layoutP:e,onRequestClose:f})));return kn.default.createElement(kn.default.Fragment,null,l,u,kn.default.createElement(EM,L({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:m=>{d(m,o.current)}},to.reactProps({isDragging:s,position:t.position}))),kn.default.createElement(xM,null))}}),em,IM,jM,ure=P(()=>{Re(),Ne(),em=$(X()),sre(),IM=({layoutP:e})=>{let t=Ye(e.sheet.address),n=de().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=Ye(n.allIds);return em.default.createElement(em.default.Fragment,null,o&&Object.keys(o).map(i=>em.default.createElement(PM,{key:i,layoutP:e,markerId:i})))},jM=IM}),OM,Mo,TM,zM,DM,AM,cre=P(()=>{Uo(),Re(),OM=je,Mo=$(X()),be(),$ne(),Lne(),Zne(),rre(),Ui(),ore(),ure(),zM=M.div(TM||(TM=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>uo.rightOverlay),DM=({layoutP:e})=>Xe(()=>{let t=(0,OM.val)(e.rightDims.width);return Mo.default.createElement(zM,{style:{width:t+"px"}},Mo.default.createElement(lM,{layoutP:e}),Mo.default.createElement(AR,{layoutP:e}),Mo.default.createElement(SR,{layoutP:e}),Mo.default.createElement(G7,{layoutP:e}),Mo.default.createElement(jM,{layoutP:e}),Mo.default.createElement(mR,{layoutP:e}),Mo.default.createElement(dM,{layoutP:e}))},[e]),AM=DM}),BM,tm,NM,FM,RM,MM,dre=P(()=>{BM=je,Re(),Ne(),tm=$(X()),be(),ql(),Gt(),FM=M.button(NM||(NM=F([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),RM=({layoutP:e})=>{let t=Ye(e.graphEditorDims.isOpen),n=(0,tm.useCallback)(()=>{let o=(0,BM.val)(e.graphEditorDims.isOpen);de().transaction(({stateEditors:i})=>{i.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return tm.default.createElement(FM,L({onClick:n,title:"Toggle graph editor",className:t?"open":""},eo("hide")),tm.default.createElement(JQ,null))},MM=RM}),Pr,vt,UM,VM,HM,KM,uo,WM,qM,$M,LM,ZM,GM,XM,YM,QM,Uo=P(()=>{la(),Re(),wA(),Pr=je,vt=$(X()),be(),Pne(),Uh(),Nne(),cre(),os(),PD(),tA(),Gt(),Qa(),Ft(),dre(),So(),vi(),VM=M(Lb)(UM||(UM=F([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),Fl.sequenceEditorPanel),KM=M.div(HM||(HM=F([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),uo=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),qM=M(Vb)(WM||(WM=F([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),$M={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},LM={width:800,height:200},ZM=e=>vt.default.createElement(Ub,{panelId:"sequenceEditor",defaultPosition:$M,minDims:LM},vt.default.createElement(GM,null)),GM=()=>{let{dims:e}=rs(),[t,n]=(0,vt.useState)(null);return UO(t),Xe(()=>{let o=Pr.prism.memo("panelSize",()=>{let g=e.width,h=e.height;return{width:g,height:h,widthWithoutBorder:g-2,heightWithoutBorder:h-4,screenX:e.left,screenY:e.top}},[e]),i=ra(ia().filter(g=>Ad(g)||sr(g)).map(g=>sr(g)?g.sheet:g));if(ra(i.map(g=>g.template)).length!==1)return vt.default.createElement(vt.default.Fragment,null);let l=i[0];if(!l)return vt.default.createElement(vt.default.Fragment,null);let s=Gb("panelSizeP",o).pointer,u=Pr.prism.memo("key",()=>JSON.stringify(l.address),[l]),d=Pr.prism.memo("layout",()=>Bne(l,s),[l,s]).getValue();if((0,Pr.val)(d.tree.children).length===0)return vt.default.createElement(vt.default.Fragment,null);let f=Pr.prism.memo("containerRef",QM,[]),m=(0,Pr.val)(d.graphEditorDims.isAvailable),v=(0,Pr.val)(d.graphEditorDims.isOpen);return vt.default.createElement(VM,{ref:g=>{f(g),g!==t&&n(g)}},vt.default.createElement(KM,{style:{width:"".concat((0,Pr.val)(d.leftDims.width),"px")}}),vt.default.createElement(sB,{layoutP:d},vt.default.createElement(XM,{layoutP:d}),vt.default.createElement(h7,{key:u+"-dopeSheet",layoutP:d}),v&&vt.default.createElement(NF,{key:u+"-graphEditor",layoutP:d}),m&&vt.default.createElement(MM,{layoutP:d}),vt.default.createElement(AM,{layoutP:d})))},[e,t])},XM=({layoutP:e})=>Xe(()=>{let t=(0,Pr.val)(e.sheet);return vt.default.createElement(qM,{style:{width:(0,Pr.val)(e.leftDims.width)}},vt.default.createElement(Gv,null,vt.default.createElement(aa,null,t.address.sheetId," "),vt.default.createElement(Ou,null,":",""),vt.default.createElement(aa,null,t.address.sheetInstanceId," "),vt.default.createElement(Ou,null,"",">",""),vt.default.createElement(aa,null,"Sequence")))},[e]),YM=ZM,QM=()=>{let e=null,t={passive:!1,capture:!1},n=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",n,t),e=o,o&&o.addEventListener("wheel",n,t)}}}),qi,JM,eU,fre=P(()=>{hQ(),Fb(),qi=$(X()),Ne(),Re(),Iee(),Uo(),JM=()=>{let e=Ye(de().paneManager.allPanesD),t=Object.entries(e).map(([n,o])=>qi.default.createElement(kA,{key:"pane-".concat(n),paneInstance:o}));return qi.default.createElement(qi.default.Fragment,null,t,qi.default.createElement(lj,null),qi.default.createElement(wD,null),qi.default.createElement(YM,null))},eU=JM}),tU,nU,rU,pre=P(()=>{be(),Np(),nU=M(es)(tU||(tU=F([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),rU=nU}),hre=He((e,t)=>{var n,o;n=[],o=[];function i(l,s,u){var d,f,m,v,g,h,b,y;if(l===s)return 0;if(d=l.length,f=s.length,d===0)return f;if(f===0)return d;for(u&&(l=l.toLowerCase(),s=s.toLowerCase()),b=0;b<d;)o[b]=l.charCodeAt(b),n[b]=++b;for(y=0;y<f;)for(m=s.charCodeAt(y),v=g=y++,b=-1;++b<d;)h=m===o[b]?g:g+1,g=n[b],n[b]=v=g>v?h>v?v+1:h:h>g?g+1:h;return v}t.exports=i}),mre=He((e,t)=>{var n=hre();function o(){var i,l,s,u,d,f=0,m=arguments[0],v=arguments[1],g=v.length,h=arguments[2];h&&(u=h.threshold,d=h.ignoreCase),u===void 0&&(u=0);for(var b=0;b<g;++b)d?l=n(m,v[b],!0):l=n(m,v[b]),l>m.length?i=1-l/v[b].length:i=1-l/m.length,i>f&&(f=i,s=v[b]);return f>=u?s:null}t.exports=o});function gre(e,t,n="Did you mean ",o="?"){let i=(0,oU.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+o:""}var oU,vre=P(()=>{oU=$(mre())});function aU(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var yre=P(()=>{}),iU,Ik,lU=P(()=>{yre(),iU=e=>typeof e=="string"?'string("'.concat(aU(e,10),'")'):typeof e=="number"?"number(".concat(aU(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",Ik=iU}),sU,uU,jk,cU=P(()=>{be(),fi(),uU=M(KI)(sU||(sU=F([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),jk=uU}),vs,dU,fU,pU,ys,Fc=P(()=>{be(),rt(),vs=$(X()),ac(),Gf(),wz(),cU(),fU=M.button(dU||(dU=F([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,jk),pU=vs.default.forwardRef((e,t)=>{var n=e,{title:o}=n,i=Xs(n,["title"]);let[l,s]=Jl({enabled:typeof o=="string"},()=>vs.default.createElement(Ib,null,o));return vs.default.createElement(vs.default.Fragment,null,l,vs.default.createElement(fU,L({ref:Zf([s,t])},i))," ")}),ys=pU}),hU,mU,gU,vU,yU,bre=P(()=>{hU=$(X()),Fc(),be(),rt(),gU=M(ys)(mU||(mU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),vU=({config:e,testId:t})=>{var n;return hU.default.createElement(gU,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(n=e.svgSource)!=null?n:""}})},yU=vU});function kre({value:e,label:t,icon:n,onClick:o,isSelected:i}){return bs.default.createElement(bs.default.Fragment,null,bs.default.createElement(ys,{forwardedAs:UI,className:i?"selected":void 0,"aria-label":t,onClick:o,title:t},n))}var bs,bU,kU,wre=P(()=>{bs=$(X()),fi(),Fc(),cU(),bU=({value:e,onChange:t,options:n})=>bs.default.createElement(jk,null,n.map(({label:o,icon:i,value:l})=>bs.default.createElement(kre,{key:l,value:l,isSelected:e===l,label:o,icon:i,onClick:()=>t(l)}))),kU=bU}),Ok,wU,xU,SU,EU,xre=P(()=>{Ok=$(X()),be(),rt(),wre(),xU=M.div(wU||(wU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),SU=({config:e})=>Ok.default.createElement(kU,{onChange:e.onChange,options:e.options.map(({label:t,value:n,svgSource:o})=>({label:t,value:n,icon:Ok.default.createElement(xU,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),EU=SU}),Rc,_U,PU,CU,IU,Sre=P(()=>{Rc=$(X()),be(),rt(),Fc(),OO(),$r(),PU=M.div(_U||(_U=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),CU=({config:e})=>{let t=(0,Rc.useRef)(null),n=qr(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>Rc.default.createElement(ob,{items:e.items.map((o,i)=>({label:o.label,callback:()=>{var l;try{(l=o.onClick)==null||l.call(o)}catch(s){console.error(s)}}})),onRequestClose:()=>{n.close("clicked")}}));return Rc.default.createElement(PU,null,n.node,Rc.default.createElement(ys,{ref:t,onClick:o=>{n.open(o,t.current)}},e.label))},IU=CU});function Ere(e){return Tk[e]}var Mc,jU,Tk,OU,TU,_re=P(()=>{vre(),lU(),Mc=$(X()),bre(),xre(),Sre(),jU=e=>Mc.default.createElement(Mc.default.Fragment,null,e.config.map((t,n)=>Mc.default.createElement(OU,{config:t,key:n}))),Tk={Icon:yU,Switch:EU,Flyout:IU},OU=({config:e})=>{let t=Ere(e.type);if(!t)throw new Error("No tool with tool.type ".concat(Ik(e.type)," exists. Did you mean ").concat(gre(e.type,Object.keys(Tk))));return Mc.default.createElement(t,{config:e})},TU=jU}),zU,co,DU,AU,BU,zk,NU,FU,Dk,RU=P(()=>{zU=je,Re(),Ne(),co=$(X()),be(),_re(),AU=M.div(DU||(DU=F([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),zk=M.div(BU||(BU=F([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),NU=({extension:e,toolbarId:t})=>{var n;let o=(0,co.useMemo)(()=>new zU.Atom([]),[]),i=(n=e.toolbars)==null?void 0:n[t];(0,co.useLayoutEffect)(()=>{let s=i==null?void 0:i(o.set.bind(o),de().publicApi);if(typeof s=="function")return s},[e,t,i]);let l=Ye(o.prism);return co.default.createElement(TU,{config:l})},FU=({toolbarId:e,showLeftDivider:t})=>{var n;let o=[],i=Ye(de().atomP.ephemeral.extensions.byId),l=!1;for(let[,s]of Object.entries(i))!s||!((n=s.toolbars)!=null&&n[e])||(o.push(co.default.createElement(co.default.Fragment,{key:"extensionToolbar-"+s.id},l?co.default.createElement(zk,null):void 0,co.default.createElement(NU,{extension:s,toolbarId:e}))),l=!0);return o.length===0?null:co.default.createElement(AU,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?co.default.createElement(zk,null):void 0,o)},Dk=FU}),Uc,MU,UU,VU,nm,Pre=P(()=>{be(),Uc=$(X()),Fc(),UU=M(ys)(MU||(MU=F([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),VU=(0,Uc.forwardRef)((e,t)=>{var n=e,{children:o,hint:i,pinned:l,icon:s,pinHintIcon:u,unpinHintIcon:d}=n,f=Xs(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[m,v]=(0,Uc.useState)(!1),g=m||i;return Uc.default.createElement(UU,he(L({},f),{pinned:l,ref:t,onMouseOver:()=>v(!0),onMouseOut:()=>v(!1)}),Uc.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},g&&!l?u:g&&l?d:s),o)}),nm=VU});function Cre(e){return Ak.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ak.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var Ak,Bk,Ire=P(()=>{Ak=$(X()),Bk=Cre});function jre(e){return Nk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Nk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var Nk,Fk,Ore=P(()=>{Nk=$(X()),Fk=jre}),Bt,HU,KU,WU,Rk,qU,Oa,$U,LU,ZU,GU,XU,YU,QU,JU,eV,rm,tV,nV,Mk,Uk,rV,oV,Tre=P(()=>{Re(),Ne(),Bt=$(X()),be(),KU=M.div(HU||(HU=F([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),Rk=M.div(WU||(WU=F([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),Oa=M(Rk)(qU||(qU=F([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),LU=M(Rk)($U||($U=F([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),GU=M.div(ZU||(ZU=F([`
  font-weight: 600;
`]))),YU=M.div(XU||(XU=F([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),JU=M.div(QU||(QU=F([`
  margin-left: 2px;
`]))),rm=M.div(eV||(eV=F([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),nV=M.div(tV||(tV=F([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),Mk="0.7.2",Uk=Mk.match(/^[^\-]+/)[0],rV=Bt.default.forwardRef((e,t)=>{let n=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates);return Bt.default.createElement(KU,{ref:t},Bt.default.createElement(Oa,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Bt.default.createElement(Oa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Bt.default.createElement(rm,null),Bt.default.createElement(Oa,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Bt.default.createElement(Oa,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Bt.default.createElement(Oa,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Bt.default.createElement(rm,null),Bt.default.createElement(LU,null,Bt.default.createElement(GU,null,"Version"),Bt.default.createElement(YU,null,Bt.default.createElement(JU,null,Mk," ",n===!0?"(outdated)":n===!1?"(latest)":""))),n===!0&&Bt.default.createElement(Bt.default.Fragment,null,Bt.default.createElement(rm,null),Bt.default.createElement(Oa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(Uk)),className:"",target:"_blank"},"Update",Bt.default.createElement(nV,null)),Bt.default.createElement(Oa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(Uk)),className:"",target:"_blank"},"What's new?")))}),oV=rV}),st,aV,iV,lV,sV,uV,cV,Vk,dV,Hk,fV,Kk,pV,hV,zre=P(()=>{Re(),Ne(),st=$(X()),be(),ac(),pre(),Np(),aV=je,RU(),Pre(),Tu(),Ire(),Ore(),Fc(),$r(),Tre(),hc(),lV=M.div(iV||(iV=F([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),uV=M.div(sV||(sV=F([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),Vk=M.div(cV||(cV=F([`
  display: flex;
  gap: 8px;
`]))),Hk=M.div(dV||(dV=F([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),M.div(fV||(fV=F([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),Kk=!1,pV=()=>{var e,t,n;let o=Xe(()=>{let y=(0,aV.val)(de().atomP.ephemeral.coreByProject);return Object.entries(y).map(([k,x])=>({projectId:k,state:x})).filter(({state:k})=>k.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[i,l]=Jl({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?st.default.createElement(rU,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):st.default.createElement(es,null,st.default.createElement(st.default.Fragment,null,"Outline"))),s=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,u=(t=Ye(de().atomP.ahistoric.pinDetails))!=null?t:!0,d=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,f=qr(()=>{let y=m.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:y.right,maxY:8,minX:y.left-140,minY:8},verticalGap:2}},()=>st.default.createElement(oV,null)),m=(0,st.useRef)(null),v=(0,st.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(Kk||(Kk=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),d||window.__IS_VISUAL_REGRESSION_TESTING?!0:d),[d]),{hasNotifications:g}=Tb(),[h,b]=Kz();return st.default.createElement(lV,null,st.default.createElement(Vk,null,i,st.default.createElement(nm,{ref:l,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinOutline(!((x=k.ahistoric.pinOutline)==null||x))})},icon:st.default.createElement(Yv,null),pinHintIcon:st.default.createElement(Fk,null),unpinHintIcon:st.default.createElement(Bk,null),pinned:s}),o.length>0?st.default.createElement(uV,null,o.length):null,st.default.createElement(Dk,{showLeftDivider:!0,toolbarId:"global"})),st.default.createElement(Vk,null,h,st.default.createElement(nm,{ref:b,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinNotifications(!((x=k.ahistoric.pinNotifications)!=null&&x))})},icon:st.default.createElement(Kf,null),pinHintIcon:st.default.createElement(Kf,null),unpinHintIcon:st.default.createElement(Kf,null),pinned:(n=Ye(de().atomP.ahistoric.pinNotifications))!=null?n:!1},g&&st.default.createElement(Hk,{type:"warning"})),f.node,st.default.createElement(ys,{ref:m,onClick:y=>{f.toggle(y,m.current)}},st.default.createElement(i3,null),v&&st.default.createElement(Hk,{type:"info"})),st.default.createElement(nm,{ref:l,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinDetails(!((x=k.ahistoric.pinDetails)==null||x))})},icon:st.default.createElement(a3,null),pinHintIcon:st.default.createElement(Bk,null),unpinHintIcon:st.default.createElement(Fk,null),pinned:u})))},hV=pV}),mV,Vc,gV,Hc,vV,yV,bV,kV,wV=P(()=>{mV=je,Re(),Vc=$(X()),gV=$(bo()),Hc=new mV.Atom({set:{},byId:{}}),vV=1,yV=()=>{let e=vV++;function t(o,i,l){Hc.reduce(s=>({byId:he(L({},s.byId),{[e]:{comp:o,props:i,portalNode:l}}),set:he(L({},s.set),{[e]:!0})}))}function n(){Hc.reduce(o=>{let i=L({},o.set),l=L({},o.byId);return delete i[e],{byId:l,set:i}})}return{mountOrRender:t,unmount:n}},bV=()=>{let e=Object.keys(Ye(Hc.pointer.set));return Vc.default.createElement(Vc.default.Fragment,null,e.map(t=>Vc.default.createElement(kV,{key:"id-"+t,id:t})))},kV=({id:e})=>{let{comp:t,portalNode:n,props:o}=Ye(Hc.pointer.byId[e]);return(0,gV.createPortal)(Vc.default.createElement(t,L({},o)),n)}});function Dre(e){let t=de(),[n,o]=Qe(void 0),i=m7();i.configureLogging({min:128,dev:qk,internal:qk});let l=i.getLogger().named("Theatre.js UIRoot");tre();let s=Ye(t.atomP.ahistoric.visibilityState);return(0,Qt.useEffect)(()=>(s==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[s]),Xe(()=>{let u=(0,Wk.val)(t.atomP.ahistoric.visibilityState);return(0,Wk.val)(t.atomP.ephemeral.initialised)?Qt.default.createElement(Sj,{logger:l},Qt.default.createElement(CT,null,Qt.default.createElement(bQ,null,Qt.default.createElement(CV,null),Qt.default.createElement(Bl.Provider,{value:o},Qt.default.createElement(Zv,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(SV,null),Qt.default.createElement(_V,{className:u==="everythingIsHidden"?"invisible":""},Qt.default.createElement(Lv,{ref:n}),Qt.default.createElement(hV,null),Qt.default.createElement(eU,null),Qt.default.createElement(Wz,null)))))))):null},[t,n,o])}var Wk,Qt,xV,SV,EV,_V,PV,qk,CV,Are=P(()=>{Ne(),Re(),Wk=je,Qt=$(X()),be(),fre(),zre(),nt(),fi(),Ek(),Bn(),IT(),by(),wV(),rt(),Kh(),ua(),hc(),SV=typeof window<"u"?cC(xV||(xV=F([`
  :host {
    contain: strict;
  }
`]))):{},_V=M(xj)(EV||(EV=F([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),qk=/Playground.+Theatre\.js/.test((PV=typeof document<"u"?document==null?void 0:document.title:null)!=null?PV:""),CV=()=>Qt.default.createElement(bV,null)}),Bre=He(e=>{var t=bo();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),IV={};s2(IV,{default:()=>TV});var jV,OV,TV,Nre=P(()=>{Are(),jV=$(X()),OV=$(Bre()),wV(),rt(),RU(),TV=class{constructor(){et(this,"containerEl",document.createElement("div")),et(this,"_renderTimeout"),et(this,"_documentBodyUIIsRenderedIn"),et(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),OV.default.createRoot(this.containerShadow).render(jV.default.createElement(Dre,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=yV();return n.mountOrRender(VY(Dk),{toolbarId:e},t),n.unmount}}}),Fre=He(e=>{e.compare=i,e.reduce=l;var t,n,o;e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=o=0;function i(m,v){var g=m.length,h=v.length,b=s(m,v),y=b<g&&b<h?u(m,v):0,k=y+b-1;g-=k,h-=k;for(var x=f(g,h),S=g-1;S>=0;--S)for(var _=h-1;_>=0;--_)x[_][S]=d(x,m,v,b,S,_);return{prefix:b,matrix:x,suffix:y}}function l(m,v,g){var h,b,y,k,x=g.matrix,S=g.prefix;for(h=0;h<S;++h)v=m(v,o,h,h);for(y=h,S=x.length,h=0,b=0;h<S;)switch(k=x[h][b].type,v=m(v,k,h+y,b+y),k){case o:++h,++b;break;case t:++b;break;case n:++h;break}for(h+=y,b+=y,S=g.suffix,y=0;y<S;++y)v=m(v,o,h+y,b+y);return v}function s(m,v){for(var g=0,h=Math.min(m.length,v.length);g<h&&m[g]===v[g];)++g;return g}function u(m,v){for(var g=m.length-1,h=v.length-1,b=Math.min(g,h),y=0;y<b&&m[g-y]===v[h-y];)++y;return y}function d(m,v,g,h,b,y){return v[b+h]===g[y+h]?{value:m[y+1][b+1].value,type:o}:m[y][b+1].value<m[y+1][b].value?{value:m[y][b+1].value+1,type:t}:{value:m[y+1][b].value+1,type:n}}function f(m,v){var g=[],h,b,y;for(y=g[v]=[],b=0;b<m;++b)y[b]={value:m-b,type:t};for(h=0;h<v;++h)g[h]=[],g[h][m]={value:v-h,type:n};return g[v][m]={value:0,type:o},g}}),zV=He(e=>{e.cons=t,e.tail=n,e.map=o;function t(i,l){var s=l.length,u=new Array(s+1);u[0]=i;for(var d=0;d<s;++d)u[d+1]=l[d];return u}function n(i){for(var l=i.length-1,s=new Array(l),u=0;u<l;++u)s[u]=i[u+1];return s}function o(i,l){for(var s=new Array(l.length),u=0;u<l.length;++u)s[u]=i(l[u]);return s}}),Rre=He((e,t)=>{t.exports=s;var n=/\/|~1|~0/g,o="/",i="~",l="~1";function s(u,d){var f,m,v,g;for(f=u.charAt(0)===o?1:0,m="",n.lastIndex=f;v=n.exec(u);)if(g=v[0],m+=u.slice(f,n.lastIndex-g.length),f=n.lastIndex,g===o){if(d(m)===!1)return u;m=""}else m+=g===l?o:i;return m+=u.slice(f),d(m),u}}),$k=He(e=>{var t=Rre();e.find=m,e.join=g,e.absolute=v,e.parse=h,e.contains=b,e.encodeSegment=k,e.decodeSegment=y,e.parseArrayIndex=_,e.isValidArrayIndex=S;var n="/",o=/\//g,i="~1",l=/~1/g,s="~",u=/~/g,d="~0",f=/~0/g;function m(j,z,V,W){if(typeof z=="string"){if(z==="")return{target:j,key:void 0};if(z===n)return{target:j,key:""};var B=j,Z,re=W!==void 0;return t(z,function(D){if(j==null)return B=null,!1;Array.isArray(j)?Z=re?O(V,_(D),j,W):D==="-"?D:_(D):Z=D,B=j,j=j[Z]}),B===null?void 0:{target:B,key:Z}}}function v(j){return j[0]===n?j:n+j}function g(j){return j.join(n)}function h(j){var z=[];return t(j,z.push.bind(z)),z}function b(j,z){return z.indexOf(j)===0&&z[j.length]===n}function y(j){return j.replace(l,n).replace(f,s)}function k(j){return j.replace(u,d).replace(o,i)}var x=/^(0|[1-9]\d*)$/;function S(j){return x.test(j)}function _(j){if(S(j))return+j;throw new SyntaxError("invalid array index "+j)}function O(j,z,V,W){var B=z;if(B<0)throw new Error("array index out of bounds "+B);if(W!==void 0&&typeof j=="function"&&(B=j(z,V,W),B<0))throw new Error("could not find patch context "+W);return B}}),DV=He((e,t)=>{t.exports=n;function n(l){return l==null||typeof l!="object"?l:Array.isArray(l)?o(l):i(l)}function o(l){for(var s=l.length,u=new Array(s),d=0;d<s;++d)u[d]=n(l[d]);return u}function i(l){for(var s=Object.keys(l),u={},d,f=0,m=s.length;f<m;++f)d=s[f],u[d]=n(l[d]);return u}}),Mre=He((e,t)=>{t.exports=n;function n(l,s){return l===s?!0:Array.isArray(l)&&Array.isArray(s)?o(l,s):typeof l=="object"&&typeof s=="object"?i(l,s):!1}function o(l,s){if(l.length!==s.length)return!1;for(var u=0;u<l.length;++u)if(!n(l[u],s[u]))return!1;return!0}function i(l,s){if(l===null&&s!==null||l!==null&&s===null)return!1;var u=Object.keys(l),d=Object.keys(s);if(u.length!==d.length)return!1;for(var f=0,m;f<u.length;++f)if(m=u[f],!(m in s&&n(l[m],s[m])))return!1;return!0}}),Ure=He((e,t)=>{var n=$k();t.exports=function(m,v){var g=n.parse(m.path),h=n.parse(v.path),b=d(g,h),y=l(g,h,b.length),k=f(m),x=f(v);return b.length===0&&!y?[x,k]:y?i(k,g,x,h):o(k,g,x)};function o(m,v,g,h){if(m.path===g.path)throw new TypeError("cannot commute "+m.op+","+g.op+" with identical object paths");return[g,m]}function i(m,v,g,h){return v.length===h.length?s(m,v,g,h):(v.length>h.length?(v=u(g,h,m,v,-1),m.path=n.absolute(n.join(v))):(h=u(m,v,g,h,1),g.path=n.absolute(n.join(h))),[g,m])}function l(m,v,g){return n.isValidArrayIndex(m[g])&&n.isValidArrayIndex(v[g])}function s(m,v,g,h){var b=v.length-1,y=+v[b],k=+h[b],x;return y<k?m.op==="add"||m.op==="copy"?(x=h.slice(),x[b]=Math.max(0,k-1),g.path=n.absolute(n.join(x))):m.op==="remove"&&(x=h.slice(),x[b]=k+1,g.path=n.absolute(n.join(x))):g.op==="add"||g.op==="copy"?(x=v.slice(),x[b]=y+1,m.path=n.absolute(n.join(x))):y>k&&g.op==="remove"&&(x=v.slice(),x[b]=Math.max(0,y-1),m.path=n.absolute(n.join(x))),[g,m]}function u(m,v,g,h,b){var y=v.length-1,k=+v[y],x=+h[y],S=h.slice();return k>x||(m.op==="add"||m.op==="copy"?S[y]=Math.max(0,x-b):m.op==="remove"&&(S[y]=Math.max(0,x+b))),S}function d(m,v){var g=m.length,h=v.length;if(g===0||h===0||g<2&&h<2)return[];for(var b=g===h?g-1:Math.min(g,h),y=0;y<b&&m[y]===v[y];)++y;return m.slice(0,y)}function f(m){return m.op==="remove"?{op:m.op,path:m.path}:m.op==="copy"||m.op==="move"?{op:m.op,path:m.path,from:m.from}:{op:m.op,path:m.path,value:m.value}}}),AV=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),Lk=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),BV=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),NV=He(e=>{var t=$k(),n=DV(),o=Mre(),i=Ure(),l=zV(),s=AV(),u=Lk(),d=BV(),f=t.find,m=t.parseArrayIndex;e.test={apply:v,inverse:g,commute:h},e.add={apply:b,inverse:k,commute:x},e.remove={apply:j,inverse:V,commute:W},e.replace={apply:S,inverse:_,commute:O},e.move={apply:B,inverse:Z,commute:re},e.copy={apply:D,inverse:G,commute:x};function v(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=ge.target,N,oe;if(Array.isArray(A)?(N=m(ge.key),oe=A[N]):oe=ge.key===void 0?ge.target:ge.target[ge.key],!o(oe,K.value))throw new s("test failed "+JSON.stringify(K));return q}function g(q,K){return q.push(K),1}function h(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function b(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);return ge.key===void 0?A:(y(ge,A),q)}function y(q,K){var ee=q.target;if(Array.isArray(ee))if(q.key==="-")ee.push(K);else{if(q.key>ee.length)throw new u("target of add outside of array bounds");ee.splice(q.key,0,K)}else if(xe(ee))ee[q.key]=K;else throw new u("target of add must be an object or array "+q.key)}function k(q,K){var ee=K.context;return ee!==void 0&&(ee={before:ee.before,after:l.cons(K.value,ee.after)}),q.push({op:"test",path:K.path,value:K.value,context:ee}),q.push({op:"remove",path:K.path,context:ee}),1}function x(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(q,K)}function S(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||Q(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);if(ge.key===void 0)return A;var N=ge.target;return Array.isArray(N)?N[m(ge.key)]=A:N[ge.key]=A,q}function _(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert replace w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.cons(A.value,l.tail(N.after))}),q.push({op:"test",path:A.path,value:K.value}),q.push({op:"replace",path:A.path,value:A.value}),2}function O(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function j(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||ge.target[ge.key]===void 0)throw new u("path does not exist "+K.path);return z(ge),q}function z(q){var K=q.target,ee;if(Array.isArray(K))return ee=K.splice(m(q.key),1),ee[0];if(xe(K))return ee=K[q.key],delete K[q.key],ee;throw new u("target of remove must be an object or array")}function V(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert remove w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.tail(N.after)}),q.push({op:"add",path:A.path,value:A.value,context:N}),2}function W(q,K){return q.path===K.path&&K.op==="remove"?[K,q]:i(q,K)}function B(q,K,ee){if(t.contains(K.path,K.from))throw new u("move.from cannot be ancestor of move.path");var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);return y(ge,z(A)),q}function Z(q,K){return q.push({op:"move",path:K.from,context:K.fromContext,from:K.path,fromContext:K.context}),1}function re(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(q,K)}function D(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);if(C(A)||Q(A))throw new u("copy.from must exist");var N=A.target,oe;return Array.isArray(N)?oe=N[m(A.key)]:oe=N[A.key],y(ge,n(oe)),q}function G(q,K){throw new d("cannot invert "+K.op)}function C(q){return q===void 0||q.target==null&&q.key!==void 0}function Q(q){return q.key!==void 0&&q.target[q.key]===void 0}function xe(q){return q!==null&&typeof q=="object"}}),Vre=He(e=>{var t=NV(),n=DV(),o=Lk();e.apply=l,e.applyInPlace=s,e.clone=n,e.isValidObject=d,e.defaultHash=u;var i={};function l(m,v,g){return s(m,n(v),g)}function s(m,v,g){if(g||(g=i),!Array.isArray(m))return v;for(var h,b,y=0;y<m.length;++y){if(b=m[y],h=t[b.op],h===void 0)throw new o("invalid op "+JSON.stringify(b));v=h.apply(v,b,g)}return v}function u(m){return d(m)||f(m)?JSON.stringify(m):m}function d(m){return m!==null&&Object.prototype.toString.call(m)==="[object Object]"}function f(m){return Object.prototype.toString.call(m)==="[object Array]"}}),Hre=He((e,t)=>{var n=NV();t.exports=function(i){var l=[],s,u;for(s=i.length-1;s>=0;s-=u)u=o(l,i[s],s,i);return l};function o(i,l,s,u){var d=n[l.op];return d!==void 0&&typeof d.inverse=="function"?d.inverse(i,l,s,u):1}}),Kre=He(e=>{var t=Fre(),n=zV(),o=Vre(),i=Hre(),l=$k(),s=l.encodeSegment;e.diff=f,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=i,e.clone=o.clone,e.InvalidPatchOperationError=Lk(),e.TestFailedError=AV(),e.PatchNotInvertibleError=BV();var u=o.isValidObject,d=o.defaultHash;function f(_,O,j){return v(_,O,"",m(j,[])).patch}function m(_,O){return typeof _=="object"?{patch:O,hash:k(S,_.hash,d),makeContext:k(S,_.makeContext,x),invertible:_.invertible!==!1}:{patch:O,hash:k(S,_,d),makeContext:x,invertible:!0}}function v(_,O,j,z){return Array.isArray(_)&&Array.isArray(O)?h(_,O,j,z):u(_)&&u(O)?g(_,O,j,z):y(_,O,j,z)}function g(_,O,j,z){var V=Object.keys(O),W=z.patch,B,Z;for(B=V.length-1;B>=0;--B){Z=V[B];var re=j+"/"+s(Z);_[Z]!==void 0?v(_[Z],O[Z],re,z):W.push({op:"add",path:re,value:O[Z]})}for(V=Object.keys(_),B=V.length-1;B>=0;--B)if(Z=V[B],O[Z]===void 0){var D=j+"/"+s(Z);z.invertible&&W.push({op:"test",path:D,value:_[Z]}),W.push({op:"remove",path:D})}return z}function h(_,O,j,z){var V=n.map(z.hash,_),W=n.map(z.hash,O),B=t.compare(V,W);return b(_,O,j,z,B)}function b(_,O,j,z,V){var W=0;return t.reduce(function(B,Z,re,D){var G,C,Q=B.patch,xe=j+"/"+(D+W);return Z===t.REMOVE?(G=Q[Q.length-1],C=B.makeContext(D,_),B.invertible&&Q.push({op:"test",path:xe,value:_[D],context:C}),G!==void 0&&G.op==="add"&&G.path===xe?(G.op="replace",G.context=C):Q.push({op:"remove",path:xe,context:C}),W-=1):Z===t.ADD?(Q.push({op:"add",path:xe,value:O[re],context:B.makeContext(D,_)}),W+=1):v(_[D],O[re],xe,B),B},z,V)}function y(_,O,j,z){return _!==O&&(z.invertible&&z.patch.push({op:"test",path:j,value:_}),z.patch.push({op:"replace",path:j,value:O})),z}function k(_,O,j){return _(O)?O:j}function x(){}function S(_){return typeof _=="function"}}),$i=He((e,t)=>{function n(o,i){for(var l=0,s=i.length-1;l<s;l++){if(!o[i[l]])return null;o=o[i[l]]}return o}t.exports=n}),Ta=He((e,t)=>{function n(i){return i==="~0"?"~":"/"}function o(i){var l=i.split("/");if(i.indexOf("~")===-1)return l;for(var s=0,u=l.length;s<u;s++)l[s].indexOf("~")!==-1&&(l[s]=l[s].replace(/~[01]/g,n));return l}t.exports=o}),Wre=He((e,t)=>{var n=$i(),o=Ta();function i(l,s){var u=o(s),d=u[u.length-1],f=n(l,u);return f?f[d]:void 0}t.exports=i}),om=He((e,t)=>{function n(o,i){if(o===i)return!0;if(!(o&&i)||typeof o!="object"||typeof i!="object"||o.length!==i.length)return!1;if(Array.isArray(o)){if(!Array.isArray(i))return!1;for(var l=0,s=o.length;l<s;l++)if(!n(o[l],i[l]))return!1;return!0}var u=Object.keys(o);if(u.length!==Object.keys(i).length)return!1;for(var d=0,f=u.length;d<f;d++){var m=u[d];if(!n(o[m],i[m]))return!1}return!0}t.exports=n}),am=He((e,t)=>{function n(o,i){if(i==="-")return o.length;for(var l=0,s=i.length;l<s;l++){var u=i.charCodeAt(l);if(57<u||u<48)return 1/0}return+i}t.exports=n}),im=He((e,t)=>{var n=om(),o=$i(),i=am(),l=Ta();function s(u,d,f,m){if(typeof f>"u")return"[op:add] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:add] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<b)return"[op:add] invalid array index: "+d;m(u,v).splice(b,0,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),FV=He((e,t)=>{var n=$i(),o=am(),i=Ta();function l(s,u,d){var f=i(u),m=f[f.length-1],v=n(s,f);if(v===null)return"[op:remove] path not found: "+u;if(Array.isArray(v)){var g=o(v,m);if(v.length<=g)return"[op:remove] invalid array index: "+u;d(s,f).splice(g,1)}else delete d(s,f)[m]}t.exports=l}),RV=He((e,t)=>{var n=om(),o=$i(),i=am(),l=Ta();function s(u,d,f,m){if(typeof f>"u")return"[op:replace] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:replace] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<=b)return"[op:replace] invalid array index: "+d;n(h[b],f)||m(u,v).splice(b,1,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),MV=He((e,t)=>{var n=im(),o=$i(),i=am(),l=Ta();function s(u,d,f,m){if(f!==d){var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:move] path not found: "+d;var b=void 0;if(Array.isArray(h)){var y=i(h,g);if(h.length<=y)return"[op:move] invalid array index: "+f;b=h[y],m(u,v).splice(y,1)}else b=h[g],delete m(u,v)[g];return n(u,f,b,m)}}t.exports=s}),UV=He((e,t)=>{var n=$i(),o=Ta(),i=im();function l(s,u,d,f){var m=o(u),v=m[m.length-1],g=n(s,m);return g===null?"[op:copy] path not found: "+u:i(s,d,g[v],f)}t.exports=l}),VV=He((e,t)=>{var n=om(),o=$i(),i=Ta();function l(s,u,d){var f=i(u),m=f[f.length-1],v=o(s,f);if(v===null)return"[op:test] path not found: "+u;if(!n(v[m],d)){var g=JSON.stringify(v[m]),h=JSON.stringify(d);return"[op:test] not matched: "+g+" "+h}}t.exports=l}),Zk=He((e,t)=>{function n(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var i=o.length,l=new Array(i),s=0;s<i;s++)l[s]=o[s];return l}for(var u=Object.keys(o),d={},f=0,m=u.length;f<m;f++){var v=u[f];d[v]=o[v]}return d}t.exports=n}),qre=He((e,t)=>{var n=Wre(),o=im(),i=FV(),l=RV(),s=MV(),u=UV(),d=VV(),f=om(),m=Zk(),v=Ta();function g(h,b){return{get:function(y){return n(h,y)},add:function(y,k){return o(h,y,k,b)},remove:function(y){return i(h,y,b)},replace:function(y,k){return l(h,y,k,b)},move:function(y,k){return s(h,y,k,b)},copy:function(y,k){return u(h,y,k,b)},test:function(y,k){return d(h,y,k)},deepEqual:f,shallowCopy:m,toKeys:v}}t.exports=g}),$re=He((e,t)=>{function n(o,i,l,s){return s.error=l,s.partial?i[""]:o}t.exports=n}),Lre=He((e,t)=>{function n(o){return!!o}t.exports=n}),Zre=He((e,t)=>{function n(o){if(o)throw new TypeError(o)}t.exports=n}),Gre=He((e,t)=>{var n=Zk();function o(i,l){for(var s=0,u=l.length-1;s<u;s++)i=i[l[s]]=n(i[l[s]]);return i}t.exports=o}),Xre=He((e,t)=>{var n=Zk();function o(l,s,u){var d=l[s];return u.has(d)||(d=n(d),u.add(d)),d}function i(l,s,u){for(var d=0,f=s.length-1;d<f;d++)l=l[s[d]]=o(l,s[d],u);return l}t.exports=i}),Yre=He((e,t)=>{var n=qre(),o=$re(),i=Lre(),l=Zre(),s=Gre(),u=Xre(),d=im(),f=FV(),m=RV(),v=MV(),g=UV(),h=VV(),b=Set||function(){var k=[];return k.has=function(x){return this.indexOf(x)!==-1},k.add=function(x){this.push(x)},k};function y(k,x,S){if(x.length===0)return k;S=S||{};for(var _=S.strict?l:i,O=x.length===1?s:function(Z){return function(re,D){return u(re,D,Z)}}(new b),j={"":k},z,V=0,W=x.length;V<W;V++){var B=x[V];switch(B.op){case"add":if(_(d(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"remove":if(_(f(j,""+B.path,O)))return o(k,j,B,S);break;case"replace":if(_(m(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"move":if(_(v(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"copy":if(_(g(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"test":if(_(h(j,""+B.path,B.value)))return o(k,j,B,S);break;default:if(S.custom&&S.custom[B.op]){if(z=z||n(j,O),_(S.custom[B.op](z,B,V,x)))return o(k,j,B,S)}else return _("[op:"+B.op+"] unknown"),o(k,j,B,S);break}}return j[""]}t.exports=y}),Qre=He((e,t)=>{t.exports=Yre()}),Jre=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():n.blobCompare=o()})(window,function(){return function(n){var o={};function i(l){if(o[l])return o[l].exports;var s=o[l]={i:l,l:!1,exports:{}};return n[l].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(l,s,u){i.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,s){if(1&s&&(l=i(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)i.d(u,d,(function(f){return l[f]}).bind(null,d));return u},i.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(s,"a",s),s},i.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},i.p="",i(i.s=4)}([function(n,o,i){var l=function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function(g,h){var b=[],y=!0,k=!1,x=void 0;try{for(var S,_=g[Symbol.iterator]();!(y=(S=_.next()).done)&&(b.push(S.value),!h||b.length!==h);y=!0);}catch(O){k=!0,x=O}finally{try{!y&&_.return&&_.return()}finally{if(k)throw x}}return b}(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function m(v,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,h){return g&&m(v.prototype,g),h&&m(v,h),v}}();function u(m){if(Array.isArray(m)){for(var v=0,g=Array(m.length);v<m.length;v++)g[v]=m[v];return g}return Array.from(m)}var d=i(2),f=function(m){function v(g){(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v);var h=function(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?b:y}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return h._messageId=1,h._messages=new Map,h._worker=g,h._worker.onmessage=h._onMessage.bind(h),h._id=Math.ceil(1e7*Math.random()),h}return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(v,m),s(v,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],k=arguments[3];return new Promise(function(x,S){var _=b._messageId++;b._messages.set(_,[x,S,k]),b._worker.postMessage([_,h,g],y||[])})}},{key:"postMessage",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments[2];return new Promise(function(k,x){var S=h._messageId++;h._messages.set(S,[k,x,y]),h._worker.postMessage([S,g],b||[])})}},{key:"emit",value:function(g){for(var h=arguments.length,b=Array(h>1?h-1:0),y=1;y<h;y++)b[y-1]=arguments[y];this._worker.postMessage({eventName:g,args:b})}},{key:"_onMessage",value:function(g){var h;if(!Array.isArray(g.data)&&g.data.eventName)return(h=function S(_,O,j){_===null&&(_=Function.prototype);var z=Object.getOwnPropertyDescriptor(_,O);if(z===void 0){var V=Object.getPrototypeOf(_);return V===null?void 0:S(V,O,j)}if("value"in z)return z.value;var W=z.get;return W!==void 0?W.call(j):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this)).call.apply(h,[this,g.data.eventName].concat(u(g.data.args)));var b,y=(b=g.data,Array.isArray(b)?b:Array.from(b)),k=y[0],x=y.slice(1);if(k===1)this._onEvent.apply(this,u(x));else{if(k!==0)throw new Error("Wrong message type '"+k+"'");this._onResult.apply(this,u(x))}}},{key:"_onResult",value:function(g,h,b){var y=this._messages.get(g),k=l(y,2),x=k[0],S=k[1];return this._messages.delete(g),h===1?x(b):S(b)}},{key:"_onEvent",value:function(g,h,b){var y=this._messages.get(g),k=l(y,3)[2];k&&k(h,b)}}]),v}(d);n.exports=f},function(n,o,i){n.exports=function(){return i(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(n,o,i){var l=function(){function u(d,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,f,m){return f&&u(d.prototype,f),m&&u(d,m),d}}(),s=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return l(u,[{key:"emit",value:function(d){if(!this.__listeners[d])return this;for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];var g=!0,h=!1,b=void 0;try{for(var y,k=this.__listeners[d][Symbol.iterator]();!(g=(y=k.next()).done);g=!0){var x=y.value;x.apply(void 0,m)}}catch(S){h=!0,b=S}finally{try{!g&&k.return&&k.return()}finally{if(h)throw b}}return this}},{key:"once",value:function(d,f){var m=this,v=function g(){m.off(d,g),f.apply(void 0,arguments)};return this.on(d,v)}},{key:"on",value:function(d,f){return this.__listeners[d]||(this.__listeners[d]=[]),this.__listeners[d].push(f),this}},{key:"off",value:function(d,f){return this.__listeners[d]=f?this.__listeners[d].filter(function(m){return m!==f}):[],this}}]),u}();n.exports=s},function(n,o,i){var l=window.URL||window.webkitURL;n.exports=function(s,u){try{try{var d;try{(d=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(s),d=d.getBlob()}catch{d=new Blob([s])}return new Worker(l.createObjectURL(d))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(s))}}catch{if(!u)throw Error("Inline worker is not supported");return new Worker(u)}}},function(n,o,i){i.r(o);var l=i(0),s=i.n(l),u=i(1),d=i.n(u);i.d(o,"workersEnabled",function(){return f}),i.d(o,"default",function(){return m});let f=!!window.Worker;class m{static toBinaryStringWithWorker(g,h){return Vt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("binary",{blob:g,chunk:h});return b.terminate(),y})}static toBinaryStringWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsBinaryString(O)})}(g,h)}static toBinaryString(g,h,b=!0){return b&&f?this.toBinaryStringWithWorker(g,h):this.toBinaryStringWithoutWorker(g,h)}static toArrayBufferWithWorker(g,h){return Vt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("buffer",{blob:g,chunk:h});return b.terminate(),y})}static toArrayBufferWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsArrayBuffer(O)})}(g,h)}static toArrayBuffer(g,h,b=!0){return b&&f?this.toArrayBufferWithWorker(g,h):this.toArrayBufferWithoutWorker(g,h)}static compareBuffersWithWorker(g,h){return Vt(this,null,function*(){if(g===h)return!0;let b=new s.a(new d.a),y=yield b.exec("compare",{buf1:g,buf2:h},[g,h]);return b.terminate(),y})}static compareBuffersWithoutWorker(g,h){return function(b,y){if(b===y)return!0;if(b.byteLength!==y.byteLength)return!1;let k=new DataView(b),x=new DataView(y);for(var S=b.byteLength;S--;)if(k.getUint8(S)!==x.getUint8(S))return!1;return!0}(g,h)}static compareBuffers(g,h,b=!0){return b&&f?this.compareBuffersWithWorker(g,h):this.compareBuffersWithoutWorker(g,h)}static sizeEqual(g,h){return g.size===h.size}static typeEqual(g,h){return g.type===h.type}static magicNumbersEqual(g,h,b=!0){return Vt(this,null,function*(){if(g===h)return!0;let y=[24,16,14,12,8,6,4],[k,x]=yield Promise.all([this.toBinaryString(g,24,b),this.toBinaryString(h,24,b)]);for(let S of y)if(k.substring(0,S)===x.substring(0,S))return!0;return!1})}static bytesEqualWithBinaryString(g,h,b,y=!0){return Vt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toBinaryString(g,b,y),this.toBinaryString(h,b,y)]);return k===x})}static bytesEqualWithArrayBuffer(g,h,b,y=!0){return Vt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toArrayBuffer(g,b,y),this.toArrayBuffer(h,b,y)]);return this.compareBuffers(k,x,y)})}static isEqual(g,h){return Vt(this,arguments,function*(b,y,{methods:k=["size","type","magic","byte"],byte:x="buffer",partial:S=!1,chunks:_=null,worker:O=!0}={}){let j=null;for(let z of k){if(j===!1||S&&j===!0)break;switch(z){case"byte":case"bytes":case"content":_=_ instanceof Array?_:[b.size],j=!0;for(let V of _){let W=!1;W=x==="buffer"?yield this.bytesEqualWithArrayBuffer(b,y,V,O):yield this.bytesEqualWithBinaryString(b,y,V,O),W||(j=!1)}break;case"magic":case"headers":case"numbers":case"mime":j=yield this.magicNumbersEqual(b,y,O);break;case"size":case"sizes":j=this.sizeEqual(b,y);break;case"type":case"types":j=this.typeEqual(b,y);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return j})}}}])})}),HV={};s2(HV,{ToolbarDropdownSelect:()=>vae,default:()=>bae}),Mr.exports=hq(HV),Ne(),Ag();var KV=je;Qa();var eoe=0,toe=class{constructor(e){this._studio=e,et(this,"_id"),et(this,"_state",{type:"Ready"}),this._id=String(eoe++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=L({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],n=this._studio.tempTransaction(i=>{let l=!0,s={set:(u,d)=>{if(!l)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:f,path:m}=(0,KV.getPointerParts)(u);if(!sr(f))throw new Error("We can only scrub props of Sheet Objects for now");i.set(u,d),t.push(u)}};try{e(s)}finally{l=!1}}),o=this._studio.tempTransaction(({stateEditors:i})=>{t.forEach(l=>{let{root:s,path:u}=(0,KV.getPointerParts)(l);if(!sr(s))return;let d=s.template.getDefaultsAtPointer(l);Dd(d,(f,m)=>{i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(he(L({},s.address),{pathToProp:m}))},u)})});return{transaction:n,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},noe=je,WV=typeof window<"u"?Promise.resolve().then(()=>(Nre(),IV)).then(e=>e.default):null,roe=class{constructor(e){this.studio=e,et(this,"_rendered",!1),et(this,"_nonSSRBits",WV?WV.then(t=>new t):Promise.reject()),et(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,noe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let n=!1,o=null;return this._nonSSRBits.then(i=>{n||(o=i.renderToolset(e,t))}).catch(i=>{console.error(i)}),()=>{if(o){o();return}n||(n=!0)}}},lm=je;function ooe(e){return e}var aoe=(e,t=ooe)=>{let n=o=>({type:e,payload:t(o)});return n.type=e,n.is=o=>o&&o.type&&o.type===e,n},fo=aoe,qV=$(Kre()),$V=$(Qre());hf();var sm,ioe=new Uint8Array(16);function loe(){if(!sm&&(sm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sm(ioe)}var soe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function uoe(e){return typeof e=="string"&&soe.test(e)}var coe=uoe,Jt=[];for(um=0;um<256;++um)Jt.push((um+256).toString(16).substr(1));var um;function doe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Jt[e[t+0]]+Jt[e[t+1]]+Jt[e[t+2]]+Jt[e[t+3]]+"-"+Jt[e[t+4]]+Jt[e[t+5]]+"-"+Jt[e[t+6]]+Jt[e[t+7]]+"-"+Jt[e[t+8]]+Jt[e[t+9]]+"-"+Jt[e[t+10]]+Jt[e[t+11]]+Jt[e[t+12]]+Jt[e[t+13]]+Jt[e[t+14]]+Jt[e[t+15]]).toLowerCase();if(!coe(n))throw TypeError("Stringified UUID is invalid");return n}var foe=doe;function poe(e,t,n){e=e||{};var o=e.random||(e.rng||loe)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return foe(o)}var hoe=poe,Kc={replaceHistory:fo("@history/replaceHistory"),startHistoryFromScratch:fo("@history/startHistoryFromScratch"),undo:fo("@history/undo"),redo:fo("@history/redo")},moe={type:"@history/unknownAction",payload:""},goe={maxNumberOfCommits:100},voe=(e,t=goe)=>{let n=Gk(e(void 0,moe));return function(o,i){return Kc.startHistoryFromScratch.is(i)?Gk(e(void 0,i.payload)):Kc.replaceHistory.is(i)?i.payload:Kc.undo.is(i)?o?koe(o):n:Kc.redo.is(i)?o?woe(o):n:o?yoe(o,e(o.innerState,i),t):Gk(e(void 0,i))}};function Gk(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function yoe(e,t,n){if(t===e.innerState)return e;let o=boe(e.innerState,t);if(o.forwardDiff.length===0)return e;let i=oi(e.listOfCommitHashes),l={currentCommitHash:o.hash,commitsByHash:L({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let s=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);e.listOfCommitHashes.slice(s+1).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(s+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(o.hash),l.commitsByHash[o.hash]=o,l.listOfCommitHashes.length>n.maxNumberOfCommits){let s=l.listOfCommitHashes.length-n.maxNumberOfCommits;l.listOfCommitHashes.slice(0,s).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(0,s)}return l}function boe(e,t){let n=qV.default.diff(e,t,{invertible:!1}),o=qV.default.diff(t,e,{invertible:!1}),i=Date.now(),l=hoe();return{forwardDiff:n,backwardDiff:o,timestamp:i,hash:l}}function koe(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],o=(0,$V.default)(e.innerState,n.backwardDiff),i=t-1,l=i===-1?void 0:e.listOfCommitHashes[i];return he(L({},e),{currentCommitHash:l,innerState:o})}function woe(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,o=e.listOfCommitHashes[n],i=e.commitsByHash[o],l=(0,$V.default)(e.innerState,i.forwardDiff);return he(L({},e),{currentCommitHash:o,innerState:l})}Kh();var cm={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},LV=fo("@storeBundle/replacePersistentState",e=>e),ZV=fo("@storeBundle/reduceParts",e=>e),ks={historic:Kc,replacePersistentState:LV,reduceParts:ZV},GV=fo("@storeBundle/setInnerHistoricState",e=>e),xoe=(e=cm.historic,t)=>GV.is(t)?t.payload:e,Xk=voe(xoe),XV=(e,t)=>{if(LV.is(t)){let{historic:n,ahistoric:o}=t.payload,i=(e==null?void 0:e.ephemeral)||cm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}else if(e){let{historic:n,ahistoric:o}=e.$persistent,{ephemeral:i}=e;if(ZV.is(t)){let l={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},s=t.payload(l);if(s===l)return e;n.innerState!==s.historic&&(n=Xk(n,GV(s.historic))),o=s.ahistoric,i=s.ephemeral}else{let l=Xk(n,t);if(l===n)return e;n=l}return{$persistent:n===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:o},ephemeral:i}}else{let n=Xk(void 0,{}),o=cm.ahistoric,i=cm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}},YV=fo("@history/pushTempAction",e=>e),QV=fo("@history/discardTempAction",e=>e),JV=fo("@history/commitTempAction",e=>e),Soe=0,Eoe=()=>{let e=Soe++;return{push:t=>YV({id:e,originalAction:t}),discard:()=>QV(e),commit:()=>JV(e)}},_oe=(e,t)=>{if(e){let{tempActions:n,permanent:o}=e.$temps,i;if(YV.is(t))n=[...n,t];else if(JV.is(t)){let s=n.find(u=>u.payload.id===t.payload);s?(i=s.payload.originalAction,n=n.filter(u=>u.payload.id!==t.payload)):Hh.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else QV.is(t)?n=n.filter(s=>s.payload.id!==t.payload):i=t;i&&(o=XV(e.$temps.permanent,i));let l={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let s of n)l=s.payload.originalAction.payload(l);return L({$temps:{tempActions:n,permanent:o},$persistent:o.$persistent},l)}else{let n=XV(void 0,t);return{$temps:{permanent:n,tempActions:[]},$persistent:n.$persistent,historic:n.$persistent.historic.innerState,ahistoric:n.$persistent.ahistoric,ephemeral:n.ephemeral}}};Jr(),Jr(),Oo();function eH(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let s of Object.keys(e))delete e[s];return}let n=t.slice(0,t.length-1),o=e,i=new WeakMap;for(let s of n){let u=o,d=u[s];if(typeof d!="object"||d===null)return;i.set(d,u),o=d}let l=t.slice().reverse();for(let s of l){if(delete o[s],Object.keys(o).length>0)return;o=i.get(o)}}function Poe(e,{scale:t,origin:n,translate:o}){let i=n+(e-n)*t;return o+i}function Cr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ws(e){return!!e&&!!e[Rn]}function Li(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Doe}(e)||Array.isArray(e)||!!e[cH]||!!e.constructor[cH]||Qk(e)||Jk(e))}function Wc(e,t,n){n===void 0&&(n=!1),xs(e)===0?(n?Object.keys:dw)(e).forEach(function(o){n&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,i){return t(i,o,e)})}function xs(e){var t=e[Rn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Qk(e)?2:Jk(e)?3:0}function Yk(e,t){return xs(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Coe(e,t){return xs(e)===2?e.get(t):e[t]}function tH(e,t,n){var o=xs(e);o===2?e.set(t,n):o===3?(e.delete(t),e.add(n)):e[t]=n}function Ioe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Qk(e){return Toe&&e instanceof Map}function Jk(e){return zoe&&e instanceof Set}function Zi(e){return e.o||e.t}function ew(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Aoe(e);delete t[Rn];for(var n=dw(t),o=0;o<n.length;o++){var i=n[o],l=t[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(t[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function tw(e,t){return t===void 0&&(t=!1),nw(e)||ws(e)||!Li(e)||(xs(e)>1&&(e.set=e.add=e.clear=e.delete=joe),Object.freeze(e),t&&Wc(e,function(n,o){return tw(o,!0)},!0)),e}function joe(){Cr(2)}function nw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Vo(e){var t=Boe[e];return t||Cr(18,e),t}function nH(){return qc}function rw(e,t){t&&(Vo("Patches"),e.u=[],e.s=[],e.v=t)}function dm(e){ow(e),e.p.forEach(Ooe),e.p=null}function ow(e){e===qc&&(qc=e.l)}function rH(e){return qc={p:[],l:qc,h:e,m:!0,_:0}}function Ooe(e){var t=e[Rn];t.i===0||t.i===1?t.j():t.O=!0}function aw(e,t){t._=t.p.length;var n=t.p[0],o=e!==void 0&&e!==n;return t.h.g||Vo("ES5").S(t,e,o),o?(n[Rn].P&&(dm(t),Cr(4)),Li(e)&&(e=fm(t,e),t.l||pm(t,e)),t.u&&Vo("Patches").M(n[Rn],e,t.u,t.s)):e=fm(t,n,[]),dm(t),t.u&&t.v(t.u,t.s),e!==uH?e:void 0}function fm(e,t,n){if(nw(t))return t;var o=t[Rn];if(!o)return Wc(t,function(l,s){return oH(e,o,t,l,s,n)},!0),t;if(o.A!==e)return t;if(!o.P)return pm(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=o.i===4||o.i===5?o.o=ew(o.k):o.o;Wc(o.i===3?new Set(i):i,function(l,s){return oH(e,o,i,l,s,n)}),pm(e,i,!1),n&&e.u&&Vo("Patches").R(o,n,e.u,e.s)}return o.o}function oH(e,t,n,o,i,l){if(ws(i)){var s=fm(e,i,l&&t&&t.i!==3&&!Yk(t.D,o)?l.concat(o):void 0);if(tH(n,o,s),!ws(s))return;e.m=!1}if(Li(i)&&!nw(i)){if(!e.h.F&&e._<1)return;fm(e,i),t&&t.A.l||pm(e,i)}}function pm(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&tw(t,n)}function iw(e,t){var n=e[Rn];return(n?Zi(n):e)[t]}function aH(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function lw(e){e.P||(e.P=!0,e.l&&lw(e.l))}function sw(e){e.o||(e.o=ew(e.t))}function uw(e,t,n){var o=Qk(t)?Vo("MapSet").N(t,n):Jk(t)?Vo("MapSet").T(t,n):e.g?function(i,l){var s=Array.isArray(i),u={i:s?1:0,A:l?l.A:nH(),P:!1,I:!1,D:{},l,t:i,k:null,o:null,j:null,C:!1},d=u,f=mm;s&&(d=[u],f=gm);var m=Proxy.revocable(d,f),v=m.revoke,g=m.proxy;return u.k=g,u.j=v,g}(t,n):Vo("ES5").J(t,n);return(n?n.A:nH()).p.push(o),o}function hm(e){return ws(e)||Cr(22,e),function t(n){if(!Li(n))return n;var o,i=n[Rn],l=xs(n);if(i){if(!i.P&&(i.i<4||!Vo("ES5").K(i)))return i.t;i.I=!0,o=iH(n,l),i.I=!1}else o=iH(n,l);return Wc(o,function(s,u){i&&Coe(i.t,s)===u||tH(o,s,t(u))}),l===3?new Set(o):o}(e)}function iH(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ew(e)}var lH,qc,cw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Toe=typeof Map<"u",zoe=typeof Set<"u",sH=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",uH=cw?Symbol.for("immer-nothing"):((lH={})["immer-nothing"]=!0,lH),cH=cw?Symbol.for("immer-draftable"):"__$immer_draftable",Rn=cw?Symbol.for("immer-state"):"__$immer_state",Doe=""+Object.prototype.constructor,dw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Aoe=Object.getOwnPropertyDescriptors||function(e){var t={};return dw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Boe={},mm={get:function(e,t){if(t===Rn)return e;var n=Zi(e);if(!Yk(n,t))return function(i,l,s){var u,d=aH(l,s);return d?"value"in d?d.value:(u=d.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var o=n[t];return e.I||!Li(o)?o:o===iw(e.t,t)?(sw(e),e.o[t]=uw(e.A.h,o,e)):o},has:function(e,t){return t in Zi(e)},ownKeys:function(e){return Reflect.ownKeys(Zi(e))},set:function(e,t,n){var o=aH(Zi(e),t);if(o!=null&&o.set)return o.set.call(e.k,n),!0;if(!e.P){var i=iw(Zi(e),t),l=i==null?void 0:i[Rn];if(l&&l.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ioe(n,i)&&(n!==void 0||Yk(e.t,t)))return!0;sw(e),lw(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return iw(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,sw(e),lw(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Zi(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty:function(){Cr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Cr(12)}},gm={};Wc(mm,function(e,t){gm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),gm.deleteProperty=function(e,t){return mm.deleteProperty.call(this,e[0],t)},gm.set=function(e,t,n){return mm.set.call(this,e[0],t,n,e[0])};var Noe=function(){function e(n){var o=this;this.g=sH,this.F=!0,this.produce=function(i,l,s){if(typeof i=="function"&&typeof l!="function"){var u=l;l=i;var d=o;return function(h){var b=this;h===void 0&&(h=u);for(var y=arguments.length,k=Array(y>1?y-1:0),x=1;x<y;x++)k[x-1]=arguments[x];return d.produce(h,function(S){var _;return(_=l).call.apply(_,[b,S].concat(k))})}}var f;if(typeof l!="function"&&Cr(6),s!==void 0&&typeof s!="function"&&Cr(7),Li(i)){var m=rH(o),v=uw(o,i,void 0),g=!0;try{f=l(v),g=!1}finally{g?dm(m):ow(m)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return rw(m,s),aw(h,m)},function(h){throw dm(m),h}):(rw(m,s),aw(f,m))}if(!i||typeof i!="object")return(f=l(i))===uH?void 0:(f===void 0&&(f=i),o.F&&tw(f,!0),f);Cr(21,i)},this.produceWithPatches=function(i,l){return typeof i=="function"?function(d){for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];return o.produceWithPatches(d,function(g){return i.apply(void 0,[g].concat(m))})}:[o.produce(i,l,function(d,f){s=d,u=f}),s,u];var s,u},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Li(n)||Cr(8),ws(n)&&(n=hm(n));var o=rH(this),i=uw(this,n,void 0);return i[Rn].C=!0,ow(o),i},t.finishDraft=function(n,o){var i=n&&n[Rn],l=i.A;return rw(l,o),aw(void 0,l)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!sH&&Cr(20),this.g=n},t.applyPatches=function(n,o){var i;for(i=o.length-1;i>=0;i--){var l=o[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}var s=Vo("Patches").$;return ws(n)?s(n,o):this.produce(n,function(u){return s(u,o.slice(i+1))})},e}(),Mn=new Noe;Mn.produce,Mn.produceWithPatches.bind(Mn),Mn.setAutoFreeze.bind(Mn),Mn.setUseProxies.bind(Mn),Mn.applyPatches.bind(Mn);var fw=Mn.createDraft.bind(Mn),pw=Mn.finishDraft.bind(Mn);kG(),IG(),$G(),Q0(),GG(),Uh(),Ft(),Qa();var Ir={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,o]of e)t.byId[n]=o,t.allIds[n]=!0;return t},shallowCopy(e){return{byId:L({},e==null?void 0:e.byId),allIds:L({},e==null?void 0:e.allIds)}},add(e,t,n){return{byId:he(L({},e==null?void 0:e.byId),{[t]:n}),allIds:he(L({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=Ir.create();for(let n=0;n<e.length;n++)t.byId=L(L({},t.byId),e[n].byId),t.allIds=L(L({},t.allIds),e[n].allIds);return t},remove(e,t){let n=Ir.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=Ir.shallowCopy(e);for(let[o,i]of Object.entries(n.byId))t(i)||(delete n.allIds[o],delete n.byId[o]);return n}},dH=e=>(hw=e,mw),hw,en=()=>{if(hw===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return hw},mw;(e=>{(t=>{(n=>{(o=>{function i(l){let s=en().historic;s.panelPositions!=null||(s.panelPositions={}),s.panelPositions[l.panelId]=l.position}o.setPanelPosition=i})(n.panelPositions||(n.panelPositions={})),(o=>{function i(){var l;return(l=en().historic).panels!=null||(l.panels={}),en().historic.panels}o._ensure=i,(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.outlinePanel!=null||(u.outlinePanel={}),u.outlinePanel}l._ensure=s,(u=>{function d(m){let v=[];for(let g of ra(m))Bg(g)?v.push(L({type:"Project"},g.address)):Ad(g)?(v.push(L({type:"Sheet"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.address)):p2(g)?v.push(L({type:"Sheet"},g.address)):sr(g)?(v.push(L({type:"SheetObject"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.sheet.address)):m2(g)&&v.push(L({type:"SheetObject"},g.address));l._ensure().selection=v}u.set=d;function f(){l._ensure().selection=[]}u.unset=f})(l.selection||(l.selection={}))})(o.outline||(o.outline={})),(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.sequenceEditor!=null||(u.sequenceEditor={}),u.sequenceEditor}l._ensure=s,(u=>{function d(){let m=l._ensure();return m.graphEditor!=null||(m.graphEditor={height:.5,isOpen:!1}),m.graphEditor}function f(m){d().isOpen=m.isOpen}u.setIsOpen=f})(l.graphEditor||(l.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(n.panels||(n.panels={})),(o=>{(i=>{function l(s){let u=en().historic;return u.projects.stateByProjectId[s.projectId]||(u.projects.stateByProjectId[s.projectId]={stateBySheetId:{}}),u.projects.stateByProjectId[s.projectId]}i._ensure=l,(s=>{function u(f){let m=e.studio.historic.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),m.stateBySheetId[f.sheetId]}s._ensure=u;function d(f){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(f).selectedInstanceId=f.sheetInstanceId}s.setSelectedInstanceId=d,(f=>{function m(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;x[k.objectKey]||(x[k.objectKey]={});let S=x[k.objectKey],_=Qr(k.pathToProp),O=new Set(Object.keys(Dc));for(let[z,V]of Object.entries(hm(x)))for(let[W,B]of Object.entries(V))O.delete(B);let j=O.size>0?O.values().next().value:Object.keys(Dc)[0];S[_]=j}f.addPropToGraphEditor=m;function v(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;if(!x[k.objectKey])return;let S=x[k.objectKey],_=Qr(k.pathToProp);S[_]&&eH(x,[k.objectKey,_])}f.removePropFromGraphEditor=v;function g(k){let x=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(k).sequenceEditor;return x.markerSet||(x.markerSet=Ir.create()),x.markerSet}function h(k){let x=g(k.sheetAddress),S=k.markers.filter(z=>!!isFinite(z.position)).map(z=>he(L({},z),{position:k.snappingFunction(z.position)})),_=mu(S,"id"),O=Ir.filter(x,z=>z&&!_[z.id]),j=mu(Object.values(O.byId),"position");S.forEach(({position:z})=>{let V=j[z];V&&(O=Ir.remove(O,V.id))}),Object.assign(x,Ir.merge([O,Ir.create(S.map(z=>[z.id,z]))]))}f.replaceMarkers=h;function b(k){let x=g(k.sheetAddress);Object.assign(x,Ir.remove(x,k.markerId))}f.removeMarker=b;function y(k){let x=g(k.sheetAddress).byId[k.markerId];x!==void 0&&(x.label=k.label)}f.updateMarker=y})(s.sequenceEditor||(s.sequenceEditor={}))})(i.stateBySheetId||(i.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.historic||(t.historic={})),(n=>{function o(i){en().ephemeral.showOutline=i}n.setShowOutline=o,(i=>{(l=>{function s(u){let d=en().ephemeral;return d.projects.stateByProjectId[u.projectId]||(d.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),d.projects.stateByProjectId[u.projectId]}l._ensure=s,(u=>{function d(f){let m=e.studio.ephemeral.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={stateByObjectKey:{}}),m.stateBySheetId[f.sheetId]}u._ensure=d,(f=>{function m(v){var g;let h=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(v).stateByObjectKey;return h[g=v.objectKey]!=null||(h[g]={}),h[v.objectKey]}f._ensure=m,(v=>{function g(b){let y=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(b);return y.valuesBeingScrubbed!=null||(y.valuesBeingScrubbed={}),y.valuesBeingScrubbed}v._ensure=g;function h(b){_l(g(b),b.pathToProp,!0)}v.flag=h})(f.propsBeingScrubbed||(f.propsBeingScrubbed={}))})(u.stateByObjectKey||(u.stateByObjectKey={}))})(l.stateBySheetId||(l.stateBySheetId={}))})(i.stateByProjectId||(i.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ephemeral||(t.ephemeral={})),(n=>{function o(d){en().ahistoric.pinOutline=d}n.setPinOutline=o;function i(d){en().ahistoric.pinDetails=d}n.setPinDetails=i;function l(d){en().ahistoric.pinNotifications=d}n.setPinNotifications=l;function s(d){en().ahistoric.visibilityState=d}n.setVisibilityState=s;function u(d){let f=Jp(d.map(g=>g.pathToProp)),m=d.map(({keyframe:g,pathToProp:h})=>({keyframe:g,pathToProp:h.slice(f.length)})),v=en();v.ahistoric.clipboard?v.ahistoric.clipboard.keyframesWithRelativePaths=m:v.ahistoric.clipboard={keyframesWithRelativePaths:m}}n.setClipboardKeyframes=u,(d=>{(f=>{function m(v){let g=en().ahistoric;return g.projects.stateByProjectId[v.projectId]||(g.projects.stateByProjectId[v.projectId]={stateBySheetId:{}}),g.projects.stateByProjectId[v.projectId]}f._ensure=m,(v=>{function g(b){let y=e.studio.ahistoric.projects.stateByProjectId._ensure(b);return y.collapsedItemsInOutline||(y.collapsedItemsInOutline={}),y.collapsedItemsInOutline}v._ensure=g;function h(b){let y=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(b);b.isCollapsed?y[b.itemKey]=!0:delete y[b.itemKey]}v.set=h})(f.collapsedItemsInOutline||(f.collapsedItemsInOutline={})),(v=>{function g(h){let b=e.studio.ahistoric.projects.stateByProjectId._ensure(h);return b.stateBySheetId[h.sheetId]||(b.stateBySheetId[h.sheetId]={}),b.stateBySheetId[h.sheetId]}v._ensure=g,(h=>{function b(y){let k=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(y);return k.sequence||(k.sequence={}),k.sequence}h._ensure=b,(y=>{function k(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange={range:S.range,enabled:S.enabled}}y.set=k;function x(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange=void 0}y.unset=x})(h.focusRange||(h.focusRange={})),(y=>{function k(x){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(x).clippedSpaceRange=L({},x.range)}y.set=k})(h.clippedSpaceRange||(h.clippedSpaceRange={})),(y=>{function k(S){let _=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S),O=_.collapsableItems;return O||(O=_.collapsableItems=Ir.create()),O}function x(S){let _=k(S);Object.assign(_,Ir.add(_,S.studioSheetItemKey,{isCollapsed:S.isCollapsed}))}y.set=x})(h.sequenceEditorCollapsableItems||(h.sequenceEditorCollapsableItems={}))})(v.sequence||(v.sequence={}))})(f.stateBySheetId||(f.stateBySheetId={}))})(d.stateByProjectId||(d.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(n=>{(o=>{function i(l){let s=en().historic.coreByProject[l.projectId].revisionHistory,u=50;s.unshift(l.revision),s.length>u&&(s.length=u)}o.add=i})(n.revisionHistory||(n.revisionHistory={})),(o=>{function i(u){let d=en().historic.coreByProject[u.projectId].sheetsById;return d[u.sheetId]||(d[u.sheetId]={staticOverrides:{byObject:{}}}),d[u.sheetId]}o._ensure=i;function l(u){let d=en().historic.coreByProject[u.projectId].sheetsById[u.sheetId];if(!d)return;delete d.staticOverrides.byObject[u.objectKey];let f=d.sequence;f&&delete f.tracksByObject[u.objectKey]}o.forgetObject=l;function s(u){en().historic.coreByProject[u.projectId].sheetsById[u.sheetId]&&delete en().historic.coreByProject[u.projectId].sheetsById[u.sheetId]}o.forgetSheet=s,(u=>{function d(B){let Z=e.coreByProject.historic.sheetsById._ensure(B);return Z.sequence!=null||(Z.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),Z.sequence}u._ensure=d;function f(B){d(B).length=kt(parseFloat(B.length.toFixed(2)),.01,1/0)}u.setLength=f;function m(B){d(B).subUnitsPerUnit=kt(B.subUnitsPerUnit,1,pq(2,12))}u.setSubUnitsPerUnit=m;function v(B){var Z;let re=e.coreByProject.historic.sheetsById.sequence._ensure(B).tracksByObject;return re[Z=B.objectKey]!=null||(re[Z]={trackData:{},trackIdByPropPath:{}}),re[B.objectKey]}function g(B,Z){let re=v(B),D=Qr(B.pathToProp);if(typeof re.trackIdByPropPath[D]=="string")return;let G=VJ(),C={type:"BasicKeyframedTrack",__debugName:"".concat(B.objectKey,":").concat(D),keyframes:[]};re.trackData[G]=C,re.trackIdByPropPath[D]=G}u.setPrimitivePropAsSequenced=g;function h(B){let Z=v(B),re=Qr(B.pathToProp),D=Z.trackIdByPropPath[re];typeof D=="string"&&(delete Z.trackIdByPropPath[re],delete Z.trackData[D],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(B))}u.setPrimitivePropAsStatic=h;function b(B){let Z=v(B);for(let re of Object.keys(Z.trackIdByPropPath)){let D=JSON.parse(re);if(B.pathToProp.every((G,C)=>D[C]===G)){let G=Z.trackIdByPropPath[re];if(typeof G!="string")continue;delete Z.trackIdByPropPath[re],delete Z.trackData[G]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(B)}u.setCompoundPropAsStatic=b;function y(B){return v(B).trackData[B.trackId]}function k(B){let Z=y(B);if(Z)return Z.keyframes.find(re=>re.id===B.keyframeId)}function x(B){let Z=B.snappingFunction(B.position),re=y(B);if(!re)return;let{keyframes:D}=re,G=D.findIndex(xe=>xe.position===Z);if(G!==-1){let xe=D[G];xe.value=B.value;return}let C=v5(D,xe=>xe.position<Z);if(C===-1){D.unshift({id:f8(),position:Z,connectedRight:!0,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value});return}let Q=D[C];D.splice(C+1,0,{id:f8(),position:Z,connectedRight:Q.connectedRight,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value})}u.setKeyframeAtPosition=x;function S(B){let Z=y(B);if(!Z)return;let{keyframes:re}=Z,D=re.findIndex(G=>G.position===B.position);D!==-1&&re.splice(D,1)}u.unsetKeyframeAtPosition=S;function _(B){let Z=y(B);if(!Z)return;let re=hm(Z.keyframes).filter(D=>B.keyframeIds.includes(D.id)).map(D=>{let G=D.position,C=B.snappingFunction(Poe(G,B));return he(L({},D),{position:C})});W(he(L({},B),{keyframes:re}))}u.transformKeyframes=_;function O(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.map((re,D)=>{let G=Z.keyframes[D-1],C=B.keyframeIds.includes(re.id),Q=B.keyframeIds.includes(G==null?void 0:G.id);return C&&!Q?he(L({},re),{handles:[re.handles[0],re.handles[1],B.handles[0],B.handles[1]]}):C&&Q?he(L({},re),{handles:[B.handles[2],B.handles[3],B.handles[0],B.handles[1]]}):Q?he(L({},re),{handles:[B.handles[2],B.handles[3],re.handles[2],re.handles[3]]}):re}))}u.setTweenBetweenKeyframes=O;function j(B){var Z,re,D,G,C,Q,xe,q;let K=k(B);K&&(K.handles=[(re=(Z=B.end)==null?void 0:Z[0])!=null?re:K.handles[0],(G=(D=B.end)==null?void 0:D[1])!=null?G:K.handles[1],(Q=(C=B.start)==null?void 0:C[0])!=null?Q:K.handles[2],(q=(xe=B.start)==null?void 0:xe[1])!=null?q:K.handles[3]])}u.setHandlesForKeyframe=j;function z(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.filter(re=>B.keyframeIds.indexOf(re.id)===-1))}u.deleteKeyframes=z;function V(B){let Z=k(B);Z&&(Z.type=B.keyframeType)}u.setKeyframeType=V;function W(B){let Z=y(B);if(!Z)return;let re=hm(Z.keyframes),D=B.keyframes.filter(q=>!(typeof q.value=="number"&&!isFinite(q.value)||!q.handles.every(K=>isFinite(K)))).map(q=>he(L({},q),{position:B.snappingFunction(q.position)})),G=mu(D,"id"),C=re.filter(q=>!G[q.id]),Q=mu(C,"position");D.forEach(({position:q})=>{let K=Q[q];K&&B5(C,K)});let xe=M5([...C,...D],"position");Z.keyframes=xe}u.replaceKeyframes=W})(o.sequence||(o.sequence={})),(u=>{(d=>{function f(h){var b;let y=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject;return y[b=h.objectKey]!=null||(y[b]={}),y[h.objectKey]}function m(h){let b=f(h);_l(b,h.pathToProp,h.value)}d.setValueOfCompoundProp=m;function v(h){let b=f(h);_l(b,h.pathToProp,h.value)}d.setValueOfPrimitiveProp=v;function g(h){let b=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject[h.objectKey];b&&eH(b,h.pathToProp)}d.unsetValueOfPrimitiveProp=g})(u.byObject||(u.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(n.sheetsById||(n.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(mw||(mw={}));function gw(){let e,t,n=new Promise((i,l)=>{e=s=>{i(s),o.status="resolved"},t=s=>{l(s),o.status="rejected"}}),o={resolve:e,reject:t,promise:n,status:"pending"};return o}var Foe=je;function Roe(e){let t=e.getState(),n=new Foe.Atom(t);return e.subscribe(()=>{let o=e.getState();n.set(o),t=o}),n}C_();function Moe(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var $c;typeof self<"u"?$c=self:typeof window<"u"?$c=window:typeof Wn<"u"?$c=Wn:$c=Mr;var Uoe=Moe($c),fH=Uoe,pH={INIT:"@@redux/INIT"};function hH(e,t,n){var o;if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(hH)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,l=t,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){return l}function v(y){if(typeof y!="function")throw new Error("Expected listener to be a function.");var k=!0;return f(),u.push(y),function(){if(k){k=!1,f();var x=u.indexOf(y);u.splice(x,1)}}}function g(y){if(!af(y))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof y.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=i(l,y)}finally{d=!1}for(var k=s=u,x=0;x<k.length;x++){var S=k[x];S()}return y}function h(y){if(typeof y!="function")throw new Error("Expected the nextReducer to be a function.");i=y,g({type:pH.INIT})}function b(){var y,k=v;return y={subscribe:function(x){if(typeof x!="object")throw new TypeError("Expected the observer to be an object.");function S(){x.next&&x.next(m())}S();var _=k(S);return{unsubscribe:_}}},y[fH]=function(){return this},y}return g({type:pH.INIT}),o={dispatch:g,subscribe:v,getState:m,replaceReducer:h},o[fH]=b,o}function Voe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,i){return function(){return o(i.apply(void 0,arguments))}})}function Hoe(e){let t=Voe();return hH(e.rootReducer,void 0,t)}Kh(),f5();var vw=new WeakMap,Koe=(e,t,n)=>{let o=d=>{e.dispatch(ks.replacePersistentState(d))},i=mH(n),l=()=>e.getState().$persistent;u();let s=()=>{let d=l(),f=vw.get(e);d!==f&&(vw.set(e,d),localStorage.setItem(i,JSON.stringify(d)))};e.subscribe(L0(s,1e3)),window&&window.addEventListener("beforeunload",s);function u(){let d=localStorage.getItem(i);if(d){let f,m=!0;try{f=JSON.parse(d),m=!1}catch{Hh.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{m||o(f),t()}}else t()}},Woe=(e,t)=>{let n=mH(t),o=e.getState().$persistent;localStorage.removeItem(n),vw.set(e,o)};function mH(e){return e+".persistent"}xT(),Qa(),du(),x5(),Ag(),wp();var vm=je;da(),Ft(),lU();function yw(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(af(e)){let t={},n=!1;for(let[o,i]of Object.entries(e))yw(i)!==void 0&&(t[o]=i,n=!0);if(n)return t}else return}function gH(e,t,n){for(let[o,i]of Object.entries(e.props))if(i.type==="compound")gH(i,[...t,o],n);else{if(i.type==="enum")throw new Error("Not yet implemented");n(i,[...t,o])}}function qoe(e,t,n){return{set:(o,i)=>{e();let l=yw(i);if(typeof l>"u")return;let{root:s,path:u}=(0,vm.getPointerParts)(o);if(sr(s)){let d=s.template.getMapOfValidSequenceTracks_forStudio().getValue(),f=gp(s.template.staticConfig,u);if(!f)throw new Error("Object ".concat(s.address.objectKey," does not have a prop at ").concat(JSON.stringify(u)));let m=(v,g,h)=>{if(v==null)return;if(yw(g.deserializeAndSanitize(v))===void 0)throw new Error("Invalid value ".concat(Ik(v)," for object.props").concat(h.map(k=>"[".concat(JSON.stringify(k),"]")).join("")," is invalid"));let b=he(L({},s.address),{pathToProp:h}),y=ni(d,h);if(typeof y=="string"){let k=s.sheet.getSequence();k.position=k.closestGridPosition(k.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},b),{trackId:y,position:k.position,value:v,snappingFunction:k.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(he(L({},b),{value:v}))};if(f.type==="compound"){let v=(0,vm.getPointerParts)(o).path,g=v.length;gH(f,v,(h,b)=>{let y=b.slice(g),k=pa(l,y);if(typeof k<"u")m(k,h,b);else throw new Error("Property object.props".concat(b.map(x=>"[".concat(JSON.stringify(x),"]")).join("")," is required but not provided"))})}else{if(f.type==="enum")throw new Error("Enums aren't implemented yet");m(l,f,u)}}else if(h2(s)){let[d]=u;if(d==="subUnitsPerUnit"){if(typeof l!="number"||!X0(l)||l<1)throw new Error("Value ".concat(l," is not an integer, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(he(L({},s.address),{subUnitsPerUnit:l}))}else if(d==="length"){if(typeof l!="number"||l<=.001)throw new Error("Value ".concat(l," is not a positive number, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setLength(he(L({},s.address),{length:l}))}else throw new Error("Setting sequence prop ".concat(d," is not supported"))}else throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far")},unset:o=>{e();let{root:i,path:l}=(0,vm.getPointerParts)(o);if(sr(i)){let s=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),u=pa(i.template.getDefaultValues().getValue(),l),d=gp(i.template.staticConfig,l),f=(m,v)=>{let g=he(L({},i.address),{pathToProp:v}),h=ni(s,v);typeof h=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(he(L({},g),{trackId:h,position:i.sheet.getSequence().positionSnappedToGrid})):d!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(g)};d.type==="compound"?Dd(u,(m,v)=>{f(m,v)},(0,vm.getPointerParts)(o).path):f(u,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),n},get stateEditors(){return t}}}var $oe=class{constructor(){et(this,"_reduxStore"),et(this,"_atom"),et(this,"atomP"),this._reduxStore=Hoe({rootReducer:_oe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=Roe(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=gw();return e.usePersistentStorage===!0?Koe(this._reduxStore,()=>{this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return Woe(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(ks.historic.startHistoryFromScratch(ks.reduceParts(t=>he(L({},t),{historic:e}))))}tempTransaction(e){let t=Eoe(),n,o=t.push(ks.reduceParts(i=>{let l={historic:fw(i.historic),ahistoric:fw(i.ahistoric),ephemeral:fw(i.ephemeral)},s=!0,u=()=>{if(!s)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},d=dH(l),f=qoe(u,d,l);try{return e(f),s=!1,{historic:pw(l.historic),ahistoric:pw(l.ahistoric),ephemeral:pw(l.ephemeral)}}catch(m){return n=m,i}finally{dH(void 0)}}));if(this._reduxStore.dispatch(o),n)throw this._reduxStore.dispatch(t.discard()),n;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(ks.historic.undo())}redo(){this._reduxStore.dispatch(ks.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=wT();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return L({},n)}},Loe=je,bw=class{constructor(){et(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};Qa(),la(),Ne(),Ft(),Ek();var Zoe=class{constructor(e){et(this,"ui",{hide(){de().ui.hide()},get isHidden(){return de().ui.isHidden},restore(){de().ui.restore()},renderToolset(t,n){return de().ui.renderToolset(t,n)}}),et(this,"_cache",new bw),et(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){Jne()},__experimental_enablePlayPauseKeyboardShortcut(){ere()},__experimental_clearPersistentStorage(t){return de().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return de().createContentOfSaveFile(t)}})}initialize(e){return de().initialize(e)}extend(e,t){de().extend(e,t)}transaction(e){return de().transaction(({set:t,unset:n,stateEditors:o})=>e({set:t,unset:n,__experimental_forgetObject:i=>{if(!Fg(i))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(i.address)},__experimental_forgetSheet:i=>{if(!Ng(i))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(i.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,Loe.prism)(()=>ia().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(n=>Fg(n)||Ng(n)).map(n=>de().corePrivateAPI(n));de().transaction(({stateEditors:n})=>{n.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=de();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return de().scrub()}getStudioProject(){let e=de().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return de().getStudioProject(e)}debouncedScrub(e=1e3){let t,n=L0(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let i=!0;try{t.capture(o),i=!1}finally{if(i){let l=t;t=void 0,l.discard()}else n()}}}}createPane(e){return de().paneManager.createPane(e)}destroyPane(e){return de().paneManager.destroyPane(e)}createContentOfSaveFile(e){return de().createContentOfSaveFile(e)}};d8();var Gi=je,Goe=class{constructor(e){this._studio=e,et(this,"_cache",new bw),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,Gi.prism)(()=>{if(!(0,Gi.val)(this._studio.coreP))return{};let e=(0,Gi.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,Gi.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let o of Object.values(e)){if(!o)continue;let i=t[o.paneClass];if(!i)continue;let{instanceId:l}=o,{extensionId:s,classDefinition:u}=i,d=Gi.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:s,instanceId:l,definition:u}),[u]);n[l]=d}return n}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,Gi.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),n=(0,Gi.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let i=1;i<1e3&&(o="".concat(e," #").concat(i),!!n[o]);i++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},ym=je;Ne();var vH=30*60*1e3,Xoe=1e3*60*60;function Yoe(){return Vt(this,null,function*(){let e=de().atomP.ahistoric.visibilityState;if((0,ym.val)(e)==="everythingIsVisible")return;let t=gw(),n=(0,ym.pointerToPrism)(e).onStale(()=>{(0,ym.val)(e)==="everythingIsVisible"&&(n(),t.resolve(void 0))});return t.promise})}function Qoe(){return Vt(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield bm(500),yield Yoe();;){let e=(0,ym.val)(de().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,n=Date.now(),o=Math.abs(n-t);o<vH&&(yield bm(vH-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(t.ok){let n=yield t.json();if(!Joe(n))throw new Error("Bad response");de().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:L({},n)}}),yield bm(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch{yield bm(Xoe)}}})}var bm=e=>new Promise(t=>setTimeout(t,e));function Joe(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var eae=$(G5());function Ho(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function yH(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let o=Ho(n);return(i,l)=>o.then(s=>l(s.transaction(t,i).objectStore(t)))}var kw;function Ss(){return kw||(kw=yH("keyval-store","keyval")),kw}function tae(e,t=Ss()){return t("readonly",n=>Ho(n.get(e)))}function nae(e,t,n=Ss()){return n("readwrite",o=>(o.put(t,e),Ho(o.transaction)))}function rae(e,t=Ss()){return t("readwrite",n=>(n.delete(e),Ho(n.transaction)))}function ww(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ho(e.transaction)}function oae(e=Ss()){return e("readonly",t=>{if(t.getAllKeys)return Ho(t.getAllKeys());let n=[];return ww(t,o=>n.push(o.key)).then(()=>n)})}function aae(e=Ss()){return e("readonly",t=>{if(t.getAll)return Ho(t.getAll());let n=[];return ww(t,o=>n.push(o.value)).then(()=>n)})}function iae(e=Ss()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([Ho(t.getAllKeys()),Ho(t.getAll())]).then(([o,i])=>o.map((l,s)=>[l,i[s]]));let n=[];return e("readonly",o=>ww(o,i=>n.push([i.key,i.value])).then(()=>n))})}var lae=e=>{let t=yH("theatrejs-".concat(e),"default-store");return{set:(n,o)=>nae(n,o,t),get:n=>tae(n,t),del:n=>rae(n,t),keys:()=>oae(t),entries:()=>iae(t),values:()=>aae(t)}};$z(),hc();var bH="theatre-0.4",sae=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,uae="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",cae=class{constructor(){et(this,"ui"),et(this,"publicApi"),et(this,"address"),et(this,"_projectsProxy",new lm.PointerProxy(new lm.Atom({}).pointer)),et(this,"projectsP",this._projectsProxy.pointer),et(this,"_store",new $oe),et(this,"_corePrivateApi"),et(this,"_cache",new bw),et(this,"paneManager"),et(this,"_coreAtom",new lm.Atom({})),et(this,"_initializedDeferred",gw()),et(this,"_initializeFnCalled",!1),et(this,"_didWarnAboutNotInitializing",!1),et(this,"_coreBits"),et(this,"_rafDriver"),this.address={studioId:tc(10)},this.publicApi=new Zoe(this),this.ui=new roe(this),this._attachToIncomingProjects(),this.paneManager=new Goe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(sae),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return Vt(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(uae);let t={persistenceKey:bH,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window>"u")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let n=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!n)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=n}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(n){this._initializedDeferred.reject(n);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),Qoe().catch(n=>{console.error(n)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,lm.pointerToPrism)(this.projectsP),t=n=>{for(let o of Object.values(n))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new toe(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let n=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,i=this._store.getState().ephemeral.extensions.byId[o];if(i&&!n){if(e===i||(0,eae.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:l})=>{var s,u;l.ephemeral.extensions.byId[e.id]=e;let d=l.ephemeral.extensions.paneClasses;n&&i&&((s=i.panes)==null||s.forEach(f=>{delete d[f.class]})),(u=e.panes)==null||u.forEach(f=>{if(typeof f.class!="string")throw new Error("pane.class must be a string");if(f.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let m=d[f.class];if(m)if(n&&m.extensionId===e.id)console.warn('Pane class "'.concat(f.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(f.class,'" already exists and is supplied by extension ').concat(m));d[f.class]={extensionId:e.id,classDefinition:f}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return Vt(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=lae("".concat(e.address.projectId,"-assets")),o=zb(e),i=yield n.keys();yield Promise.all(i.map(f=>Vt(this,null,function*(){o.includes(f)||(yield n.del(f))}))),yield Promise.all(i.map(f=>Vt(this,null,function*(){var m,v;let g="".concat(t,"/").concat(f);try{(yield fetch(g,{method:"HEAD"})).ok&&(yield n.del(f))}catch{pc.error("Failed to access assets","Failed to access assets at ".concat((v=(m=e.config.assets)==null?void 0:m.baseUrl)!=null?v:"/",". This is likely due to a CORS issue."))}})));let l=new Map(yield n.entries()),s=new Map,u=f=>{if(s.has(f))return s.get(f);{let m=URL.createObjectURL(f);return s.set(f,m),m}},d=f=>{let m=l.get(f);if(!m)throw new Error("Asset with id ".concat(f," not found"));return u(m)};return{getAssetUrl:f=>l.has(f)?d(f):"".concat(t,"/").concat(f),createAsset:f=>Vt(this,null,function*(){var m,v,g;let h=zb(e),b=!1;if(h.includes(f.name)){let y;try{y=(m=l.get(f.name))!=null?m:yield fetch("".concat(t,"/").concat(f.name)).then(k=>k.ok?k.blob():void 0)}catch{return pc.error("Failed to access assets","Failed to access assets at ".concat((g=(v=e.config.assets)==null?void 0:v.baseUrl)!=null?g:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(y){if(b=yield(yield Promise.resolve().then(()=>$(Jre()))).default.isEqual(f,y),b)return f.name;{let k=x=>{let S=prompt(x,f.name);return S===null?!1:S===""?k("Asset name cannot be empty. Please choose a different file name for this asset."):h.includes(S)?(console.log(h),k("An asset with this name already exists. Please choose a different file name for this asset.")):(f=new File([f],S,{type:f.type}),!0)};if(!k("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return l.set(f.name,f),yield n.set(f.name,f),f.name})}})}clearPersistentStorage(e=bH){this._store.__experimental_clearPersistentStorage(e)}},xw="__TheatreJS_StudioBundle",dae="__TheatreJS_CoreBundle",fae="__TheatreJS_Notifications",pae=class{constructor(e){this._studio=e,et(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,n=>{t=n}),this._studio.setCoreBits(t)}},hae=$(X());be();var kH,mae=M.div(kH||(kH=F([""]))),gae=e=>hae.default.createElement(mae,null),vae=gae;hc();var Sw=new cae;vq(Sw);var yae=Sw.publicApi,bae=yae;kae();function kae(){if(typeof window>"u")return;let e=window[xw];if(typeof e<"u")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(xw," seems to be already set by a module other than @theatre/core."));let t=new pae(Sw);window[xw]=t;let n=window[dae];n&&n!==null&&n.type==="Theatre_CoreBundle"&&t.registerCoreBundle(n)}typeof window<"u"&&(window[fae]={notify:pc});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(Og,Og.exports);var hle=Og.exports;const ble=ple(hle);export{ble as s};
