{"version":3,"file":"index.esm.js.XoUH0I_a.js","sources":["../../../../../node_modules/.pnpm/@theatre+r3f@0.7.0_@react-three+fiber@8.15.11_@theatre+core@0.7.0_@theatre+studio@0.7.0_react_ylpwi73ircdgd3sfhc5qb3iroi/node_modules/@theatre/r3f/dist/index.esm.js"],"sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n// ../../node_modules/zustand/vanilla.js\nvar require_vanilla = __commonJS({\n  \"../../node_modules/zustand/vanilla.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    function create2(createState) {\n      var state;\n      var listeners = /* @__PURE__ */ new Set();\n      var setState = function setState2(partial, replace) {\n        var nextState = typeof partial === \"function\" ? partial(state) : partial;\n        if (nextState !== state) {\n          var _previousState = state;\n          state = replace ? nextState : Object.assign({}, state, nextState);\n          listeners.forEach(function(listener) {\n            return listener(state, _previousState);\n          });\n        }\n      };\n      var getState = function getState2() {\n        return state;\n      };\n      var subscribeWithSelector = function subscribeWithSelector2(listener, selector, equalityFn) {\n        if (selector === void 0) {\n          selector = getState;\n        }\n        if (equalityFn === void 0) {\n          equalityFn = Object.is;\n        }\n        var currentSlice = selector(state);\n        function listenerToAdd() {\n          var nextSlice = selector(state);\n          if (!equalityFn(currentSlice, nextSlice)) {\n            var _previousSlice = currentSlice;\n            listener(currentSlice = nextSlice, _previousSlice);\n          }\n        }\n        listeners.add(listenerToAdd);\n        return function() {\n          return listeners.delete(listenerToAdd);\n        };\n      };\n      var subscribe = function subscribe2(listener, selector, equalityFn) {\n        if (selector || equalityFn) {\n          return subscribeWithSelector(listener, selector, equalityFn);\n        }\n        listeners.add(listener);\n        return function() {\n          return listeners.delete(listener);\n        };\n      };\n      var destroy = function destroy2() {\n        return listeners.clear();\n      };\n      var api = {\n        setState,\n        getState,\n        subscribe,\n        destroy\n      };\n      state = createState(setState, getState, api);\n      return api;\n    }\n    exports.default = create2;\n  }\n});\n\n// src/main/editable.tsx\nimport { useMemo, useState } from \"react\";\nimport React3, { forwardRef, useEffect as useEffect3, useLayoutEffect as useLayoutEffect2, useRef } from \"react\";\n\n// src/main/store.ts\nvar import_vanilla = __toESM(require_vanilla());\nimport { Group } from \"three\";\nvar allRegisteredObjects = /* @__PURE__ */ new WeakSet();\nvar config = (set, get) => {\n  return {\n    sheet: null,\n    editorObject: null,\n    scene: null,\n    gl: null,\n    helpersRoot: new Group(),\n    editables: {},\n    canvasName: \"default\",\n    sceneSnapshot: null,\n    editablesSnapshot: null,\n    initialEditorCamera: {},\n    init: (scene, gl) => {\n      set({\n        scene,\n        gl\n      });\n      get().createSnapshot();\n    },\n    addEditable: (theatreKey, editable2) => {\n      set((state) => ({\n        editables: __spreadProps(__spreadValues({}, state.editables), {\n          [theatreKey]: editable2\n        })\n      }));\n    },\n    removeEditable: (theatreKey) => {\n      set((state) => {\n        const editables = __spreadValues({}, state.editables);\n        delete editables[theatreKey];\n        return {\n          editables\n        };\n      });\n    },\n    createSnapshot: () => {\n      set((state) => {\n        var _a, _b;\n        return {\n          sceneSnapshot: (_b = (_a = state.scene) == null ? void 0 : _a.clone()) != null ? _b : null,\n          editablesSnapshot: state.editables\n        };\n      });\n    },\n    setSnapshotProxyObject: (proxyObject, theatreKey) => {\n      set((state) => ({\n        editablesSnapshot: __spreadProps(__spreadValues({}, state.editablesSnapshot), {\n          [theatreKey]: __spreadProps(__spreadValues({}, state.editablesSnapshot[theatreKey]), {\n            proxyObject\n          })\n        })\n      }));\n    }\n  };\n};\nvar editorStore = (0, import_vanilla.default)(config);\nvar bindToCanvas = ({ gl, scene }) => {\n  const init = editorStore.getState().init;\n  init(scene, gl);\n};\n\n// ../../node_modules/react-merge-refs/dist/index.mjs\nfunction o(f) {\n  return (r) => {\n    f.forEach((n) => {\n      typeof n == \"function\" ? n(r) : n != null && (n.current = r);\n    });\n  };\n}\n\n// src/main/useInvalidate.ts\nimport { useThree } from \"@react-three/fiber\";\nfunction useInvalidate() {\n  return useThree(({ invalidate }) => invalidate);\n}\n\n// src/main/SheetProvider.tsx\nimport React, {\n  createContext,\n  useContext,\n  useEffect,\n  useLayoutEffect\n} from \"react\";\nimport { useThree as useThree2 } from \"@react-three/fiber\";\nvar ctx = createContext(void 0);\nvar useWrapperContext = () => {\n  const val = useContext(ctx);\n  if (!val) {\n    throw new Error(\n      `No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider`\n    );\n  }\n  return val;\n};\nvar useCurrentSheet = () => {\n  return useWrapperContext().sheet;\n};\nvar SheetProvider = ({ sheet, children }) => {\n  const { scene, gl } = useThree2((s) => ({ scene: s.scene, gl: s.gl }));\n  useEffect(() => {\n    if (!sheet || sheet.type !== \"Theatre_Sheet_PublicAPI\") {\n      throw new Error(`sheet in <Wrapper sheet={sheet}> has an invalid value`);\n    }\n  }, [sheet]);\n  useLayoutEffect(() => {\n    bindToCanvas({ gl, scene });\n  }, [scene, gl]);\n  return /* @__PURE__ */ React.createElement(ctx.Provider, { value: { sheet } }, children);\n};\nvar SheetProvider_default = SheetProvider;\n\n// src/main/editableFactoryConfigUtils.ts\nimport { notify } from \"@theatre/core\";\nimport { types } from \"@theatre/core\";\nimport { Color } from \"three\";\nfunction isNumber(value) {\n  return typeof value === \"number\" && isFinite(value);\n}\nfunction isVectorObject(value) {\n  return [\"x\", \"y\", \"z\"].every((axis) => isNumber(value[axis]));\n}\nvar createVector = (components) => {\n  return components ? { x: components[0], y: components[1], z: components[2] } : {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n};\nvar createVectorPropConfig = (key, defaultValue = createVector(), { nudgeMultiplier = 0.01 } = {}) => ({\n  parse: (props) => {\n    const propValue = props[key];\n    const vector = !propValue ? defaultValue : (\n      // if prop is an array\n      Array.isArray(propValue) ? createVector(propValue) : (\n        // if prop is a scalar\n        isNumber(propValue) ? {\n          x: propValue,\n          y: propValue,\n          z: propValue\n        } : (\n          // if prop is a threejs Vector3\n          isVectorObject(propValue) ? {\n            x: propValue.x,\n            y: propValue.y,\n            z: propValue.z\n          } : (\n            // show a warning and return defaultValue\n            (notify.warning(\n              `Invalid value for vector prop \"${key}\"`,\n              `Couldn't make sense of \\`${key}={${JSON.stringify(\n                propValue\n              )}}\\`, falling back to \\`${key}={${JSON.stringify([\n                defaultValue.x,\n                defaultValue.y,\n                defaultValue.z\n              ])}}\\`.\n\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`\n            ), defaultValue)\n          )\n        )\n      )\n    );\n    [\"x\", \"y\", \"z\"].forEach((axis) => {\n      if (props[`${key}-${axis}`])\n        vector[axis] = props[`${key}-${axis}`];\n    });\n    return vector;\n  },\n  apply: (value, object) => {\n    object[key].set(value.x, value.y, value.z);\n  },\n  type: {\n    [key]: {\n      x: types.number(defaultValue.x, { nudgeMultiplier }),\n      y: types.number(defaultValue.y, { nudgeMultiplier }),\n      z: types.number(defaultValue.z, { nudgeMultiplier })\n    }\n  }\n});\nvar createNumberPropConfig = (key, defaultValue = 0, { nudgeMultiplier = 0.01 } = {}) => ({\n  parse: (props) => {\n    var _a;\n    return (_a = props[key]) != null ? _a : defaultValue;\n  },\n  apply: (value, object) => {\n    object[key] = value;\n  },\n  type: {\n    [key]: types.number(defaultValue, { nudgeMultiplier })\n  }\n});\nvar createColorPropConfig = (key, defaultValue = new Color(0, 0, 0)) => ({\n  parse: (props) => {\n    var _a;\n    return __spreadProps(__spreadValues({}, (_a = props[key]) != null ? _a : defaultValue), { a: 1 });\n  },\n  apply: (value, object) => {\n    object[key].setRGB(value.r, value.g, value.b);\n  },\n  type: {\n    [key]: types.rgba(__spreadProps(__spreadValues({}, defaultValue), { a: 1 }))\n  }\n});\nvar extendObjectProps = (objectConfig, extension) => __spreadProps(__spreadValues({}, objectConfig), {\n  props: __spreadValues(__spreadValues({}, objectConfig.props), extension)\n});\n\n// src/main/defaultEditableFactoryConfig.ts\nimport {\n  BoxHelper,\n  CameraHelper,\n  Color as Color2,\n  DirectionalLightHelper,\n  PointLightHelper,\n  SpotLightHelper\n} from \"three\";\nvar baseObjectConfig = {\n  props: {\n    position: createVectorPropConfig(\"position\"),\n    rotation: createVectorPropConfig(\"rotation\"),\n    scale: createVectorPropConfig(\"scale\", createVector([1, 1, 1]))\n  },\n  useTransformControls: true,\n  icon: \"cube\",\n  createHelper: (object) => new BoxHelper(object, selectionColor)\n};\nvar baseLightConfig = __spreadProps(__spreadValues({}, extendObjectProps(baseObjectConfig, {\n  intensity: createNumberPropConfig(\"intensity\", 1),\n  distance: createNumberPropConfig(\"distance\"),\n  decay: createNumberPropConfig(\"decay\"),\n  color: createColorPropConfig(\"color\", new Color2(\"white\"))\n})), {\n  dimensionless: true\n});\nvar baseCameraConfig = __spreadProps(__spreadValues({}, extendObjectProps(baseObjectConfig, {\n  near: createNumberPropConfig(\"near\", 0.1, { nudgeMultiplier: 0.1 }),\n  far: createNumberPropConfig(\"far\", 2e3, { nudgeMultiplier: 0.1 })\n})), {\n  updateObject: (camera) => {\n    camera.updateProjectionMatrix();\n  },\n  icon: \"camera\",\n  dimensionless: true,\n  createHelper: (camera) => new CameraHelper(camera)\n});\nvar selectionColor = \"#40AAA4\";\nvar defaultEditableFactoryConfig = {\n  group: __spreadProps(__spreadValues({}, baseObjectConfig), {\n    icon: \"collection\",\n    createHelper: (object) => new BoxHelper(object, selectionColor)\n  }),\n  mesh: __spreadProps(__spreadValues({}, baseObjectConfig), {\n    icon: \"cube\",\n    createHelper: (object) => new BoxHelper(object, selectionColor)\n  }),\n  spotLight: __spreadProps(__spreadValues({}, extendObjectProps(baseLightConfig, {\n    angle: createNumberPropConfig(\"angle\", 0, { nudgeMultiplier: 1e-3 }),\n    penumbra: createNumberPropConfig(\"penumbra\", 0, { nudgeMultiplier: 1e-3 })\n  })), {\n    icon: \"spotLight\",\n    createHelper: (light) => new SpotLightHelper(light, selectionColor)\n  }),\n  directionalLight: __spreadProps(__spreadValues({}, extendObjectProps(baseObjectConfig, {\n    intensity: createNumberPropConfig(\"intensity\", 1),\n    color: createColorPropConfig(\"color\", new Color2(\"white\"))\n  })), {\n    icon: \"sun\",\n    dimensionless: true,\n    createHelper: (light) => new DirectionalLightHelper(light, 1, selectionColor)\n  }),\n  pointLight: __spreadProps(__spreadValues({}, baseLightConfig), {\n    icon: \"lightBulb\",\n    createHelper: (light) => new PointLightHelper(light, 1, selectionColor)\n  }),\n  ambientLight: {\n    props: {\n      intensity: createNumberPropConfig(\"intensity\", 1),\n      color: createColorPropConfig(\"color\", new Color2(\"white\"))\n    },\n    useTransformControls: false,\n    icon: \"lightBulb\"\n  },\n  hemisphereLight: {\n    props: {\n      intensity: createNumberPropConfig(\"intensity\", 1),\n      color: createColorPropConfig(\"color\", new Color2(\"white\")),\n      groundColor: createColorPropConfig(\"groundColor\", new Color2(\"white\"))\n    },\n    useTransformControls: false,\n    icon: \"lightBulb\"\n  },\n  perspectiveCamera: extendObjectProps(baseCameraConfig, {\n    fov: createNumberPropConfig(\"fov\", 50, { nudgeMultiplier: 0.1 }),\n    zoom: createNumberPropConfig(\"zoom\", 1)\n  }),\n  orthographicCamera: baseCameraConfig,\n  points: baseObjectConfig,\n  line: baseObjectConfig,\n  lineLoop: baseObjectConfig,\n  lineSegments: baseObjectConfig,\n  fog: {\n    props: {\n      color: createColorPropConfig(\"color\"),\n      near: createNumberPropConfig(\"near\", 1, { nudgeMultiplier: 0.1 }),\n      far: createNumberPropConfig(\"far\", 1e3, { nudgeMultiplier: 0.1 })\n    },\n    useTransformControls: false,\n    icon: \"cloud\"\n  }\n};\nvar defaultEditableFactoryConfig_default = defaultEditableFactoryConfig;\n\n// src/main/utils.ts\nvar refreshSnapshot = editorStore.getState().createSnapshot;\nvar makeStoreKey = (sheetObjectAddress) => `${sheetObjectAddress.sheetId}:${sheetObjectAddress.sheetInstanceId}:${sheetObjectAddress.objectKey}`;\n\n// src/main/editable.tsx\nimport { notify as notify2 } from \"@theatre/core\";\n\n// src/main/RafDriverProvider.tsx\nimport React2, { createContext as createContext2, useContext as useContext2, useEffect as useEffect2 } from \"react\";\nvar ctx2 = createContext2(void 0);\nvar useCurrentRafDriver = () => {\n  var _a;\n  return (_a = useContext2(ctx2)) == null ? void 0 : _a.rafDriver;\n};\nvar RafDriverProvider = ({ driver, children }) => {\n  useEffect2(() => {\n    if (!driver || driver.type !== \"Theatre_RafDriver_PublicAPI\") {\n      throw new Error(\n        `driver in <RafDriverProvider deriver={driver}> has an invalid value`\n      );\n    }\n  }, [driver]);\n  return /* @__PURE__ */ React2.createElement(ctx2.Provider, { value: { rafDriver: driver } }, children);\n};\nvar RafDriverProvider_default = RafDriverProvider;\n\n// src/main/editable.tsx\nvar createEditable = (config2) => {\n  const editable2 = (Component, type) => {\n    if (Component !== \"primitive\" && !type) {\n      throw new Error(\n        `You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').`\n      );\n    }\n    return forwardRef(\n      (_a, ref) => {\n        var _b = _a, {\n          theatreKey,\n          visible,\n          editableType,\n          additionalProps,\n          objRef\n        } = _b, props = __objRest(_b, [\n          \"theatreKey\",\n          \"visible\",\n          \"editableType\",\n          \"additionalProps\",\n          \"objRef\"\n        ]);\n        if (typeof theatreKey !== \"string\") {\n          throw new Error(\n            `No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${theatreKey}`\n          );\n        }\n        if (Component === \"primitive\" && !editableType) {\n          throw new Error(\n            `When using the primitive component, you must provide the editableType prop. Received: ${editableType}`\n          );\n        }\n        const actualType = type != null ? type : editableType;\n        const objectRef = useRef();\n        const sheet = useCurrentSheet();\n        const rafDriver = useCurrentRafDriver();\n        const [sheetObject, setSheetObject] = useState(void 0);\n        const storeKey = useMemo(\n          () => makeStoreKey(__spreadProps(__spreadValues({}, sheet.address), {\n            objectKey: theatreKey\n          })),\n          [sheet, theatreKey]\n        );\n        const invalidate = useInvalidate();\n        useEffect3(() => {\n          if (Component === \"perspectiveCamera\" || Component === \"orthographicCamera\") {\n            const dreiComponent = Component.charAt(0).toUpperCase() + Component.slice(1);\n            notify2.warning(\n              `Possibly incorrect use of <e.${Component} />`,\n              `You seem to have declared the camera \"${theatreKey}\" simply as \\`<e.${Component} ... />\\`. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable \\`${dreiComponent}\\` is to import it from \\`@react-three/drei\\`, and make it editable.\n\\`\\`\\`\nimport {${dreiComponent}} from '@react-three/drei'\n\nconst EditableCamera =\n  editable(${dreiComponent}, '${Component}')\n\\`\\`\\`\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n\\`\\`\\`\n<EditableCamera\n  theatreKey=\"${theatreKey}\"\n  makeDefault\n>\n\\`\\`\\`\n`\n            );\n          }\n        }, [Component, theatreKey]);\n        useLayoutEffect2(() => {\n          if (!sheet)\n            return;\n          if (sheetObject) {\n            sheet.object(\n              theatreKey,\n              Object.assign(\n                __spreadValues({}, additionalProps),\n                ...Object.values(config2[actualType].props).map(\n                  // @ts-ignore\n                  (value) => value.type\n                )\n              ),\n              { reconfigure: true }\n            );\n            return;\n          } else {\n            const sheetObject2 = sheet.object(\n              theatreKey,\n              Object.assign(\n                __spreadValues({}, additionalProps),\n                ...Object.values(config2[actualType].props).map(\n                  // @ts-ignore\n                  (value) => value.type\n                )\n              )\n            );\n            allRegisteredObjects.add(sheetObject2);\n            setSheetObject(sheetObject2);\n            if (objRef)\n              typeof objRef === \"function\" ? objRef(sheetObject2) : objRef.current = sheetObject2;\n            editorStore.getState().addEditable(storeKey, {\n              type: actualType,\n              sheetObject: sheetObject2,\n              visibleOnlyInEditor: visible === \"editor\",\n              // @ts-ignore\n              objectConfig: config2[actualType]\n            });\n          }\n        }, [sheet, storeKey, additionalProps]);\n        useLayoutEffect2(() => {\n          if (!sheetObject)\n            return;\n          sheetObject.initialValue = Object.fromEntries(\n            // @ts-ignore\n            Object.entries(config2[actualType].props).map(\n              // @ts-ignore\n              ([key, value]) => [key, value.parse(props)]\n            )\n          );\n        }, [\n          sheetObject,\n          // @ts-ignore\n          ...Object.keys(config2[actualType].props).map(\n            // @ts-ignore\n            (key) => props[key]\n          )\n        ]);\n        useLayoutEffect2(() => {\n          if (!sheetObject)\n            return;\n          const object = objectRef.current;\n          const setFromTheatre = (newValues) => {\n            var _a2, _b2;\n            Object.entries(config2[actualType].props).forEach(\n              // @ts-ignore\n              ([key, value]) => value.apply(newValues[key], object)\n            );\n            (_b2 = (_a2 = config2[actualType]).updateObject) == null ? void 0 : _b2.call(_a2, object);\n            invalidate();\n          };\n          setFromTheatre(sheetObject.value);\n          const unsubscribe = sheetObject.onValuesChange(\n            setFromTheatre,\n            rafDriver\n          );\n          return () => {\n            unsubscribe();\n            sheetObject.sheet.detachObject(theatreKey);\n            allRegisteredObjects.delete(sheetObject);\n            editorStore.getState().removeEditable(storeKey);\n          };\n        }, [sheetObject, rafDriver]);\n        return (\n          // @ts-ignore\n          /* @__PURE__ */ React3.createElement(\n            Component,\n            __spreadProps(__spreadValues({\n              ref: o([objectRef, ref])\n            }, props), {\n              visible: visible !== \"editor\" && visible,\n              userData: {\n                __editable: true,\n                __storeKey: storeKey\n              }\n            })\n          )\n        );\n      }\n    );\n  };\n  const extensions = __spreadProps(__spreadValues({}, Object.fromEntries(\n    Object.keys(config2).map((key) => [\n      key,\n      // @ts-ignore\n      editable2(key, key)\n    ])\n  )), {\n    primitive: editable2(\"primitive\", null)\n  });\n  return Object.assign(editable2, extensions);\n};\nvar editable = createEditable(\n  defaultEditableFactoryConfig_default\n);\nvar editable_default = editable;\n\n// src/main/RefreshSnapshot.tsx\nimport React4, { useEffect as useEffect4 } from \"react\";\nvar RefreshSnapshot = () => {\n  useEffect4(() => {\n    setTimeout(() => {\n      refreshSnapshot();\n    });\n  }, []);\n  return /* @__PURE__ */ React4.createElement(React4.Fragment, null);\n};\nvar RefreshSnapshot_default = RefreshSnapshot;\n\n// src/drei/PerspectiveCamera.tsx\nimport * as React5 from \"react\";\nimport { useFrame, useThree as useThree3 } from \"@react-three/fiber\";\nimport { Vector3 } from \"three\";\nvar PerspectiveCamera = editable_default(\n  React5.forwardRef(\n    (_a, ref) => {\n      var _b = _a, { makeDefault, lookAt } = _b, props = __objRest(_b, [\"makeDefault\", \"lookAt\"]);\n      const set = useThree3(({ set: set2 }) => set2);\n      const camera = useThree3(({ camera: camera2 }) => camera2);\n      const size = useThree3(({ size: size2 }) => size2);\n      const cameraRef = React5.useRef(null);\n      React5.useLayoutEffect(() => {\n        if (!props.manual) {\n          cameraRef.current.aspect = size.width / size.height;\n        }\n      }, [size, props]);\n      React5.useLayoutEffect(() => {\n        cameraRef.current.updateProjectionMatrix();\n      });\n      React5.useLayoutEffect(() => {\n        if (makeDefault) {\n          const oldCam = camera;\n          set(() => ({ camera: cameraRef.current }));\n          return () => set(() => ({ camera: oldCam }));\n        }\n      }, [cameraRef, makeDefault, set]);\n      useFrame(() => {\n        var _a2;\n        if (lookAt && cameraRef.current) {\n          cameraRef.current.lookAt(\n            Array.isArray(lookAt) ? new Vector3(...lookAt) : lookAt.current ? lookAt.current.position : lookAt\n          );\n          const snapshot = editorStore.getState().editablesSnapshot;\n          if (snapshot) {\n            (_a2 = snapshot[cameraRef.current.userData.__storeKey].proxyObject) == null ? void 0 : _a2.rotation.copy(cameraRef.current.rotation);\n          }\n        }\n      });\n      return /* @__PURE__ */ React5.createElement(\"perspectiveCamera\", __spreadValues({ ref: o([cameraRef, ref]) }, props));\n    }\n  ),\n  \"perspectiveCamera\"\n);\n\n// src/drei/OrthographicCamera.tsx\nimport * as React6 from \"react\";\nimport { useFrame as useFrame2, useThree as useThree4 } from \"@react-three/fiber\";\nimport { Vector3 as Vector32 } from \"three\";\nvar OrthographicCamera = editable_default(\n  React6.forwardRef(\n    (_a, ref) => {\n      var _b = _a, { makeDefault, lookAt } = _b, props = __objRest(_b, [\"makeDefault\", \"lookAt\"]);\n      const set = useThree4(({ set: set2 }) => set2);\n      const camera = useThree4(({ camera: camera2 }) => camera2);\n      const size = useThree4(({ size: size2 }) => size2);\n      const cameraRef = React6.useRef(null);\n      React6.useLayoutEffect(() => {\n        if (!props.manual) {\n          cameraRef.current.updateProjectionMatrix();\n        }\n      }, [size, props]);\n      React6.useLayoutEffect(() => {\n        cameraRef.current.updateProjectionMatrix();\n      });\n      React6.useLayoutEffect(() => {\n        if (makeDefault) {\n          const oldCam = camera;\n          set(() => ({ camera: cameraRef.current }));\n          return () => set(() => ({ camera: oldCam }));\n        }\n      }, [cameraRef, makeDefault, set]);\n      useFrame2(() => {\n        var _a2;\n        if (lookAt && cameraRef.current) {\n          cameraRef.current.lookAt(\n            Array.isArray(lookAt) ? new Vector32(...lookAt) : lookAt.current ? lookAt.current.position : lookAt\n          );\n          const snapshot = editorStore.getState().editablesSnapshot;\n          if (snapshot) {\n            (_a2 = snapshot[cameraRef.current.userData.__storeKey].proxyObject) == null ? void 0 : _a2.rotation.copy(cameraRef.current.rotation);\n          }\n        }\n      });\n      return /* @__PURE__ */ React6.createElement(\n        \"orthographicCamera\",\n        __spreadValues({\n          left: size.width / -2,\n          right: size.width / 2,\n          top: size.height / 2,\n          bottom: size.height / -2,\n          ref: o([cameraRef, ref])\n        }, props)\n      );\n    }\n  ),\n  \"orthographicCamera\"\n);\nexport {\n  OrthographicCamera,\n  PerspectiveCamera,\n  RafDriverProvider_default as RafDriverProvider,\n  RefreshSnapshot_default as RefreshSnapshot,\n  SheetProvider_default as SheetProvider,\n  editorStore as ____private_editorStore,\n  allRegisteredObjects as __private_allRegisteredObjects,\n  makeStoreKey as __private_makeStoreKey,\n  editable_default as editable,\n  refreshSnapshot,\n  useCurrentRafDriver,\n  useCurrentSheet\n};\n//# sourceMappingURL=index.esm.js.map\n"],"names":["__create","__defProp","__defProps","__getOwnPropDesc","__getOwnPropDescs","__getOwnPropNames","__getOwnPropSymbols","__getProtoOf","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","__commonJS","cb","mod","__copyProps","to","from","except","desc","__toESM","isNodeMode","require_vanilla","exports","create2","createState","state","listeners","setState","partial","replace","nextState","_previousState","listener","getState","subscribeWithSelector","selector","equalityFn","currentSlice","listenerToAdd","nextSlice","_previousSlice","subscribe","destroy","api","import_vanilla","allRegisteredObjects","config","set","get","Group","scene","gl","theatreKey","editable2","editables","_a","_b","proxyObject","editorStore","bindToCanvas","init","o","f","n","useInvalidate","useThree","invalidate","ctx","createContext","useWrapperContext","val","useContext","useCurrentSheet","SheetProvider","sheet","children","useThree2","s","useEffect","useLayoutEffect","React","SheetProvider_default","isNumber","isVectorObject","axis","createVector","components","createVectorPropConfig","defaultValue","nudgeMultiplier","props","propValue","vector","notify","object","types","createNumberPropConfig","createColorPropConfig","Color","extendObjectProps","objectConfig","extension","baseObjectConfig","BoxHelper","selectionColor","baseLightConfig","Color2","baseCameraConfig","camera","CameraHelper","defaultEditableFactoryConfig","light","SpotLightHelper","DirectionalLightHelper","PointLightHelper","defaultEditableFactoryConfig_default","makeStoreKey","sheetObjectAddress","ctx2","createContext2","useCurrentRafDriver","useContext2","createEditable","config2","Component","type","forwardRef","ref","visible","editableType","additionalProps","objRef","actualType","objectRef","useRef","rafDriver","sheetObject","setSheetObject","useState","storeKey","useMemo","useEffect3","dreiComponent","notify2","useLayoutEffect2","sheetObject2","setFromTheatre","newValues","_a2","_b2","unsubscribe","React3","extensions","editable","editable_default","PerspectiveCamera","React5.forwardRef","makeDefault","lookAt","useThree3","set2","camera2","size","size2","cameraRef","React5.useRef","React5.useLayoutEffect","oldCam","useFrame","Vector3","snapshot","React5.createElement","React6.forwardRef","useThree4","React6.useRef","React6.useLayoutEffect","useFrame2","Vector32","React6.createElement"],"mappings":"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","x_google_ignoreList":[0]}