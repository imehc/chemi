{"version":3,"file":"index.jhJl9jWK.js","sources":["../../src/demo2/14/index.tsx"],"sourcesContent":["import { Environment, OrbitControls, Stats } from '@react-three/drei';\nimport { Canvas, useFrame, useLoader, useThree } from '@react-three/fiber';\nimport { useControls } from 'leva';\nimport { useRef, useEffect } from 'react';\nimport { Mesh, TextureLoader } from 'three';\n\n/**\n * 地球3D copy\n */\nexport const Demo2v14 = () => {\n  return (\n    <Canvas shadows camera={{ position: [0, 0, 2.75] }}>\n      <Environment files=\"/imgs/venice_sunset_1k.hdr\" />\n      <directionalLight\n        intensity={2}\n        position={[4, 0, 2]}\n        castShadow={true}\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n        shadow-camera-left={-2}\n        shadow-camera-right={2}\n        shadow-camera-top={-2}\n        shadow-camera-bottom={2}\n        shadow-camera-near={0.1}\n        shadow-camera-far={7}\n      />\n      <directionalLight\n        intensity={2}\n        position={[3, 0, 3]}\n        castShadow={true}\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n        shadow-camera-left={-2}\n        shadow-camera-right={2}\n        shadow-camera-top={-2}\n        shadow-camera-bottom={2}\n        shadow-camera-near={0.1}\n        shadow-camera-far={7}\n      />\n      <Earth />\n      <OrbitControls />\n      <Stats />\n    </Canvas>\n  );\n};\n\nfunction Earth() {\n  const ref = useRef<Mesh>(null);\n  const { gl } = useThree();\n  const texture = useLoader(\n    TextureLoader,\n    '/v214/img/worldColour.5400x2700.jpg'\n  );\n  const displacementMap = useLoader(\n    TextureLoader,\n    '/v214/img/gebco_bathy_2700x1350.jpg'\n  );\n\n  const material = useControls({\n    wireframe: false,\n    displacementScale: { value: 0.5, min: 0, max: 1.0, step: 0.01 },\n  });\n\n  useEffect(() => {\n    texture.anisotropy = gl.capabilities.getMaxAnisotropy();\n  }, [texture, gl]);\n\n  useFrame((_, delta) => {\n    if (!ref.current) return;\n    ref.current.rotation.y += delta / 4;\n  });\n\n  return (\n    <mesh ref={ref} castShadow={true} receiveShadow={true}>\n      <icosahedronGeometry args={[1, 128]} />\n      <meshStandardMaterial\n        wireframe={material.wireframe}\n        map={texture}\n        displacementMap={displacementMap}\n        displacementScale={material.displacementScale}\n      />\n    </mesh>\n  );\n}\n\nexport default Demo2v14;\n"],"names":["Demo2v14","jsxs","Canvas","jsx","Environment","Earth","OrbitControls","Stats","ref","useRef","gl","useThree","texture","useLoader","TextureLoader","displacementMap","material","useControls","useEffect","useFrame","_","delta"],"mappings":"itMASO,MAAMA,GAAW,IAEnBC,EAAA,KAAAC,EAAA,CAAO,QAAO,GAAC,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,IAAI,CAAA,EAC7C,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAY,MAAM,4BAA6B,CAAA,EAChDD,EAAA,IAAC,mBAAA,CACC,UAAW,EACX,SAAU,CAAC,EAAG,EAAG,CAAC,EAClB,WAAY,GACZ,uBAAsB,KACtB,wBAAuB,KACvB,qBAAoB,GACpB,sBAAqB,EACrB,oBAAmB,GACnB,uBAAsB,EACtB,qBAAoB,GACpB,oBAAmB,CAAA,CACrB,EACAA,EAAA,IAAC,mBAAA,CACC,UAAW,EACX,SAAU,CAAC,EAAG,EAAG,CAAC,EAClB,WAAY,GACZ,uBAAsB,KACtB,wBAAuB,KACvB,qBAAoB,GACpB,sBAAqB,EACrB,oBAAmB,GACnB,uBAAsB,EACtB,qBAAoB,GACpB,oBAAmB,CAAA,CACrB,QACCE,EAAM,EAAA,QACNC,EAAc,EAAA,QACdC,EAAM,EAAA,CACT,CAAA,CAAA,EAIJ,SAASF,GAAQ,CACT,MAAAG,EAAMC,SAAa,IAAI,EACvB,CAAE,GAAAC,GAAOC,IACTC,EAAUC,EACdC,EACA,qCAAA,EAEIC,EAAkBF,EACtBC,EACA,qCAAA,EAGIE,EAAWC,EAAY,CAC3B,UAAW,GACX,kBAAmB,CAAE,MAAO,GAAK,IAAK,EAAG,IAAK,EAAK,KAAM,GAAK,CAAA,CAC/D,EAEDC,OAAAA,EAAAA,UAAU,IAAM,CACNN,EAAA,WAAaF,EAAG,aAAa,iBAAiB,CAAA,EACrD,CAACE,EAASF,CAAE,CAAC,EAEPS,EAAA,CAACC,EAAGC,IAAU,CAChBb,EAAI,UACLA,EAAA,QAAQ,SAAS,GAAKa,EAAQ,EAAA,CACnC,SAGE,OAAK,CAAA,IAAAb,EAAU,WAAY,GAAM,cAAe,GAC/C,SAAA,CAAAL,EAAA,IAAC,sBAAoB,CAAA,KAAM,CAAC,EAAG,GAAG,EAAG,EACrCA,EAAA,IAAC,uBAAA,CACC,UAAWa,EAAS,UACpB,IAAKJ,EACL,gBAAAG,EACA,kBAAmBC,EAAS,iBAAA,CAC9B,CACF,CAAA,CAAA,CAEJ"}