{"version":3,"file":"index.iQn1e0A5.js","sources":["../../src/demo/21/Model.tsx","../../src/demo/21/index.tsx"],"sourcesContent":["/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\nCommand: npx gltfjsx@6.2.15 ./public/models/shoe-draco.glb -o ./src/demo/21/Model.tsx -t \n*/\n\nimport * as THREE from 'three';\nimport React, { useEffect, useState } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { useControls } from 'leva';\nimport { Color, ColorRepresentation } from 'three';\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    shoe: THREE.Mesh;\n    shoe_1: THREE.Mesh;\n    shoe_2: THREE.Mesh;\n    shoe_3: THREE.Mesh;\n    shoe_4: THREE.Mesh;\n    shoe_5: THREE.Mesh;\n    shoe_6: THREE.Mesh;\n    shoe_7: THREE.Mesh;\n  };\n  materials: {\n    laces: THREE.MeshStandardMaterial;\n    mesh: THREE.MeshStandardMaterial;\n    caps: THREE.MeshStandardMaterial;\n    inner: THREE.MeshStandardMaterial;\n    sole: THREE.MeshStandardMaterial;\n    stripes: THREE.MeshStandardMaterial;\n    band: THREE.MeshStandardMaterial;\n    patch: THREE.MeshStandardMaterial;\n  };\n};\n\ntype ContextType = Record<\n  string,\n  React.ForwardRefExoticComponent<JSX.IntrinsicElements['mesh']>\n>;\n\nexport function Model(props: JSX.IntrinsicElements['group']) {\n  const [hovered, setHovered] = useState(false);\n  const { nodes, materials } = useGLTF('/models/shoe-draco.glb') as GLTFResult;\n\n  useEffect(() => {\n    document.body.style.cursor = hovered ? 'pointer' : 'auto';\n  }, [hovered]);\n\n  useControls('Shoe', () => {\n    console.log('creating color pickers');\n    return (Object.keys(materials) as (keyof typeof materials)[]).reduce(\n      (acc, m) =>\n        Object.assign(acc, {\n          [m]: {\n            value:\n              '#' +\n              ((Math.random() * 0xffffff) << 0).toString(16).padStart(6, '0'),\n            onChange: (v: ColorRepresentation) => {\n              materials[m].color = new Color(v);\n            },\n          },\n        }),\n      {}\n    );\n  });\n\n  return (\n    <group\n      {...props}\n      dispose={null}\n      onPointerOver={() => setHovered(true)}\n      onPointerOut={() => setHovered(false)}\n      onClick={(e) => {\n        e.stopPropagation();\n        document\n          .getElementById(\n            'Shoe.' +\n              ((e.object as unknown as THREE.Mesh).material as THREE.Material)\n                .name\n          )\n          ?.focus();\n      }}\n    >\n      <mesh geometry={nodes.shoe.geometry} material={materials.laces} />\n      <mesh geometry={nodes.shoe_1.geometry} material={materials.mesh} />\n      <mesh geometry={nodes.shoe_2.geometry} material={materials.caps} />\n      <mesh geometry={nodes.shoe_3.geometry} material={materials.inner} />\n      <mesh geometry={nodes.shoe_4.geometry} material={materials.sole} />\n      <mesh geometry={nodes.shoe_5.geometry} material={materials.stripes} />\n      <mesh geometry={nodes.shoe_6.geometry} material={materials.band} />\n      <mesh geometry={nodes.shoe_7.geometry} material={materials.patch} />\n    </group>\n  );\n}\n\nuseGLTF.preload('/models/shoe-draco.glb');\n","import { ContactShadows, Environment, OrbitControls } from '@react-three/drei';\nimport { Canvas } from '@react-three/fiber';\nimport { Model } from './Model';\n\n/**\n * GLTFJSX 模型转换为jsx\n * 生成之后需要自己修改一下\n *\n * 教程  https://sbcode.net/react-three-fiber/gltfjsx/\n *\n * doc  https://github.com/pmndrs/gltfjsx\n *\n * 在线生成  https://gltf.pmnd.rs/\n * ``` bash\n *  npx gltfjsx@latest [模型路径] -o [输出路径] -t\n * ```\n */\nconst Demo21: React.FC = () => {\n  return (\n    <Canvas shadows camera={{ position: [0, 0, 1.66] }}>\n      <Environment preset=\"forest\" />\n      <Model />\n      <ContactShadows position={[0, -0.8, 0]} color=\"#ffffff\" />\n      <OrbitControls autoRotate />\n    </Canvas>\n  );\n};\n\nexport default Demo21;\n"],"names":["Model","props","hovered","setHovered","useState","nodes","materials","useGLTF","useEffect","useControls","acc","v","Color","jsxs","e","_a","jsx","Demo21","Canvas","Environment","ContactShadows","OrbitControls"],"mappings":"q/MAwCO,SAASA,EAAMC,EAAuC,CAC3D,KAAM,CAACC,EAASC,CAAU,EAAIC,WAAS,EAAK,EACtC,CAAE,MAAAC,EAAO,UAAAC,CAAU,EAAIC,EAAQ,wBAAwB,EAE7DC,OAAAA,EAAAA,UAAU,IAAM,CACd,SAAS,KAAK,MAAM,OAASN,EAAU,UAAY,MAAA,EAClD,CAACA,CAAO,CAAC,EAEZO,EAAY,OAAQ,KAClB,QAAQ,IAAI,wBAAwB,EAC5B,OAAO,KAAKH,CAAS,EAAiC,OAC5D,CAACI,EAAK,IACJ,OAAO,OAAOA,EAAK,CACjB,CAAC,CAAC,EAAG,CACH,MACE,KACE,KAAK,OAAW,EAAA,UAAa,GAAG,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAChE,SAAWC,GAA2B,CACpCL,EAAU,CAAC,EAAE,MAAQ,IAAIM,EAAMD,CAAC,CAClC,CACF,CAAA,CACD,EACH,CAAC,CAAA,EAEJ,EAGCE,EAAA,KAAC,QAAA,CACE,GAAGZ,EACJ,QAAS,KACT,cAAe,IAAME,EAAW,EAAI,EACpC,aAAc,IAAMA,EAAW,EAAK,EACpC,QAAUW,GAAM,OACdA,EAAE,gBAAgB,GAEfC,EAAA,SAAA,eACC,QACID,EAAE,OAAiC,SAClC,QAHN,MAAAC,EAKC,OACN,EAEA,SAAA,CAAAC,MAAC,QAAK,SAAUX,EAAM,KAAK,SAAU,SAAUC,EAAU,MAAO,EAChEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,KAAM,EACjEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,KAAM,EACjEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,MAAO,EAClEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,KAAM,EACjEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,QAAS,EACpEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,KAAM,EACjEU,MAAC,QAAK,SAAUX,EAAM,OAAO,SAAU,SAAUC,EAAU,MAAO,CAAA,CAAA,CAAA,CAGxE,CAEAC,EAAQ,QAAQ,wBAAwB,EC9ExC,MAAMU,GAAmB,IAEpBJ,EAAA,KAAAK,EAAA,CAAO,QAAO,GAAC,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,IAAI,CAAA,EAC7C,SAAA,CAACF,EAAAA,IAAAG,EAAA,CAAY,OAAO,QAAS,CAAA,QAC5BnB,EAAM,EAAA,EACPgB,EAAAA,IAACI,GAAe,SAAU,CAAC,EAAG,IAAM,CAAC,EAAG,MAAM,UAAU,EACxDJ,EAAAA,IAACK,EAAc,CAAA,WAAU,EAAC,CAAA,CAC5B,CAAA,CAAA"}