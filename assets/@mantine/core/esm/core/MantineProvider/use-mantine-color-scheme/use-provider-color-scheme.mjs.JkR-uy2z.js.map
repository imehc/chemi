{"version":3,"file":"use-provider-color-scheme.mjs.JkR-uy2z.js","sources":["../../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/core/MantineProvider/use-mantine-color-scheme/use-provider-color-scheme.mjs"],"sourcesContent":["'use client';\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\n\nfunction setColorSchemeAttribute(colorScheme, getRootElement) {\n  var _a;\n  const computedColorScheme = colorScheme !== \"auto\" ? colorScheme : window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n  (_a = getRootElement()) == null ? void 0 : _a.setAttribute(\"data-mantine-color-scheme\", computedColorScheme);\n}\nfunction useProviderColorScheme({\n  manager,\n  defaultColorScheme,\n  getRootElement,\n  forceColorScheme\n}) {\n  const media = useRef();\n  const [value, setValue] = useState(() => manager.get(defaultColorScheme));\n  const colorSchemeValue = forceColorScheme || value;\n  const setColorScheme = useCallback(\n    (colorScheme) => {\n      if (!forceColorScheme) {\n        setColorSchemeAttribute(colorScheme, getRootElement);\n        setValue(colorScheme);\n        manager.set(colorScheme);\n      }\n    },\n    [manager.set, colorSchemeValue, forceColorScheme]\n  );\n  const clearColorScheme = useCallback(() => {\n    setValue(defaultColorScheme);\n    setColorSchemeAttribute(defaultColorScheme, getRootElement);\n    manager.clear();\n  }, [manager.clear, defaultColorScheme]);\n  useEffect(() => {\n    manager.subscribe(setColorScheme);\n    return manager.unsubscribe;\n  }, [manager.subscribe, manager.unsubscribe]);\n  useIsomorphicEffect(() => {\n    setColorSchemeAttribute(manager.get(defaultColorScheme), getRootElement);\n  }, []);\n  useEffect(() => {\n    var _a;\n    if (forceColorScheme) {\n      setColorSchemeAttribute(forceColorScheme, getRootElement);\n      return () => {\n      };\n    }\n    media.current = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const listener = (event) => {\n      if (value === \"auto\") {\n        setColorSchemeAttribute(event.matches ? \"dark\" : \"light\", getRootElement);\n      }\n    };\n    (_a = media.current) == null ? void 0 : _a.addEventListener(\"change\", listener);\n    return () => {\n      var _a2;\n      return (_a2 = media.current) == null ? void 0 : _a2.removeEventListener(\"change\", listener);\n    };\n  }, [value, forceColorScheme]);\n  return { colorScheme: colorSchemeValue, setColorScheme, clearColorScheme };\n}\n\nexport { useProviderColorScheme };\n//# sourceMappingURL=use-provider-color-scheme.mjs.map\n"],"names":["setColorSchemeAttribute","colorScheme","getRootElement","_a","computedColorScheme","useProviderColorScheme","manager","defaultColorScheme","forceColorScheme","media","useRef","value","setValue","useState","colorSchemeValue","setColorScheme","useCallback","clearColorScheme","useEffect","useIsomorphicEffect","listener","event","_a2"],"mappings":"0KAIA,SAASA,EAAwBC,EAAaC,EAAgB,CAC5D,IAAIC,EACJ,MAAMC,EAAsBH,IAAgB,OAASA,EAAc,OAAO,WAAW,8BAA8B,EAAE,QAAU,OAAS,SACvIE,EAAKD,EAAgB,IAAK,MAAgBC,EAAG,aAAa,4BAA6BC,CAAmB,CAC7G,CACA,SAASC,EAAuB,CAC9B,QAAAC,EACA,mBAAAC,EACA,eAAAL,EACA,iBAAAM,CACF,EAAG,CACD,MAAMC,EAAQC,EAAAA,SACR,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,IAAMP,EAAQ,IAAIC,CAAkB,CAAC,EAClEO,EAAmBN,GAAoBG,EACvCI,EAAiBC,EAAW,YAC/Bf,GAAgB,CACVO,IACHR,EAAwBC,EAAaC,CAAc,EACnDU,EAASX,CAAW,EACpBK,EAAQ,IAAIL,CAAW,EAE1B,EACD,CAACK,EAAQ,IAAKQ,EAAkBN,CAAgB,CACpD,EACQS,EAAmBD,EAAAA,YAAY,IAAM,CACzCJ,EAASL,CAAkB,EAC3BP,EAAwBO,EAAoBL,CAAc,EAC1DI,EAAQ,MAAK,CACd,EAAE,CAACA,EAAQ,MAAOC,CAAkB,CAAC,EACtCW,OAAAA,EAAAA,UAAU,KACRZ,EAAQ,UAAUS,CAAc,EACzBT,EAAQ,aACd,CAACA,EAAQ,UAAWA,EAAQ,WAAW,CAAC,EAC3Ca,EAAoB,IAAM,CACxBnB,EAAwBM,EAAQ,IAAIC,CAAkB,EAAGL,CAAc,CACxE,EAAE,CAAE,CAAA,EACLgB,EAAAA,UAAU,IAAM,CACd,IAAIf,EACJ,GAAIK,EACF,OAAAR,EAAwBQ,EAAkBN,CAAc,EACjD,IAAM,CACnB,EAEIO,EAAM,QAAU,OAAO,WAAW,8BAA8B,EAChE,MAAMW,EAAYC,GAAU,CACtBV,IAAU,QACZX,EAAwBqB,EAAM,QAAU,OAAS,QAASnB,CAAc,CAEhF,EACI,OAACC,EAAKM,EAAM,UAAY,MAAgBN,EAAG,iBAAiB,SAAUiB,CAAQ,EACvE,IAAM,CACX,IAAIE,EACJ,OAAQA,EAAMb,EAAM,UAAY,KAAO,OAASa,EAAI,oBAAoB,SAAUF,CAAQ,CAChG,CACA,EAAK,CAACT,EAAOH,CAAgB,CAAC,EACrB,CAAE,YAAaM,EAAkB,eAAAC,EAAgB,iBAAAE,CAAgB,CAC1E","x_google_ignoreList":[0]}