{"version":3,"file":"Select.mjs.FzYyORql.js","sources":["../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/components/Select/Select.mjs"],"sourcesContent":["'use client';\nimport React, { useMemo, useEffect } from 'react';\nimport { useId, useUncontrolled } from '@mantine/hooks';\nimport { getParsedComboboxData } from '../Combobox/get-parsed-combobox-data/get-parsed-combobox-data.mjs';\nimport { getOptionsLockup } from '../Combobox/get-options-lockup/get-options-lockup.mjs';\nimport { useCombobox } from '../Combobox/use-combobox/use-combobox.mjs';\nimport { Combobox } from '../Combobox/Combobox.mjs';\nimport { InputBase } from '../InputBase/InputBase.mjs';\nimport { OptionsDropdown } from '../Combobox/OptionsDropdown/OptionsDropdown.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport { useResolvedStylesApi } from '../../core/styles-api/use-resolved-styles-api/use-resolved-styles-api.mjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst defaultProps = {\n  searchable: false,\n  withCheckIcon: true,\n  allowDeselect: true,\n  checkIconPosition: \"left\"\n};\nconst Select = factory((_props, ref) => {\n  const props = useProps(\"Select\", defaultProps, _props);\n  const _a = props, {\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    dropdownOpened,\n    defaultDropdownOpened,\n    onDropdownClose,\n    onDropdownOpen,\n    onFocus,\n    onBlur,\n    onClick,\n    onChange,\n    data,\n    value,\n    defaultValue,\n    selectFirstOptionOnChange,\n    onOptionSubmit,\n    comboboxProps,\n    readOnly,\n    disabled,\n    filter,\n    limit,\n    withScrollArea,\n    maxDropdownHeight,\n    size,\n    searchable,\n    rightSection,\n    checkIconPosition,\n    withCheckIcon,\n    nothingFoundMessage,\n    name,\n    form,\n    searchValue,\n    defaultSearchValue,\n    onSearchChange,\n    allowDeselect,\n    error,\n    rightSectionPointerEvents,\n    id,\n    clearable,\n    clearButtonProps,\n    hiddenInputProps\n  } = _a, others = __objRest(_a, [\n    \"classNames\",\n    \"styles\",\n    \"unstyled\",\n    \"vars\",\n    \"dropdownOpened\",\n    \"defaultDropdownOpened\",\n    \"onDropdownClose\",\n    \"onDropdownOpen\",\n    \"onFocus\",\n    \"onBlur\",\n    \"onClick\",\n    \"onChange\",\n    \"data\",\n    \"value\",\n    \"defaultValue\",\n    \"selectFirstOptionOnChange\",\n    \"onOptionSubmit\",\n    \"comboboxProps\",\n    \"readOnly\",\n    \"disabled\",\n    \"filter\",\n    \"limit\",\n    \"withScrollArea\",\n    \"maxDropdownHeight\",\n    \"size\",\n    \"searchable\",\n    \"rightSection\",\n    \"checkIconPosition\",\n    \"withCheckIcon\",\n    \"nothingFoundMessage\",\n    \"name\",\n    \"form\",\n    \"searchValue\",\n    \"defaultSearchValue\",\n    \"onSearchChange\",\n    \"allowDeselect\",\n    \"error\",\n    \"rightSectionPointerEvents\",\n    \"id\",\n    \"clearable\",\n    \"clearButtonProps\",\n    \"hiddenInputProps\"\n  ]);\n  const parsedData = useMemo(() => getParsedComboboxData(data), [data]);\n  const optionsLockup = useMemo(() => getOptionsLockup(parsedData), [parsedData]);\n  const _id = useId(id);\n  const [_value, setValue] = useUncontrolled({\n    value,\n    defaultValue,\n    finalValue: null,\n    onChange\n  });\n  const selectedOption = _value ? optionsLockup[_value] : void 0;\n  const [search, setSearch] = useUncontrolled({\n    value: searchValue,\n    defaultValue: defaultSearchValue,\n    finalValue: selectedOption ? selectedOption.label : \"\",\n    onChange: onSearchChange\n  });\n  const combobox = useCombobox({\n    opened: dropdownOpened,\n    defaultOpened: defaultDropdownOpened,\n    onDropdownOpen,\n    onDropdownClose: () => {\n      onDropdownClose == null ? void 0 : onDropdownClose();\n      combobox.resetSelectedOption();\n    }\n  });\n  const { resolvedClassNames, resolvedStyles } = useResolvedStylesApi({\n    props,\n    styles,\n    classNames\n  });\n  useEffect(() => {\n    if (selectFirstOptionOnChange) {\n      combobox.selectFirstOption();\n    }\n  }, [selectFirstOptionOnChange, _value]);\n  useEffect(() => {\n    if (value === null) {\n      setSearch(\"\");\n    }\n    if (typeof value === \"string\" && selectedOption) {\n      setSearch(selectedOption.label);\n    }\n  }, [value, selectedOption]);\n  const clearButton = clearable && !!_value && !disabled && !readOnly && /* @__PURE__ */ React.createElement(\n    Combobox.ClearButton,\n    __spreadProps(__spreadValues({\n      size\n    }, clearButtonProps), {\n      onClear: () => {\n        setValue(null);\n        setSearch(\"\");\n      }\n    })\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Combobox,\n    __spreadValues({\n      store: combobox,\n      __staticSelector: \"Select\",\n      classNames: resolvedClassNames,\n      styles: resolvedStyles,\n      unstyled,\n      readOnly,\n      onOptionSubmit: (val) => {\n        onOptionSubmit == null ? void 0 : onOptionSubmit(val);\n        const nextValue = allowDeselect ? optionsLockup[val].value === _value ? null : optionsLockup[val].value : optionsLockup[val].value;\n        setValue(nextValue);\n        setSearch(typeof nextValue === \"string\" ? optionsLockup[val].label : \"\");\n        combobox.closeDropdown();\n      },\n      size\n    }, comboboxProps),\n    /* @__PURE__ */ React.createElement(Combobox.Target, { targetType: searchable ? \"input\" : \"button\" }, /* @__PURE__ */ React.createElement(\n      InputBase,\n      __spreadProps(__spreadValues({\n        id: _id,\n        ref,\n        rightSection: rightSection || clearButton || /* @__PURE__ */ React.createElement(Combobox.Chevron, { size, error, unstyled }),\n        rightSectionPointerEvents: rightSectionPointerEvents || clearButton ? \"all\" : \"none\"\n      }, others), {\n        size,\n        __staticSelector: \"Select\",\n        disabled,\n        readOnly: readOnly || !searchable,\n        value: search,\n        onChange: (event) => {\n          setSearch(event.currentTarget.value);\n          combobox.openDropdown();\n          selectFirstOptionOnChange && combobox.selectFirstOption();\n        },\n        onFocus: (event) => {\n          searchable && combobox.openDropdown();\n          onFocus == null ? void 0 : onFocus(event);\n        },\n        onBlur: (event) => {\n          var _a2;\n          searchable && combobox.closeDropdown();\n          setSearch(_value != null ? ((_a2 = optionsLockup[_value]) == null ? void 0 : _a2.label) || \"\" : \"\");\n          onBlur == null ? void 0 : onBlur(event);\n        },\n        onClick: (event) => {\n          searchable ? combobox.openDropdown() : combobox.toggleDropdown();\n          onClick == null ? void 0 : onClick(event);\n        },\n        classNames: resolvedClassNames,\n        styles: resolvedStyles,\n        unstyled,\n        pointer: !searchable,\n        error\n      })\n    )),\n    /* @__PURE__ */ React.createElement(\n      OptionsDropdown,\n      {\n        data: parsedData,\n        hidden: readOnly || disabled,\n        filter,\n        search,\n        limit,\n        hiddenWhenEmpty: !searchable || !nothingFoundMessage,\n        withScrollArea,\n        maxDropdownHeight,\n        filterOptions: searchable && (selectedOption == null ? void 0 : selectedOption.label) !== search,\n        value: _value,\n        checkIconPosition,\n        withCheckIcon,\n        nothingFoundMessage,\n        unstyled,\n        labelId: `${_id}-label`\n      }\n    )\n  ), /* @__PURE__ */ React.createElement(\n    \"input\",\n    __spreadValues({\n      type: \"hidden\",\n      name,\n      value: _value || \"\",\n      form,\n      disabled\n    }, hiddenInputProps)\n  ));\n});\nSelect.classes = __spreadValues(__spreadValues({}, InputBase.classes), Combobox.classes);\nSelect.displayName = \"@mantine/core/Select\";\n\nexport { Select };\n//# sourceMappingURL=Select.mjs.map\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","defaultProps","Select","factory","_props","ref","props","useProps","_a","classNames","styles","unstyled","vars","dropdownOpened","defaultDropdownOpened","onDropdownClose","onDropdownOpen","onFocus","onBlur","onClick","onChange","data","defaultValue","selectFirstOptionOnChange","onOptionSubmit","comboboxProps","readOnly","disabled","filter","limit","withScrollArea","maxDropdownHeight","size","searchable","rightSection","checkIconPosition","withCheckIcon","nothingFoundMessage","name","form","searchValue","defaultSearchValue","onSearchChange","allowDeselect","error","rightSectionPointerEvents","id","clearable","clearButtonProps","hiddenInputProps","others","parsedData","useMemo","getParsedComboboxData","optionsLockup","getOptionsLockup","_id","useId","_value","setValue","useUncontrolled","selectedOption","search","setSearch","combobox","useCombobox","resolvedClassNames","resolvedStyles","useResolvedStylesApi","useEffect","clearButton","React","Combobox","val","nextValue","InputBase","event","_a2","OptionsDropdown"],"mappings":"m7BAaA,IAAIA,GAAY,OAAO,eACnBC,GAAa,OAAO,iBACpBC,GAAoB,OAAO,0BAC3BC,EAAsB,OAAO,sBAC7BC,EAAe,OAAO,UAAU,eAChCC,EAAe,OAAO,UAAU,qBAChCC,EAAkB,CAACC,EAAKC,EAAKC,IAAUD,KAAOD,EAAMP,GAAUO,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAO,CAAA,EAAIF,EAAIC,CAAG,EAAIC,EACtJC,EAAiB,CAACC,EAAGC,IAAM,CAC7B,QAASC,KAAQD,IAAMA,EAAI,CAAA,GACrBR,EAAa,KAAKQ,EAAGC,CAAI,GAC3BP,EAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EACpC,GAAIV,EACF,QAASU,KAAQV,EAAoBS,CAAC,EAChCP,EAAa,KAAKO,EAAGC,CAAI,GAC3BP,EAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EAEtC,OAAOF,CACT,EACIG,EAAgB,CAACH,EAAGC,IAAMX,GAAWU,EAAGT,GAAkBU,CAAC,CAAC,EAC5DG,GAAY,CAACC,EAAQC,IAAY,CACnC,IAAIC,EAAS,CAAA,EACb,QAASL,KAAQG,EACXZ,EAAa,KAAKY,EAAQH,CAAI,GAAKI,EAAQ,QAAQJ,CAAI,EAAI,IAC7DK,EAAOL,CAAI,EAAIG,EAAOH,CAAI,GAC9B,GAAIG,GAAU,MAAQb,EACpB,QAASU,KAAQV,EAAoBa,CAAM,EACrCC,EAAQ,QAAQJ,CAAI,EAAI,GAAKR,EAAa,KAAKW,EAAQH,CAAI,IAC7DK,EAAOL,CAAI,EAAIG,EAAOH,CAAI,GAEhC,OAAOK,CACT,EACA,MAAMC,GAAe,CACnB,WAAY,GACZ,cAAe,GACf,cAAe,GACf,kBAAmB,MACrB,EACMC,EAASC,GAAQ,CAACC,EAAQC,IAAQ,CACtC,MAAMC,EAAQC,GAAS,SAAUN,GAAcG,CAAM,EAC/CI,EAAKF,EAAO,CAChB,WAAAG,EACA,OAAAC,EACA,SAAAC,EACA,KAAAC,GACA,eAAAC,EACA,sBAAAC,EACA,gBAAAC,EACA,eAAAC,EACA,QAAAC,EACA,OAAAC,EACA,QAAAC,EACA,SAAAC,EACA,KAAAC,EACA,MAAA9B,EACA,aAAA+B,EACA,0BAAAC,EACA,eAAAC,EACA,cAAAC,EACA,SAAAC,EACA,SAAAC,EACA,OAAAC,EACA,MAAAC,GACA,eAAAC,GACA,kBAAAC,GACA,KAAAC,EACA,WAAAC,EACA,aAAAC,GACA,kBAAAC,GACA,cAAAC,GACA,oBAAAC,EACA,KAAAC,GACA,KAAAC,GACA,YAAAC,GACA,mBAAAC,GACA,eAAAC,GACA,cAAAC,GACA,MAAAC,EACA,0BAAAC,GACA,GAAAC,GACA,UAAAC,GACA,iBAAAC,GACA,iBAAAC,EACD,EAAGzC,EAAI0C,GAASrD,GAAUW,EAAI,CAC7B,aACA,SACA,WACA,OACA,iBACA,wBACA,kBACA,iBACA,UACA,SACA,UACA,WACA,OACA,QACA,eACA,4BACA,iBACA,gBACA,WACA,WACA,SACA,QACA,iBACA,oBACA,OACA,aACA,eACA,oBACA,gBACA,sBACA,OACA,OACA,cACA,qBACA,iBACA,gBACA,QACA,4BACA,KACA,YACA,mBACA,kBACJ,CAAG,EACK2C,EAAaC,EAAAA,QAAQ,IAAMC,GAAsBhC,CAAI,EAAG,CAACA,CAAI,CAAC,EAC9DiC,EAAgBF,EAAAA,QAAQ,IAAMG,GAAiBJ,CAAU,EAAG,CAACA,CAAU,CAAC,EACxEK,EAAMC,GAAMX,EAAE,EACd,CAACY,EAAQC,CAAQ,EAAIC,EAAgB,CACzC,MAAArE,EACA,aAAA+B,EACA,WAAY,KACZ,SAAAF,CACJ,CAAG,EACKyC,EAAiBH,EAASJ,EAAcI,CAAM,EAAI,OAClD,CAACI,EAAQC,CAAS,EAAIH,EAAgB,CAC1C,MAAOpB,GACP,aAAcC,GACd,WAAYoB,EAAiBA,EAAe,MAAQ,GACpD,SAAUnB,EACd,CAAG,EACKsB,EAAWC,GAAY,CAC3B,OAAQpD,EACR,cAAeC,EACf,eAAAE,EACA,gBAAiB,IAAM,CACrBD,GAAmB,MAAgBA,EAAe,EAClDiD,EAAS,oBAAmB,CAC7B,CACL,CAAG,EACK,CAAE,mBAAAE,EAAoB,eAAAC,CAAgB,EAAGC,GAAqB,CAClE,MAAA9D,EACA,OAAAI,EACA,WAAAD,CACJ,CAAG,EACD4D,EAAAA,UAAU,IAAM,CACV9C,GACFyC,EAAS,kBAAiB,CAEhC,EAAK,CAACzC,EAA2BmC,CAAM,CAAC,EACtCW,EAAAA,UAAU,IAAM,CACV9E,IAAU,MACZwE,EAAU,EAAE,EAEV,OAAOxE,GAAU,UAAYsE,GAC/BE,EAAUF,EAAe,KAAK,CAEpC,EAAK,CAACtE,EAAOsE,CAAc,CAAC,EAC1B,MAAMS,EAAcvB,IAAa,CAAC,CAACW,GAAU,CAAC/B,GAAY,CAACD,GAA4B6C,EAAM,cAC3FC,EAAS,YACT5E,EAAcJ,EAAe,CAC3B,KAAAwC,CACD,EAAEgB,EAAgB,EAAG,CACpB,QAAS,IAAM,CACbW,EAAS,IAAI,EACbI,EAAU,EAAE,CACb,CACP,CAAK,CACL,EACE,OAAuBQ,EAAM,cAAcA,EAAM,SAAU,KAAsBA,EAAM,cACrFC,EACAhF,EAAe,CACb,MAAOwE,EACP,iBAAkB,SAClB,WAAYE,EACZ,OAAQC,EACR,SAAAxD,EACA,SAAAe,EACA,eAAiB+C,GAAQ,CACvBjD,GAAkB,MAAgBA,EAAeiD,CAAG,EACpD,MAAMC,EAAY/B,IAAgBW,EAAcmB,CAAG,EAAE,QAAUf,EAAS,KAAkCJ,EAAcmB,CAAG,EAAE,MAC7Hd,EAASe,CAAS,EAClBX,EAAU,OAAOW,GAAc,SAAWpB,EAAcmB,CAAG,EAAE,MAAQ,EAAE,EACvET,EAAS,cAAa,CACvB,EACD,KAAAhC,CACD,EAAEP,CAAa,EACA8C,EAAM,cAAcC,EAAS,OAAQ,CAAE,WAAYvC,EAAa,QAAU,UAA4BsC,EAAM,cAC1HI,EACA/E,EAAcJ,EAAe,CAC3B,GAAIgE,EACJ,IAAAnD,EACA,aAAc6B,IAAgBoC,GAA+BC,EAAM,cAAcC,EAAS,QAAS,CAAE,KAAAxC,EAAM,MAAAY,EAAO,SAAAjC,CAAQ,CAAE,EAC5H,0BAA2BkC,IAA6ByB,EAAc,MAAQ,MAC/E,EAAEpB,EAAM,EAAG,CACV,KAAAlB,EACA,iBAAkB,SAClB,SAAAL,EACA,SAAUD,GAAY,CAACO,EACvB,MAAO6B,EACP,SAAWc,GAAU,CACnBb,EAAUa,EAAM,cAAc,KAAK,EACnCZ,EAAS,aAAY,EACrBzC,GAA6ByC,EAAS,mBACvC,EACD,QAAUY,GAAU,CAClB3C,GAAc+B,EAAS,eACvB/C,GAAW,MAAgBA,EAAQ2D,CAAK,CACzC,EACD,OAASA,GAAU,CACjB,IAAIC,EACJ5C,GAAc+B,EAAS,gBACvBD,EAAUL,GAAU,QAASmB,EAAMvB,EAAcI,CAAM,IAAM,KAAO,OAASmB,EAAI,QAAU,EAAO,EAClG3D,GAAU,MAAgBA,EAAO0D,CAAK,CACvC,EACD,QAAUA,GAAU,CAClB3C,EAAa+B,EAAS,aAAc,EAAGA,EAAS,eAAc,EAC9D7C,GAAW,MAAgBA,EAAQyD,CAAK,CACzC,EACD,WAAYV,EACZ,OAAQC,EACR,SAAAxD,EACA,QAAS,CAACsB,EACV,MAAAW,CACR,CAAO,CACP,CAAK,EACe2B,EAAM,cACpBO,GACA,CACE,KAAM3B,EACN,OAAQzB,GAAYC,EACpB,OAAAC,EACA,OAAAkC,EACA,MAAAjC,GACA,gBAAiB,CAACI,GAAc,CAACI,EACjC,eAAAP,GACA,kBAAAC,GACA,cAAeE,IAAe4B,GAAkB,KAAO,OAASA,EAAe,SAAWC,EAC1F,MAAOJ,EACP,kBAAAvB,GACA,cAAAC,GACA,oBAAAC,EACA,SAAA1B,EACA,QAAS,GAAG6C,CAAG,QAChB,CACF,CACF,EAAkBe,EAAM,cACvB,QACA/E,EAAe,CACb,KAAM,SACN,KAAA8C,GACA,MAAOoB,GAAU,GACjB,KAAAnB,GACA,SAAAZ,CACD,EAAEsB,EAAgB,CACvB,CAAG,CACH,CAAC,EACD/C,EAAO,QAAUV,EAAeA,EAAe,CAAE,EAAEmF,EAAU,OAAO,EAAGH,EAAS,OAAO,EACvFtE,EAAO,YAAc","x_google_ignoreList":[0]}