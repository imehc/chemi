import{r as w,R as s}from"../../../../../react/index.js.4247Uq6c.js";import{g as ge}from"../Combobox/get-parsed-combobox-data/get-parsed-combobox-data.mjs.HbwXSL_s.js";import{g as be}from"../Combobox/get-options-lockup/get-options-lockup.mjs.nAJFgDts.js";import{u as we}from"../Combobox/use-combobox/use-combobox.mjs.YzKAjMd8.js";import{C as f}from"../Combobox/Combobox.mjs.lIRZqNhk.js";import{I as H}from"../InputBase/InputBase.mjs.Mj7cwQDM.js";import{O as Se}from"../Combobox/OptionsDropdown/OptionsDropdown.mjs.gLKbuSeN.js";import{f as _e}from"../../core/factory/factory.mjs.tBUv85pj.js";import{u as Pe}from"../../core/MantineProvider/use-props/use-props.mjs.tBosgCdQ.js";import{u as ye}from"../../core/styles-api/use-resolved-styles-api/use-resolved-styles-api.mjs.5T281XYf.js";import{u as Ce}from"../../../../hooks/esm/use-id/use-id.mjs.9sMzG-3e.js";import{u as A}from"../../../../hooks/esm/use-uncontrolled/use-uncontrolled.mjs.RY6Hw8AB.js";var De=Object.defineProperty,Ee=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,T=(e,o,t)=>o in e?De(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,u=(e,o)=>{for(var t in o||(o={}))L.call(o,t)&&T(e,t,o[t]);if(S)for(var t of S(o))U.call(o,t)&&T(e,t,o[t]);return e},z=(e,o)=>Ee(e,Ie(o)),xe=(e,o)=>{var t={};for(var r in e)L.call(e,r)&&o.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&S)for(var r of S(e))o.indexOf(r)<0&&U.call(e,r)&&(t[r]=e[r]);return t};const Ve={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},W=_e((e,o)=>{const t=Pe("Select",Ve,e),r=t,{classNames:$,styles:q,unstyled:h,vars:Fe,dropdownOpened:G,defaultDropdownOpened:J,onDropdownClose:C,onDropdownOpen:K,onFocus:D,onBlur:E,onClick:I,onChange:Q,data:x,value:v,defaultValue:X,selectFirstOptionOnChange:_,onOptionSubmit:V,comboboxProps:Y,readOnly:O,disabled:g,filter:Z,limit:ee,withScrollArea:oe,maxDropdownHeight:te,size:b,searchable:i,rightSection:ne,checkIconPosition:re,withCheckIcon:le,nothingFoundMessage:F,name:ae,form:se,searchValue:ie,defaultSearchValue:ce,onSearchChange:pe,allowDeselect:de,error:k,rightSectionPointerEvents:ue,id:me,clearable:fe,clearButtonProps:he,hiddenInputProps:ve}=r,Oe=xe(r,["classNames","styles","unstyled","vars","dropdownOpened","defaultDropdownOpened","onDropdownClose","onDropdownOpen","onFocus","onBlur","onClick","onChange","data","value","defaultValue","selectFirstOptionOnChange","onOptionSubmit","comboboxProps","readOnly","disabled","filter","limit","withScrollArea","maxDropdownHeight","size","searchable","rightSection","checkIconPosition","withCheckIcon","nothingFoundMessage","name","form","searchValue","defaultSearchValue","onSearchChange","allowDeselect","error","rightSectionPointerEvents","id","clearable","clearButtonProps","hiddenInputProps"]),P=w.useMemo(()=>ge(x),[x]),p=w.useMemo(()=>be(P),[P]),B=Ce(me),[a,N]=A({value:v,defaultValue:X,finalValue:null,onChange:Q}),c=a?p[a]:void 0,[y,d]=A({value:ie,defaultValue:ce,finalValue:c?c.label:"",onChange:pe}),l=we({opened:G,defaultOpened:J,onDropdownOpen:K,onDropdownClose:()=>{C==null||C(),l.resetSelectedOption()}}),{resolvedClassNames:j,resolvedStyles:M}=ye({props:t,styles:q,classNames:$});w.useEffect(()=>{_&&l.selectFirstOption()},[_,a]),w.useEffect(()=>{v===null&&d(""),typeof v=="string"&&c&&d(c.label)},[v,c]);const R=fe&&!!a&&!g&&!O&&s.createElement(f.ClearButton,z(u({size:b},he),{onClear:()=>{N(null),d("")}}));return s.createElement(s.Fragment,null,s.createElement(f,u({store:l,__staticSelector:"Select",classNames:j,styles:M,unstyled:h,readOnly:O,onOptionSubmit:n=>{V==null||V(n);const m=de&&p[n].value===a?null:p[n].value;N(m),d(typeof m=="string"?p[n].label:""),l.closeDropdown()},size:b},Y),s.createElement(f.Target,{targetType:i?"input":"button"},s.createElement(H,z(u({id:B,ref:o,rightSection:ne||R||s.createElement(f.Chevron,{size:b,error:k,unstyled:h}),rightSectionPointerEvents:ue||R?"all":"none"},Oe),{size:b,__staticSelector:"Select",disabled:g,readOnly:O||!i,value:y,onChange:n=>{d(n.currentTarget.value),l.openDropdown(),_&&l.selectFirstOption()},onFocus:n=>{i&&l.openDropdown(),D==null||D(n)},onBlur:n=>{var m;i&&l.closeDropdown(),d(a!=null&&((m=p[a])==null?void 0:m.label)||""),E==null||E(n)},onClick:n=>{i?l.openDropdown():l.toggleDropdown(),I==null||I(n)},classNames:j,styles:M,unstyled:h,pointer:!i,error:k}))),s.createElement(Se,{data:P,hidden:O||g,filter:Z,search:y,limit:ee,hiddenWhenEmpty:!i||!F,withScrollArea:oe,maxDropdownHeight:te,filterOptions:i&&(c==null?void 0:c.label)!==y,value:a,checkIconPosition:re,withCheckIcon:le,nothingFoundMessage:F,unstyled:h,labelId:`${B}-label`})),s.createElement("input",u({type:"hidden",name:ae,value:a||"",form:se,disabled:g},ve)))});W.classes=u(u({},H.classes),f.classes);W.displayName="@mantine/core/Select";export{W as S};
//# sourceMappingURL=Select.mjs.FzYyORql.js.map
