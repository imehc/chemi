import{u as h}from"../../../../../@floating-ui/react/dist/floating-ui.react.mjs.BB_dzHGN.js";import"../../../../../react/index.js.CiILtb88.js";import{u as p}from"../Floating/use-floating-auto-update.mjs.Z1VIyHfJ.js";import{u as o}from"../../../../hooks/esm/use-uncontrolled/use-uncontrolled.mjs.DZJQyLGt.js";import{u as s}from"../../../../hooks/esm/use-did-update/use-did-update.mjs.BfsHUBsg.js";import{o as w}from"../../../../../@floating-ui/core/dist/floating-ui.core.mjs.SkKjqWSs.js";import{s as y,l as m,f as c,i as g,d as O}from"../../../../../@floating-ui/dom/dist/floating-ui.dom.mjs.DWigF56i.js";import{a as b}from"../../../../../@floating-ui/react-dom/dist/floating-ui.react-dom.mjs.DwnM904A.js";function C(e){if(e===void 0)return{shift:!0,flip:!0};const l={...e};return e.shift===void 0&&(l.shift=!0),e.flip===void 0&&(l.flip=!0),l}function v(e,l){const f=C(e.middlewares),r=[w(e.offset)];return f.shift&&r.push(y(typeof f.shift=="boolean"?{limiter:m(),padding:5}:{limiter:m(),padding:5,...f.shift})),f.flip&&r.push(typeof f.flip=="boolean"?c():c(f.flip)),f.inline&&r.push(typeof f.inline=="boolean"?g():g(f.inline)),r.push(b({element:e.arrowRef,padding:e.arrowOffset})),(f.size||e.width==="target")&&r.push(O({...typeof f.size=="boolean"?{}:f.size,apply({rects:n,availableWidth:i,availableHeight:a}){var u;const d=((u=l().refs.floating.current)==null?void 0:u.style)??{};f.size&&Object.assign(d,{maxWidth:`${i}px`,maxHeight:`${a}px`}),e.width==="target"&&Object.assign(d,{width:`${n.reference.width}px`})}})),r}function M(e){const[l,f]=o({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var a;l&&((a=e.onClose)==null||a.call(e),f(!1))},n=()=>{var a,t;l?((a=e.onClose)==null||a.call(e),f(!1)):((t=e.onOpen)==null||t.call(e),f(!0))},i=h({strategy:e.strategy,placement:e.position,middleware:v(e,()=>i)});return p({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),s(()=>{var a;(a=e.onPositionChange)==null||a.call(e,i.placement)},[i.placement]),s(()=>{var a,t;e.opened?(t=e.onOpen)==null||t.call(e):(a=e.onClose)==null||a.call(e)},[e.opened]),{floating:i,controlled:typeof e.opened=="boolean",opened:l,onClose:r,onToggle:n}}export{M as u};
