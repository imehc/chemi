import{u as g}from"../../../../../@floating-ui/react/dist/floating-ui.react.esm.js.GWf08S7F.js";import{u as h}from"../Floating/use-floating-auto-update.mjs.ip6o5FH0.js";import{u as p}from"../../../../hooks/esm/use-uncontrolled/use-uncontrolled.mjs.RY6Hw8AB.js";import{u as c}from"../../../../hooks/esm/use-did-update/use-did-update.mjs.Zd2IBKFg.js";import{o as w,s as _,f as b,i as C,b as O,l as x}from"../../../../../@floating-ui/core/dist/floating-ui.core.mjs.UGiqQufS.js";import{a as y}from"../../../../../@floating-ui/react-dom/dist/floating-ui.react-dom.mjs.zZjPM-86.js";function z(e,n){var i,r,f,a;const l=[w(e.offset)];return(i=e.middlewares)!=null&&i.shift&&l.push(_({limiter:x()})),(r=e.middlewares)!=null&&r.flip&&l.push(b()),(f=e.middlewares)!=null&&f.inline&&l.push(C()),l.push(y({element:e.arrowRef,padding:e.arrowOffset})),((a=e.middlewares)!=null&&a.size||e.width==="target")&&l.push(O({apply({rects:d,availableWidth:m,availableHeight:v}){var s,u,t;const o=(u=(s=n().refs.floating.current)==null?void 0:s.style)!=null?u:{};(t=e.middlewares)!=null&&t.size&&Object.assign(o,{maxWidth:`${m}px`,maxHeight:`${v}px`}),e.width==="target"&&Object.assign(o,{width:`${d.reference.width}px`})}})),l}function A(e){const[n,i]=p({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var l;n&&((l=e.onClose)==null||l.call(e),i(!1))},f=()=>{var l,d;n?((l=e.onClose)==null||l.call(e),i(!1)):((d=e.onOpen)==null||d.call(e),i(!0))},a=g({placement:e.position,middleware:z(e,()=>a)});return h({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:a}),c(()=>{var l;(l=e.onPositionChange)==null||l.call(e,a.placement)},[a.placement]),c(()=>{var l,d;e.opened?(d=e.onOpen)==null||d.call(e):(l=e.onClose)==null||l.call(e)},[e.opened]),{floating:a,controlled:typeof e.opened=="boolean",opened:n,onClose:r,onToggle:f}}export{A as u};
//# sourceMappingURL=use-popover.mjs.feRrr9N6.js.map
