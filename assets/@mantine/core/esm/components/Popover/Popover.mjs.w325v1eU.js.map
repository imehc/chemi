{"version":3,"file":"Popover.mjs.w325v1eU.js","sources":["../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/components/Popover/Popover.mjs"],"sourcesContent":["'use client';\nimport React, { useRef, useState, useCallback } from 'react';\nimport { useId, useClickOutside } from '@mantine/hooks';\nimport { usePopover } from './use-popover.mjs';\nimport { PopoverContextProvider } from './Popover.context.mjs';\nimport { PopoverTarget } from './PopoverTarget/PopoverTarget.mjs';\nimport { PopoverDropdown } from './PopoverDropdown/PopoverDropdown.mjs';\nimport classes from './Popover.module.mjs';\nimport { getFloatingPosition } from '../Floating/get-floating-position/get-floating-position.mjs';\nimport { getDefaultZIndex } from '../../core/utils/get-default-z-index/get-default-z-index.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport { useDirection } from '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { createVarsResolver } from '../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs';\nimport { getRadius, getShadow } from '../../core/utils/get-size/get-size.mjs';\n\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst defaultProps = {\n  position: \"bottom\",\n  offset: 8,\n  positionDependencies: [],\n  transitionProps: { transition: \"fade\", duration: 150 },\n  middlewares: { flip: true, shift: true, inline: false },\n  arrowSize: 7,\n  arrowOffset: 5,\n  arrowRadius: 0,\n  arrowPosition: \"side\",\n  closeOnClickOutside: true,\n  withinPortal: true,\n  closeOnEscape: true,\n  trapFocus: false,\n  withRoles: true,\n  returnFocus: false,\n  clickOutsideEvents: [\"mousedown\", \"touchstart\"],\n  zIndex: getDefaultZIndex(\"popover\"),\n  __staticSelector: \"Popover\",\n  width: \"max-content\"\n};\nconst varsResolver = createVarsResolver((_, { radius, shadow }) => ({\n  dropdown: {\n    \"--popover-radius\": radius === void 0 ? void 0 : getRadius(radius),\n    \"--popover-shadow\": getShadow(shadow)\n  }\n}));\nfunction Popover(_props) {\n  var _b, _c, _d, _e, _f, _g;\n  const props = useProps(\"Popover\", defaultProps, _props);\n  const _a = props, {\n    children,\n    position,\n    offset,\n    onPositionChange,\n    positionDependencies,\n    opened,\n    transitionProps,\n    width,\n    middlewares,\n    withArrow,\n    arrowSize,\n    arrowOffset,\n    arrowRadius,\n    arrowPosition,\n    unstyled,\n    classNames,\n    styles,\n    closeOnClickOutside,\n    withinPortal,\n    portalProps,\n    closeOnEscape,\n    clickOutsideEvents,\n    trapFocus,\n    onClose,\n    onOpen,\n    onChange,\n    zIndex,\n    radius,\n    shadow,\n    id,\n    defaultOpened,\n    __staticSelector,\n    withRoles,\n    disabled,\n    returnFocus,\n    variant,\n    keepMounted,\n    vars\n  } = _a, others = __objRest(_a, [\n    \"children\",\n    \"position\",\n    \"offset\",\n    \"onPositionChange\",\n    \"positionDependencies\",\n    \"opened\",\n    \"transitionProps\",\n    \"width\",\n    \"middlewares\",\n    \"withArrow\",\n    \"arrowSize\",\n    \"arrowOffset\",\n    \"arrowRadius\",\n    \"arrowPosition\",\n    \"unstyled\",\n    \"classNames\",\n    \"styles\",\n    \"closeOnClickOutside\",\n    \"withinPortal\",\n    \"portalProps\",\n    \"closeOnEscape\",\n    \"clickOutsideEvents\",\n    \"trapFocus\",\n    \"onClose\",\n    \"onOpen\",\n    \"onChange\",\n    \"zIndex\",\n    \"radius\",\n    \"shadow\",\n    \"id\",\n    \"defaultOpened\",\n    \"__staticSelector\",\n    \"withRoles\",\n    \"disabled\",\n    \"returnFocus\",\n    \"variant\",\n    \"keepMounted\",\n    \"vars\"\n  ]);\n  const getStyles = useStyles({\n    name: __staticSelector,\n    props,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"dropdown\",\n    vars,\n    varsResolver\n  });\n  const arrowRef = useRef(null);\n  const [targetNode, setTargetNode] = useState(null);\n  const [dropdownNode, setDropdownNode] = useState(null);\n  const { dir } = useDirection();\n  const uid = useId(id);\n  const popover = usePopover({\n    middlewares,\n    width,\n    position: getFloatingPosition(dir, position),\n    offset: typeof offset === \"number\" ? offset + (withArrow ? arrowSize / 2 : 0) : offset,\n    arrowRef,\n    arrowOffset,\n    onPositionChange,\n    positionDependencies,\n    opened,\n    defaultOpened,\n    onChange,\n    onOpen,\n    onClose\n  });\n  useClickOutside(() => closeOnClickOutside && popover.onClose(), clickOutsideEvents, [\n    targetNode,\n    dropdownNode\n  ]);\n  const reference = useCallback(\n    (node) => {\n      setTargetNode(node);\n      popover.floating.refs.setReference(node);\n    },\n    [popover.floating.refs.setReference]\n  );\n  const floating = useCallback(\n    (node) => {\n      setDropdownNode(node);\n      popover.floating.refs.setFloating(node);\n    },\n    [popover.floating.refs.setFloating]\n  );\n  return /* @__PURE__ */ React.createElement(\n    PopoverContextProvider,\n    {\n      value: {\n        returnFocus,\n        disabled,\n        controlled: popover.controlled,\n        reference,\n        floating,\n        x: popover.floating.x,\n        y: popover.floating.y,\n        arrowX: (_d = (_c = (_b = popover.floating) == null ? void 0 : _b.middlewareData) == null ? void 0 : _c.arrow) == null ? void 0 : _d.x,\n        arrowY: (_g = (_f = (_e = popover.floating) == null ? void 0 : _e.middlewareData) == null ? void 0 : _f.arrow) == null ? void 0 : _g.y,\n        opened: popover.opened,\n        arrowRef,\n        transitionProps,\n        width,\n        withArrow,\n        arrowSize,\n        arrowOffset,\n        arrowRadius,\n        arrowPosition,\n        placement: popover.floating.placement,\n        trapFocus,\n        withinPortal,\n        portalProps,\n        zIndex,\n        radius,\n        shadow,\n        closeOnEscape,\n        onClose: popover.onClose,\n        onToggle: popover.onToggle,\n        getTargetId: () => `${uid}-target`,\n        getDropdownId: () => `${uid}-dropdown`,\n        withRoles,\n        targetProps: others,\n        __staticSelector,\n        classNames,\n        styles,\n        unstyled,\n        variant,\n        keepMounted,\n        getStyles\n      }\n    },\n    children\n  );\n}\nPopover.Target = PopoverTarget;\nPopover.Dropdown = PopoverDropdown;\nPopover.displayName = \"@mantine/core/Popover\";\nPopover.extend = (input) => input;\n\nexport { Popover };\n//# sourceMappingURL=Popover.mjs.map\n"],"names":["__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__objRest","source","exclude","target","prop","defaultProps","getDefaultZIndex","varsResolver","createVarsResolver","_","radius","shadow","getRadius","getShadow","Popover","_props","_b","_c","_d","_e","_f","_g","props","useProps","_a","children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted","vars","others","getStyles","useStyles","classes","arrowRef","useRef","targetNode","setTargetNode","useState","dropdownNode","setDropdownNode","dir","useDirection","uid","useId","popover","usePopover","getFloatingPosition","useClickOutside","reference","useCallback","node","floating","React","PopoverContextProvider","PopoverTarget","PopoverDropdown","input"],"mappings":"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","x_google_ignoreList":[0]}