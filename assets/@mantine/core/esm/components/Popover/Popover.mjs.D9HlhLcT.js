import{j as lo}from"../../../../../react/jsx-runtime.js.Cm6upDnr.js";import{r}from"../../../../../react/index.js.IuPGg7Py.js";import{g as po}from"../../core/utils/get-default-z-index/get-default-z-index.mjs.CUjKoHex.js";import{g as co,c as fo}from"../../core/utils/get-size/get-size.mjs.Did5qDJb.js";import{c as uo}from"../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs.BkjTnGuP.js";import{u as mo}from"../../core/MantineProvider/use-props/use-props.mjs.CZPYrlnm.js";import{u as go}from"../../core/styles-api/use-styles/use-styles.mjs.DULnKD6v.js";import{u as wo}from"../../core/DirectionProvider/DirectionProvider.mjs.D4VkX0uh.js";import{g as Po}from"../Floating/get-floating-position/get-floating-position.mjs.CbvAFs5F.js";import{P as vo}from"./Popover.context.mjs.BEzkfCQQ.js";import{P as ho}from"./PopoverDropdown/PopoverDropdown.mjs.C7Q4noXu.js";import{P as xo}from"./PopoverTarget/PopoverTarget.mjs.CBQi7mms.js";import{u as Oo}from"./use-popover.mjs.D3kHp8c-.js";import{c as Co}from"./Popover.module.css.mjs.Bg5U5xCo.js";import{u as Ro}from"../../../../hooks/esm/use-id/use-id.mjs.Du7iq5Uz.js";import{u as yo}from"../../../../hooks/esm/use-click-outside/use-click-outside.mjs.7BvqqA71.js";const So={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:po("popover"),__staticSelector:"Popover",width:"max-content"},Do=uo((s,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:co(e),"--popover-shadow":fo(n)}}));function a(s){var v,h,x,O,C,R;const e=mo("Popover",So,s),{children:n,position:y,offset:i,onPositionChange:S,positionDependencies:D,opened:k,transitionProps:F,width:l,middlewares:E,withArrow:p,arrowSize:d,arrowOffset:c,arrowRadius:I,arrowPosition:N,unstyled:f,classNames:u,styles:m,closeOnClickOutside:T,withinPortal:b,portalProps:_,closeOnEscape:z,clickOutsideEvents:j,trapFocus:$,onClose:A,onOpen:M,onChange:V,zIndex:X,radius:Y,shadow:Z,id:q,defaultOpened:B,__staticSelector:g,withRoles:G,disabled:H,returnFocus:J,variant:K,keepMounted:L,vars:Q,floatingStrategy:U,...W}=e,oo=go({name:g,props:e,classes:Co,classNames:u,styles:m,unstyled:f,rootSelector:"dropdown",vars:Q,varsResolver:Do}),w=r.useRef(null),[eo,to]=r.useState(null),[ro,so]=r.useState(null),{dir:ao}=wo(),P=Ro(q),o=Oo({middlewares:E,width:l,position:Po(ao,y),offset:typeof i=="number"?i+(p?d/2:0):i,arrowRef:w,arrowOffset:c,onPositionChange:S,positionDependencies:D,opened:k,defaultOpened:B,onChange:V,onOpen:M,onClose:A,strategy:U});yo(()=>T&&o.onClose(),j,[eo,ro]);const no=r.useCallback(t=>{to(t),o.floating.refs.setReference(t)},[o.floating.refs.setReference]),io=r.useCallback(t=>{so(t),o.floating.refs.setFloating(t)},[o.floating.refs.setFloating]);return lo.jsx(vo,{value:{returnFocus:J,disabled:H,controlled:o.controlled,reference:no,floating:io,x:o.floating.x,y:o.floating.y,arrowX:(x=(h=(v=o.floating)==null?void 0:v.middlewareData)==null?void 0:h.arrow)==null?void 0:x.x,arrowY:(R=(C=(O=o.floating)==null?void 0:O.middlewareData)==null?void 0:C.arrow)==null?void 0:R.y,opened:o.opened,arrowRef:w,transitionProps:F,width:l,withArrow:p,arrowSize:d,arrowOffset:c,arrowRadius:I,arrowPosition:N,placement:o.floating.placement,trapFocus:$,withinPortal:b,portalProps:_,zIndex:X,radius:Y,shadow:Z,closeOnEscape:z,onClose:o.onClose,onToggle:o.onToggle,getTargetId:()=>`${P}-target`,getDropdownId:()=>`${P}-dropdown`,withRoles:G,targetProps:W,__staticSelector:g,classNames:u,styles:m,unstyled:f,variant:K,keepMounted:L,getStyles:oo},children:n})}a.Target=xo;a.Dropdown=ho;a.displayName="@mantine/core/Popover";a.extend=s=>s;export{a as P};
