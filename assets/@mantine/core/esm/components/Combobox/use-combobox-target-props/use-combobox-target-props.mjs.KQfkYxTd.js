import{r as u}from"../../../../../../react/index.js.CiILtb88.js";import{u as f}from"../Combobox.context.mjs.BUjRvFVX.js";function w({onKeyDown:r,withKeyboardNavigation:n,withAriaAttributes:i,withExpandedAttribute:s,targetType:d,autoComplete:p}){const e=f(),[a,t]=u.useState(null),c=o=>{if(r==null||r(o),!e.readOnly&&n){if(o.nativeEvent.isComposing)return;if(o.nativeEvent.code==="ArrowDown"&&(o.preventDefault(),e.store.dropdownOpened?t(e.store.selectNextOption()):(e.store.openDropdown("keyboard"),t(e.store.selectActiveOption()))),o.nativeEvent.code==="ArrowUp"&&(o.preventDefault(),e.store.dropdownOpened?t(e.store.selectPreviousOption()):(e.store.openDropdown("keyboard"),t(e.store.selectActiveOption()))),o.nativeEvent.code==="Enter"||o.nativeEvent.code==="NumpadEnter"){if(o.nativeEvent.keyCode===229)return;const l=e.store.getSelectedOptionIndex();e.store.dropdownOpened&&l!==-1?(o.preventDefault(),e.store.clickSelectedOption()):d==="button"&&(o.preventDefault(),e.store.openDropdown("keyboard"))}o.nativeEvent.code==="Escape"&&e.store.closeDropdown("keyboard"),o.nativeEvent.code==="Space"&&d==="button"&&(o.preventDefault(),e.store.toggleDropdown("keyboard"))}};return{...i?{"aria-haspopup":"listbox","aria-expanded":s&&!!(e.store.listId&&e.store.dropdownOpened)||void 0,"aria-controls":e.store.listId,"aria-activedescendant":e.store.dropdownOpened&&a||void 0,autoComplete:p,"data-expanded":e.store.dropdownOpened||void 0,"data-mantine-stop-propagation":e.store.dropdownOpened||void 0}:{},onKeyDown:c}}export{w as u};
