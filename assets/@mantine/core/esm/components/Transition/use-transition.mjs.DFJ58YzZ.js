import{r as t}from"../../../../../react/index.js.IuPGg7Py.js";import{R as F}from"../../../../../react-dom/index.js.DLK93kQg.js";import"../../../../../react/jsx-runtime.js.Cm6upDnr.js";import{u as A}from"../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs.BPh_bbWQ.js";import{u as q}from"../../../../hooks/esm/use-reduced-motion/use-reduced-motion.mjs.Bsopbra6.js";import{u as E}from"../../../../hooks/esm/use-did-update/use-did-update.mjs.Di8RN7PN.js";function j({duration:u,exitDuration:m,timingFunction:p,mounted:o,onEnter:d,onExit:R,onEntered:T,onExited:w}){const x=A(),g=q(),f=x.respectReducedMotion?g:!1,[S,y]=t.useState(f?0:u),[D,n]=t.useState(o?"entered":"exited"),s=t.useRef(-1),a=t.useRef(-1),l=e=>{const i=e?d:R,r=e?T:w;window.clearTimeout(s.current);const c=f?0:e?u:m;y(c),c===0?(typeof i=="function"&&i(),typeof r=="function"&&r(),n(e?"entered":"exited")):a.current=requestAnimationFrame(()=>{F.flushSync(()=>{n(e?"pre-entering":"pre-exiting")}),a.current=requestAnimationFrame(()=>{typeof i=="function"&&i(),n(e?"entering":"exiting"),s.current=window.setTimeout(()=>{typeof r=="function"&&r(),n(e?"entered":"exited")},c)})})};return E(()=>{l(o)},[o]),t.useEffect(()=>()=>{window.clearTimeout(s.current),cancelAnimationFrame(a.current)},[]),{transitionDuration:S,transitionStatus:D,transitionTimingFunction:p||"ease"}}export{j as u};
