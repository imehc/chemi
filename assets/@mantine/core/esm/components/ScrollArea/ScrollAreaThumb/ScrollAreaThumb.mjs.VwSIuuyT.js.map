{"version":3,"file":"ScrollAreaThumb.mjs.VwSIuuyT.js","sources":["../../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/components/ScrollArea/ScrollAreaThumb/ScrollAreaThumb.mjs"],"sourcesContent":["'use client';\nimport React, { forwardRef, useRef, useEffect } from 'react';\nimport { useMergedRef, useDebounceCallback } from '@mantine/hooks';\nimport { useScrollbarContext } from '../ScrollAreaScrollbar/Scrollbar.context.mjs';\nimport { useScrollAreaContext } from '../ScrollArea.context.mjs';\nimport { composeEventHandlers } from '../utils/compose-event-handlers.mjs';\nimport { addUnlinkedScrollListener } from '../utils/add-unlinked-scroll-listener.mjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst Thumb = forwardRef((props, forwardedRef) => {\n  const _a = props, { style } = _a, others = __objRest(_a, [\"style\"]);\n  const scrollAreaContext = useScrollAreaContext();\n  const scrollbarContext = useScrollbarContext();\n  const { onThumbPositionChange } = scrollbarContext;\n  const composedRef = useMergedRef(forwardedRef, (node) => scrollbarContext.onThumbChange(node));\n  const removeUnlinkedScrollListenerRef = useRef();\n  const debounceScrollEnd = useDebounceCallback(() => {\n    if (removeUnlinkedScrollListenerRef.current) {\n      removeUnlinkedScrollListenerRef.current();\n      removeUnlinkedScrollListenerRef.current = void 0;\n    }\n  }, 100);\n  useEffect(() => {\n    const { viewport } = scrollAreaContext;\n    if (viewport) {\n      const handleScroll = () => {\n        debounceScrollEnd();\n        if (!removeUnlinkedScrollListenerRef.current) {\n          const listener = addUnlinkedScrollListener(viewport, onThumbPositionChange);\n          removeUnlinkedScrollListenerRef.current = listener;\n          onThumbPositionChange();\n        }\n      };\n      onThumbPositionChange();\n      viewport.addEventListener(\"scroll\", handleScroll);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll);\n    }\n    return void 0;\n  }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n  return /* @__PURE__ */ React.createElement(\n    \"div\",\n    __spreadProps(__spreadValues({\n      \"data-state\": scrollbarContext.hasThumb ? \"visible\" : \"hidden\"\n    }, others), {\n      ref: composedRef,\n      style: __spreadValues({\n        width: \"var(--sa-thumb-width)\",\n        height: \"var(--sa-thumb-height)\"\n      }, style),\n      onPointerDownCapture: composeEventHandlers(props.onPointerDownCapture, (event) => {\n        const thumb = event.target;\n        const thumbRect = thumb.getBoundingClientRect();\n        const x = event.clientX - thumbRect.left;\n        const y = event.clientY - thumbRect.top;\n        scrollbarContext.onThumbPointerDown({ x, y });\n      }),\n      onPointerUp: composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)\n    })\n  );\n});\nconst ScrollAreaThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const _a = props, { forceMount } = _a, thumbProps = __objRest(_a, [\"forceMount\"]);\n    const scrollbarContext = useScrollbarContext();\n    if (forceMount || scrollbarContext.hasThumb) {\n      return /* @__PURE__ */ React.createElement(Thumb, __spreadValues({ ref: forwardedRef }, thumbProps));\n    }\n    return null;\n  }\n);\n\nexport { ScrollAreaThumb, Thumb };\n//# sourceMappingURL=ScrollAreaThumb.mjs.map\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","Thumb","forwardRef","props","forwardedRef","_a","style","others","scrollAreaContext","useScrollAreaContext","scrollbarContext","useScrollbarContext","onThumbPositionChange","composedRef","useMergedRef","node","removeUnlinkedScrollListenerRef","useRef","debounceScrollEnd","useDebounceCallback","useEffect","viewport","handleScroll","listener","addUnlinkedScrollListener","React","composeEventHandlers","event","thumbRect","x","y","ScrollAreaThumb","forceMount","thumbProps"],"mappings":"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","x_google_ignoreList":[0]}