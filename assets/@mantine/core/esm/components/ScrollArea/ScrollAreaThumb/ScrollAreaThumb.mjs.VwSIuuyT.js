import{r as p,R as d}from"../../../../../../react/index.js.4247Uq6c.js";import{u as P}from"../ScrollAreaScrollbar/Scrollbar.context.mjs.sO6WSE2C.js";import{u as E}from"../ScrollArea.context.mjs.Vl-uENFp.js";import{c as v}from"../utils/compose-event-handlers.mjs.pt5eZu6P.js";import{a as S}from"../utils/add-unlinked-scroll-listener.mjs.r2FZoYs1.js";import{u as x}from"../../../../../hooks/esm/use-merged-ref/use-merged-ref.mjs.8oqygT_9.js";import{u as T}from"../../../../../hooks/esm/use-debounced-callback/use-debounced-callback.mjs.xnx1mM4N.js";var D=Object.defineProperty,j=Object.defineProperties,U=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,_=(r,e,t)=>e in r?D(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))w.call(e,t)&&_(r,t,e[t]);if(f)for(var t of f(e))g.call(e,t)&&_(r,t,e[t]);return r},L=(r,e)=>j(r,U(e)),O=(r,e)=>{var t={};for(var o in r)w.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&f)for(var o of f(r))e.indexOf(o)<0&&g.call(r,o)&&(t[o]=r[o]);return t};const A=p.forwardRef((r,e)=>{const t=r,{style:o}=t,u=O(t,["style"]),i=E(),a=P(),{onThumbPositionChange:l}=a,y=x(e,n=>a.onThumbChange(n)),s=p.useRef(),b=T(()=>{s.current&&(s.current(),s.current=void 0)},100);return p.useEffect(()=>{const{viewport:n}=i;if(n){const m=()=>{if(b(),!s.current){const c=S(n,l);s.current=c,l()}};return l(),n.addEventListener("scroll",m),()=>n.removeEventListener("scroll",m)}},[i.viewport,b,l]),d.createElement("div",L(h({"data-state":a.hasThumb?"visible":"hidden"},u),{ref:y,style:h({width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)"},o),onPointerDownCapture:v(r.onPointerDownCapture,n=>{const c=n.target.getBoundingClientRect(),C=n.clientX-c.left,R=n.clientY-c.top;a.onThumbPointerDown({x:C,y:R})}),onPointerUp:v(r.onPointerUp,a.onThumbPointerUp)}))}),X=d.forwardRef((r,e)=>{const t=r,{forceMount:o}=t,u=O(t,["forceMount"]),i=P();return o||i.hasThumb?d.createElement(A,h({ref:e},u)):null});export{X as S};
//# sourceMappingURL=ScrollAreaThumb.mjs.VwSIuuyT.js.map
