{"version":3,"file":"ScrollAreaScrollbarScroll.mjs.X67fFpLq.js","sources":["../../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/components/ScrollArea/ScrollAreaScrollbar/ScrollAreaScrollbarScroll.mjs"],"sourcesContent":["'use client';\nimport React, { forwardRef, useState, useEffect } from 'react';\nimport { useDebounceCallback } from '@mantine/hooks';\nimport { useScrollAreaContext } from '../ScrollArea.context.mjs';\nimport { ScrollAreaScrollbarVisible } from './ScrollAreaScrollbarVisible.mjs';\nimport { composeEventHandlers } from '../utils/compose-event-handlers.mjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst ScrollAreaScrollbarScroll = forwardRef(\n  (props, red) => {\n    const _a = props, { forceMount } = _a, scrollbarProps = __objRest(_a, [\"forceMount\"]);\n    const context = useScrollAreaContext();\n    const isHorizontal = props.orientation === \"horizontal\";\n    const [state, setState] = useState(\"hidden\");\n    const debounceScrollEnd = useDebounceCallback(() => setState(\"idle\"), 100);\n    useEffect(() => {\n      if (state === \"idle\") {\n        const hideTimer = window.setTimeout(() => setState(\"hidden\"), context.scrollHideDelay);\n        return () => window.clearTimeout(hideTimer);\n      }\n      return void 0;\n    }, [state, context.scrollHideDelay]);\n    useEffect(() => {\n      const { viewport } = context;\n      const scrollDirection = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n      if (viewport) {\n        let prevScrollPos = viewport[scrollDirection];\n        const handleScroll = () => {\n          const scrollPos = viewport[scrollDirection];\n          const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n          if (hasScrollInDirectionChanged) {\n            setState(\"scrolling\");\n            debounceScrollEnd();\n          }\n          prevScrollPos = scrollPos;\n        };\n        viewport.addEventListener(\"scroll\", handleScroll);\n        return () => viewport.removeEventListener(\"scroll\", handleScroll);\n      }\n      return void 0;\n    }, [context.viewport, isHorizontal, debounceScrollEnd]);\n    if (forceMount || state !== \"hidden\") {\n      return /* @__PURE__ */ React.createElement(\n        ScrollAreaScrollbarVisible,\n        __spreadProps(__spreadValues({\n          \"data-state\": state === \"hidden\" ? \"hidden\" : \"visible\"\n        }, scrollbarProps), {\n          ref: red,\n          onPointerEnter: composeEventHandlers(props.onPointerEnter, () => setState(\"interacting\")),\n          onPointerLeave: composeEventHandlers(props.onPointerLeave, () => setState(\"idle\"))\n        })\n      );\n    }\n    return null;\n  }\n);\n\nexport { ScrollAreaScrollbarScroll };\n//# sourceMappingURL=ScrollAreaScrollbarScroll.mjs.map\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","ScrollAreaScrollbarScroll","forwardRef","props","red","_a","forceMount","scrollbarProps","context","useScrollAreaContext","isHorizontal","state","setState","useState","debounceScrollEnd","useDebounceCallback","useEffect","hideTimer","viewport","scrollDirection","prevScrollPos","handleScroll","scrollPos","React","ScrollAreaScrollbarVisible","composeEventHandlers"],"mappings":"kXAOA,IAAIA,EAAY,OAAO,eACnBC,EAAa,OAAO,iBACpBC,EAAoB,OAAO,0BAC3BC,EAAsB,OAAO,sBAC7BC,EAAe,OAAO,UAAU,eAChCC,EAAe,OAAO,UAAU,qBAChCC,EAAkB,CAACC,EAAKC,EAAKC,IAAUD,KAAOD,EAAMP,EAAUO,EAAKC,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAC,CAAO,CAAA,EAAIF,EAAIC,CAAG,EAAIC,EACtJC,EAAiB,CAACC,EAAGC,IAAM,CAC7B,QAASC,KAAQD,IAAMA,EAAI,CAAA,GACrBR,EAAa,KAAKQ,EAAGC,CAAI,GAC3BP,EAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EACpC,GAAIV,EACF,QAASU,KAAQV,EAAoBS,CAAC,EAChCP,EAAa,KAAKO,EAAGC,CAAI,GAC3BP,EAAgBK,EAAGE,EAAMD,EAAEC,CAAI,CAAC,EAEtC,OAAOF,CACT,EACIG,EAAgB,CAACH,EAAGC,IAAMX,EAAWU,EAAGT,EAAkBU,CAAC,CAAC,EAC5DG,EAAY,CAACC,EAAQC,IAAY,CACnC,IAAIC,EAAS,CAAA,EACb,QAASL,KAAQG,EACXZ,EAAa,KAAKY,EAAQH,CAAI,GAAKI,EAAQ,QAAQJ,CAAI,EAAI,IAC7DK,EAAOL,CAAI,EAAIG,EAAOH,CAAI,GAC9B,GAAIG,GAAU,MAAQb,EACpB,QAASU,KAAQV,EAAoBa,CAAM,EACrCC,EAAQ,QAAQJ,CAAI,EAAI,GAAKR,EAAa,KAAKW,EAAQH,CAAI,IAC7DK,EAAOL,CAAI,EAAIG,EAAOH,CAAI,GAEhC,OAAOK,CACT,EACK,MAACC,EAA4BC,EAAU,WAC1C,CAACC,EAAOC,IAAQ,CACd,MAAMC,EAAKF,EAAO,CAAE,WAAAG,GAAeD,EAAIE,EAAiBV,EAAUQ,EAAI,CAAC,YAAY,CAAC,EAC9EG,EAAUC,IACVC,EAAeP,EAAM,cAAgB,aACrC,CAACQ,EAAOC,CAAQ,EAAIC,EAAQ,SAAC,QAAQ,EACrCC,EAAoBC,EAAoB,IAAMH,EAAS,MAAM,EAAG,GAAG,EA2BzE,OA1BAI,EAAAA,UAAU,IAAM,CACd,GAAIL,IAAU,OAAQ,CACpB,MAAMM,EAAY,OAAO,WAAW,IAAML,EAAS,QAAQ,EAAGJ,EAAQ,eAAe,EACrF,MAAO,IAAM,OAAO,aAAaS,CAAS,CAC3C,CAEF,EAAE,CAACN,EAAOH,EAAQ,eAAe,CAAC,EACnCQ,EAAAA,UAAU,IAAM,CACd,KAAM,CAAE,SAAAE,CAAU,EAAGV,EACfW,EAAkBT,EAAe,aAAe,YACtD,GAAIQ,EAAU,CACZ,IAAIE,EAAgBF,EAASC,CAAe,EAC5C,MAAME,EAAe,IAAM,CACzB,MAAMC,EAAYJ,EAASC,CAAe,EACNC,IAAkBE,IAEpDV,EAAS,WAAW,EACpBE,KAEFM,EAAgBE,CAC1B,EACQ,OAAAJ,EAAS,iBAAiB,SAAUG,CAAY,EACzC,IAAMH,EAAS,oBAAoB,SAAUG,CAAY,CACjE,CAEF,EAAE,CAACb,EAAQ,SAAUE,EAAcI,CAAiB,CAAC,EAClDR,GAAcK,IAAU,SACHY,EAAM,cAC3BC,EACA5B,EAAcJ,EAAe,CAC3B,aAAcmB,IAAU,SAAW,SAAW,SAC/C,EAAEJ,CAAc,EAAG,CAClB,IAAKH,EACL,eAAgBqB,EAAqBtB,EAAM,eAAgB,IAAMS,EAAS,aAAa,CAAC,EACxF,eAAgBa,EAAqBtB,EAAM,eAAgB,IAAMS,EAAS,MAAM,CAAC,CAC3F,CAAS,CACT,EAEW,IACR,CACH","x_google_ignoreList":[0]}