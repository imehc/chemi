{"version":3,"file":"ScrollAreaScrollbarVisible.mjs.1L8u4Dwq.js","sources":["../../../../../../../../node_modules/.pnpm/@mantine+core@7.2.2_@mantine+hooks@7.2.2_@types+react@18.2.38_react-dom@18.2.0_react@18.2.0/node_modules/@mantine/core/esm/components/ScrollArea/ScrollAreaScrollbar/ScrollAreaScrollbarVisible.mjs"],"sourcesContent":["'use client';\nimport React, { forwardRef, useRef, useState } from 'react';\nimport { useScrollAreaContext } from '../ScrollArea.context.mjs';\nimport { ScrollAreaScrollbarX } from './ScrollbarX.mjs';\nimport { ScrollAreaScrollbarY } from './ScrollbarY.mjs';\nimport { useDirection } from '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { getThumbRatio } from '../utils/get-thumb-ratio.mjs';\nimport { getThumbOffsetFromScroll } from '../utils/get-thumb-offset-from-scroll.mjs';\nimport { getScrollPositionFromPointer } from '../utils/get-scroll-position-from-pointer.mjs';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst ScrollAreaScrollbarVisible = forwardRef((props, forwardedRef) => {\n  const _a = props, { orientation = \"vertical\" } = _a, scrollbarProps = __objRest(_a, [\"orientation\"]);\n  const { dir } = useDirection();\n  const context = useScrollAreaContext();\n  const thumbRef = useRef(null);\n  const pointerOffsetRef = useRef(0);\n  const [sizes, setSizes] = useState({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 }\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n  const commonProps = __spreadProps(__spreadValues({}, scrollbarProps), {\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => {\n      thumbRef.current = thumb;\n    },\n    onThumbPointerUp: () => {\n      pointerOffsetRef.current = 0;\n    },\n    onThumbPointerDown: (pointerPos) => {\n      pointerOffsetRef.current = pointerPos;\n    }\n  });\n  const getScrollPosition = (pointerPos, direction) => getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, direction);\n  if (orientation === \"horizontal\") {\n    return /* @__PURE__ */ React.createElement(\n      ScrollAreaScrollbarX,\n      __spreadProps(__spreadValues({}, commonProps), {\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport)\n            context.viewport.scrollLeft = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, dir);\n          }\n        }\n      })\n    );\n  }\n  if (orientation === \"vertical\") {\n    return /* @__PURE__ */ React.createElement(\n      ScrollAreaScrollbarY,\n      __spreadProps(__spreadValues({}, commonProps), {\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport)\n            context.viewport.scrollTop = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport)\n            context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }\n      })\n    );\n  }\n  return null;\n});\n\nexport { ScrollAreaScrollbarVisible };\n//# sourceMappingURL=ScrollAreaScrollbarVisible.mjs.map\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","ScrollAreaScrollbarVisible","forwardRef","props","forwardedRef","_a","orientation","scrollbarProps","dir","useDirection","context","useScrollAreaContext","thumbRef","useRef","pointerOffsetRef","sizes","setSizes","useState","thumbRatio","getThumbRatio","commonProps","thumb","pointerPos","getScrollPosition","direction","getScrollPositionFromPointer","React","ScrollAreaScrollbarX","scrollPos","offset","getThumbOffsetFromScroll","ScrollAreaScrollbarY"],"mappings":"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","x_google_ignoreList":[0]}