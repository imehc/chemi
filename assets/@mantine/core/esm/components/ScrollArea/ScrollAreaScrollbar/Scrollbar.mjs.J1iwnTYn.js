import{r as p,R as i}from"../../../../../../react/index.js.4247Uq6c.js";import{u as w}from"../use-resize-observer.mjs.dOkCWTkB.js";import{u as L}from"../ScrollArea.context.mjs.Vl-uENFp.js";import{S as A}from"./Scrollbar.context.mjs.sO6WSE2C.js";import{c as b}from"../utils/compose-event-handlers.mjs.pt5eZu6P.js";import{u as B}from"../../../../../hooks/esm/use-merged-ref/use-merged-ref.mjs.8oqygT_9.js";import{u as c}from"../../../../../hooks/esm/use-callback-ref/use-callback-ref.mjs.Y--yqzTQ.js";import{u as H}from"../../../../../hooks/esm/use-debounced-callback/use-debounced-callback.mjs.xnx1mM4N.js";var N=Object.defineProperty,V=Object.defineProperties,X=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,y=(e,o,r)=>o in e?N(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,R=(e,o)=>{for(var r in o||(o={}))O.call(o,r)&&y(e,r,o[r]);if(m)for(var r of m(o))T.call(o,r)&&y(e,r,o[r]);return e},Y=(e,o)=>V(e,X(o)),q=(e,o)=>{var r={};for(var n in e)O.call(e,n)&&o.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&m)for(var n of m(e))o.indexOf(n)<0&&T.call(e,n)&&(r[n]=e[n]);return r};const re=p.forwardRef((e,o)=>{const r=e,{sizes:n,hasThumb:C,onThumbChange:D,onThumbPointerUp:E,onThumbPointerDown:U,onThumbPositionChange:x,onDragScroll:W,onWheelScroll:z,onResize:j}=r,h=q(r,["sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),P=L(),[l,I]=i.useState(null),k=B(o,t=>I(t)),a=i.useRef(null),d=i.useRef(""),{viewport:M}=P,v=n.content-n.viewport,g=c(z),f=c(x),S=H(j,10),_=t=>{if(a.current){const s=t.clientX-a.current.left,u=t.clientY-a.current.top;W({x:s,y:u})}};return p.useEffect(()=>{const t=s=>{const u=s.target;(l==null?void 0:l.contains(u))&&g(s,v)};return document.addEventListener("wheel",t,{passive:!1}),()=>document.removeEventListener("wheel",t,{passive:!1})},[M,l,v,g]),p.useEffect(f,[n,f]),w(l,S),w(P.content,S),i.createElement(A,{value:{scrollbar:l,hasThumb:C,onThumbChange:c(D),onThumbPointerUp:c(E),onThumbPositionChange:f,onThumbPointerDown:c(U)}},i.createElement("div",Y(R({},h),{ref:k,style:R({position:"absolute"},h.style),onPointerDown:b(e.onPointerDown,t=>{t.button===0&&(t.target.setPointerCapture(t.pointerId),a.current=l.getBoundingClientRect(),d.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_(t))}),onPointerMove:b(e.onPointerMove,_),onPointerUp:b(e.onPointerUp,t=>{const s=t.target;s.hasPointerCapture(t.pointerId)&&s.releasePointerCapture(t.pointerId),document.body.style.webkitUserSelect=d.current,a.current=null})})))});export{re as S};
//# sourceMappingURL=Scrollbar.mjs.J1iwnTYn.js.map
