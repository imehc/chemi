import{j as l}from"../../../../../../react/jsx-runtime.js.Cm6upDnr.js";import{r as t}from"../../../../../../react/index.js.IuPGg7Py.js";import{i as u}from"../../../core/utils/is-element/is-element.mjs.BA-0ETtU.js";import{c as o}from"../../../core/utils/create-event-handler/create-event-handler.mjs.C3eq9ghx.js";import{u as d}from"../../../core/MantineProvider/use-props/use-props.mjs.CZPYrlnm.js";import{P as g}from"../../Popover/Popover.mjs.D9HlhLcT.js";import{u as f}from"../Menu.context.mjs.DIDhN9eF.js";const h={refProp:"ref"},v=t.forwardRef((n,s)=>{const{children:r,refProp:p,...i}=d("MenuTarget",h,n);if(!u(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const e=f(),a=o(r.props.onClick,()=>{e.trigger==="click"?e.toggleDropdown():e.trigger==="click-hover"&&(e.setOpenedViaClick(!0),e.opened||e.openDropdown())}),c=o(r.props.onMouseEnter,()=>(e.trigger==="hover"||e.trigger==="click-hover")&&e.openDropdown()),m=o(r.props.onMouseLeave,()=>{(e.trigger==="hover"||e.trigger==="click-hover"&&!e.openedViaClick)&&e.closeDropdown()});return l.jsx(g.Target,{refProp:p,popupType:"menu",ref:s,...i,children:t.cloneElement(r,{onClick:a,onMouseEnter:c,onMouseLeave:m,"data-expanded":e.opened?!0:void 0})})});v.displayName="@mantine/core/MenuTarget";export{v as M};
