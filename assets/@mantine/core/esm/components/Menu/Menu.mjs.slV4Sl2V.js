import{j as D}from"../../../../../react/jsx-runtime.js.Cm6upDnr.js";import{r as q}from"../../../../../react/index.js.IuPGg7Py.js";import{g as z}from"../../core/utils/get-context-item-index/get-context-item-index.mjs.DqLzdSzf.js";import{u as B}from"../../core/utils/use-hovered/use-hovered.mjs.B5S2Uh-k.js";import{u as G}from"../../core/styles-api/use-resolved-styles-api/use-resolved-styles-api.mjs.Dru9K7M9.js";import{u as J}from"../../core/styles-api/use-styles/use-styles.mjs.DULnKD6v.js";import{u as K}from"../../core/MantineProvider/use-props/use-props.mjs.CZPYrlnm.js";import{u as Q}from"../Floating/use-delayed-hover.mjs.ByLuahZE.js";import{P as W}from"../Popover/Popover.mjs.D9HlhLcT.js";import{M as X}from"./Menu.context.mjs.DIDhN9eF.js";import{M as Y}from"./MenuDivider/MenuDivider.mjs.DZTxeMRu.js";import{M as Z}from"./MenuDropdown/MenuDropdown.mjs.Dssj26Tx.js";import{M as $}from"./MenuItem/MenuItem.mjs.Cg55Hls6.js";import{M as ee}from"./MenuLabel/MenuLabel.mjs.jgS3KEec.js";import{M as oe}from"./MenuTarget/MenuTarget.mjs.CrgI0QMH.js";import{c as y}from"./Menu.module.css.mjs.dnHUMnVv.js";import{u as se}from"../../../../hooks/esm/use-uncontrolled/use-uncontrolled.mjs.Cwcj0cnG.js";import{u as te}from"../../../../hooks/esm/use-did-update/use-did-update.mjs.Di8RN7PN.js";const re={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function e(t){const r=K("Menu",re,t),{children:g,onOpen:n,onClose:a,opened:x,defaultOpened:c,trapFocus:I,onChange:w,closeOnItemClick:k,loop:C,closeOnEscape:h,trigger:l,openDelay:O,closeDelay:S,classNames:u,styles:d,unstyled:m,variant:P,vars:ne,menuItemTabIndex:b,keepMounted:i,...j}=r,E=J({name:"Menu",classes:y,props:r,classNames:u,styles:d,unstyled:m}),[H,{setHovered:N,resetHovered:T}]=B(),[o,f]=se({value:x,defaultValue:c,finalValue:!1,onChange:w}),[V,M]=q.useState(!1),s=()=>{f(!1),M(!1),o&&(a==null||a())},p=()=>{f(!0),!o&&(n==null||n())},v=()=>{o?s():p()},{openDropdown:F,closeDropdown:_}=Q({open:p,close:s,closeDelay:S,openDelay:O}),L=A=>z("[data-menu-item]","[data-menu-dropdown]",A),{resolvedClassNames:R,resolvedStyles:U}=G({classNames:u,styles:d,props:r});return te(()=>{T()},[o]),D.jsx(X,{value:{getStyles:E,opened:o,toggleDropdown:v,getItemIndex:L,hovered:H,setHovered:N,openedViaClick:V,setOpenedViaClick:M,closeOnItemClick:k,closeDropdown:l==="click"?s:_,openDropdown:l==="click"?p:F,closeDropdownImmediately:s,loop:C,trigger:l,unstyled:m,menuItemTabIndex:b},children:D.jsx(W,{...j,opened:o,onChange:v,defaultOpened:c,trapFocus:i?!1:I,closeOnEscape:h,__staticSelector:"Menu",classNames:R,styles:U,unstyled:m,variant:P,keepMounted:i,children:g})})}e.extend=t=>t;e.classes=y;e.displayName="@mantine/core/Menu";e.Item=$;e.Label=ee;e.Dropdown=Z;e.Target=oe;e.Divider=Y;export{e as M};
