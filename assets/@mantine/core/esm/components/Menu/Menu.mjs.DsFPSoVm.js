import{r as q,R as D}from"../../../../../react/index.js.CiILtb88.js";import{g as z}from"../../core/utils/get-context-item-index/get-context-item-index.mjs.DqLzdSzf.js";import{u as B}from"../../core/utils/use-hovered/use-hovered.mjs.Cp8BId8H.js";import{u as G}from"../../core/styles-api/use-resolved-styles-api/use-resolved-styles-api.mjs.k8RCdNa3.js";import{u as J}from"../../core/styles-api/use-styles/use-styles.mjs.BYmH-OWY.js";import{u as K}from"../../core/MantineProvider/use-props/use-props.mjs.DV5d7PVT.js";import{u as Q}from"../Floating/use-delayed-hover.mjs.B6BmyWiQ.js";import{P as W}from"../Popover/Popover.mjs.RBYStYDa.js";import{M as X}from"./Menu.context.mjs.ChI9vUsI.js";import{M as Y}from"./MenuDivider/MenuDivider.mjs.DBI98yqM.js";import{M as Z}from"./MenuDropdown/MenuDropdown.mjs.H_GICRPx.js";import{M as $}from"./MenuItem/MenuItem.mjs.DnCzaFal.js";import{M as ee}from"./MenuLabel/MenuLabel.mjs.CJySqoIQ.js";import{M as oe}from"./MenuTarget/MenuTarget.mjs.Cz9IxNr-.js";import{c as y}from"./Menu.module.css.mjs.dnHUMnVv.js";import{u as te}from"../../../../hooks/esm/use-uncontrolled/use-uncontrolled.mjs.DZJQyLGt.js";import{u as se}from"../../../../hooks/esm/use-did-update/use-did-update.mjs.BfsHUBsg.js";const re={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function e(s){const r=K("Menu",re,s),{children:g,onOpen:a,onClose:n,opened:I,defaultOpened:c,trapFocus:w,onChange:k,closeOnItemClick:x,loop:C,closeOnEscape:h,trigger:l,openDelay:O,closeDelay:S,classNames:u,styles:d,unstyled:m,variant:E,vars:ae,menuItemTabIndex:P,keepMounted:i,...b}=r,H=J({name:"Menu",classes:y,props:r,classNames:u,styles:d,unstyled:m}),[N,{setHovered:T,resetHovered:V}]=B(),[o,f]=te({value:I,defaultValue:c,finalValue:!1,onChange:k}),[F,M]=q.useState(!1),t=()=>{f(!1),M(!1),o&&(n==null||n())},p=()=>{f(!0),!o&&(a==null||a())},v=()=>{o?t():p()},{openDropdown:R,closeDropdown:_}=Q({open:p,close:t,closeDelay:S,openDelay:O}),L=j=>z("[data-menu-item]","[data-menu-dropdown]",j),{resolvedClassNames:U,resolvedStyles:A}=G({classNames:u,styles:d,props:r});return se(()=>{V()},[o]),D.createElement(X,{value:{getStyles:H,opened:o,toggleDropdown:v,getItemIndex:L,hovered:N,setHovered:T,openedViaClick:F,setOpenedViaClick:M,closeOnItemClick:x,closeDropdown:l==="click"?t:_,openDropdown:l==="click"?p:R,closeDropdownImmediately:t,loop:C,trigger:l,unstyled:m,menuItemTabIndex:P}},D.createElement(W,{...b,opened:o,onChange:v,defaultOpened:c,trapFocus:i?!1:w,closeOnEscape:h,__staticSelector:"Menu",classNames:U,styles:A,unstyled:m,variant:E,keepMounted:i},g))}e.extend=s=>s;e.classes=y;e.displayName="@mantine/core/Menu";e.Item=$;e.Label=ee;e.Dropdown=Z;e.Target=oe;e.Divider=Y;export{e as M};
