{"version":3,"file":"create-aria-hider.mjs.qt0qiKf7.js","sources":["../../../../../../node_modules/.pnpm/@mantine+hooks@7.2.2_react@18.2.0/node_modules/@mantine/hooks/esm/use-focus-trap/create-aria-hider.mjs"],"sourcesContent":["'use client';\nimport { randomId } from '../utils/random-id/random-id.mjs';\n\nfunction createAriaHider(containerNode, selector = \"body > :not(script)\") {\n  const id = randomId();\n  const rootNodes = Array.from(\n    document.querySelectorAll(selector)\n  ).map((node) => {\n    var _a;\n    if (((_a = node == null ? void 0 : node.shadowRoot) == null ? void 0 : _a.contains(containerNode)) || node.contains(containerNode)) {\n      return void 0;\n    }\n    const ariaHidden = node.getAttribute(\"aria-hidden\");\n    const prevAriaHidden = node.getAttribute(\"data-hidden\");\n    const prevFocusId = node.getAttribute(\"data-focus-id\");\n    node.setAttribute(\"data-focus-id\", id);\n    if (ariaHidden === null || ariaHidden === \"false\") {\n      node.setAttribute(\"aria-hidden\", \"true\");\n    } else if (!prevAriaHidden && !prevFocusId) {\n      node.setAttribute(\"data-hidden\", ariaHidden);\n    }\n    return {\n      node,\n      ariaHidden: prevAriaHidden || null\n    };\n  });\n  return () => {\n    rootNodes.forEach((item) => {\n      if (!item || id !== item.node.getAttribute(\"data-focus-id\")) {\n        return;\n      }\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute(\"aria-hidden\");\n      } else {\n        item.node.setAttribute(\"aria-hidden\", item.ariaHidden);\n      }\n      item.node.removeAttribute(\"data-focus-id\");\n      item.node.removeAttribute(\"data-hidden\");\n    });\n  };\n}\n\nexport { createAriaHider };\n//# sourceMappingURL=create-aria-hider.mjs.map\n"],"names":["createAriaHider","containerNode","selector","id","randomId","rootNodes","node","_a","ariaHidden","prevAriaHidden","prevFocusId","item"],"mappings":"iEAGA,SAASA,EAAgBC,EAAeC,EAAW,sBAAuB,CACxE,MAAMC,EAAKC,IACLC,EAAY,MAAM,KACtB,SAAS,iBAAiBH,CAAQ,CACtC,EAAI,IAAKI,GAAS,CACd,IAAIC,EACJ,IAAMA,EAAKD,GAAQ,KAAO,OAASA,EAAK,aAAe,MAAgBC,EAAG,SAASN,CAAa,GAAMK,EAAK,SAASL,CAAa,EAC/H,OAEF,MAAMO,EAAaF,EAAK,aAAa,aAAa,EAC5CG,EAAiBH,EAAK,aAAa,aAAa,EAChDI,EAAcJ,EAAK,aAAa,eAAe,EACrD,OAAAA,EAAK,aAAa,gBAAiBH,CAAE,EACjCK,IAAe,MAAQA,IAAe,QACxCF,EAAK,aAAa,cAAe,MAAM,EAC9B,CAACG,GAAkB,CAACC,GAC7BJ,EAAK,aAAa,cAAeE,CAAU,EAEtC,CACL,KAAAF,EACA,WAAYG,GAAkB,IACpC,CACA,CAAG,EACD,MAAO,IAAM,CACXJ,EAAU,QAASM,GAAS,CACtB,CAACA,GAAQR,IAAOQ,EAAK,KAAK,aAAa,eAAe,IAGtDA,EAAK,aAAe,KACtBA,EAAK,KAAK,gBAAgB,aAAa,EAEvCA,EAAK,KAAK,aAAa,cAAeA,EAAK,UAAU,EAEvDA,EAAK,KAAK,gBAAgB,eAAe,EACzCA,EAAK,KAAK,gBAAgB,aAAa,EAC7C,CAAK,CACL,CACA","x_google_ignoreList":[0]}