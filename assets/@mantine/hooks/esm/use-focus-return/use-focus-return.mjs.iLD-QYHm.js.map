{"version":3,"file":"use-focus-return.mjs.iLD-QYHm.js","sources":["../../../../../../node_modules/.pnpm/@mantine+hooks@7.2.2_react@18.2.0/node_modules/@mantine/hooks/esm/use-focus-return/use-focus-return.mjs"],"sourcesContent":["'use client';\nimport { useRef } from 'react';\nimport { useDidUpdate } from '../use-did-update/use-did-update.mjs';\n\nfunction useFocusReturn({ opened, shouldReturnFocus = true }) {\n  const lastActiveElement = useRef();\n  const returnFocus = () => {\n    var _a;\n    if (lastActiveElement.current && \"focus\" in lastActiveElement.current && typeof lastActiveElement.current.focus === \"function\") {\n      (_a = lastActiveElement.current) == null ? void 0 : _a.focus({ preventScroll: true });\n    }\n  };\n  useDidUpdate(() => {\n    let timeout = -1;\n    const clearFocusTimeout = (event) => {\n      if (event.key === \"Tab\") {\n        window.clearTimeout(timeout);\n      }\n    };\n    document.addEventListener(\"keydown\", clearFocusTimeout);\n    if (opened) {\n      lastActiveElement.current = document.activeElement;\n    } else if (shouldReturnFocus) {\n      timeout = window.setTimeout(returnFocus, 10);\n    }\n    return () => {\n      window.clearTimeout(timeout);\n      document.removeEventListener(\"keydown\", clearFocusTimeout);\n    };\n  }, [opened, shouldReturnFocus]);\n  return returnFocus;\n}\n\nexport { useFocusReturn };\n//# sourceMappingURL=use-focus-return.mjs.map\n"],"names":["useFocusReturn","opened","shouldReturnFocus","lastActiveElement","useRef","returnFocus","_a","useDidUpdate","timeout","clearFocusTimeout","event"],"mappings":"gIAIA,SAASA,EAAe,CAAE,OAAAC,EAAQ,kBAAAC,EAAoB,EAAI,EAAI,CAC5D,MAAMC,EAAoBC,EAAAA,SACpBC,EAAc,IAAM,CACxB,IAAIC,EACAH,EAAkB,SAAW,UAAWA,EAAkB,SAAW,OAAOA,EAAkB,QAAQ,OAAU,cACjHG,EAAKH,EAAkB,UAAY,MAAgBG,EAAG,MAAM,CAAE,cAAe,EAAM,CAAA,EAE1F,EACE,OAAAC,EAAa,IAAM,CACjB,IAAIC,EAAU,GACd,MAAMC,EAAqBC,GAAU,CAC/BA,EAAM,MAAQ,OAChB,OAAO,aAAaF,CAAO,CAEnC,EACI,gBAAS,iBAAiB,UAAWC,CAAiB,EAClDR,EACFE,EAAkB,QAAU,SAAS,cAC5BD,IACTM,EAAU,OAAO,WAAWH,EAAa,EAAE,GAEtC,IAAM,CACX,OAAO,aAAaG,CAAO,EAC3B,SAAS,oBAAoB,UAAWC,CAAiB,CAC/D,CACA,EAAK,CAACR,EAAQC,CAAiB,CAAC,EACvBG,CACT","x_google_ignoreList":[0]}