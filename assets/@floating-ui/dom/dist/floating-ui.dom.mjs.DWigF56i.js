import{s as P,f as tt,a as et,i as nt,l as it,b as ot,c as st,h as rt}from"../../core/dist/floating-ui.core.mjs.SkKjqWSs.js";import{p as x,r as q,q as A,t as z,m as T,l as H}from"../../utils/dist/floating-ui.utils.mjs.BpW8C7hz.js";import{g as I,i as b,a as L,b as w,c as C,d as R,e as U,f as W,h as $,j as N,k as ct,l as j,m as lt,n as V,o as K}from"../../utils/dist/floating-ui.utils.dom.mjs.DbGEA3qi.js";function X(t){const e=w(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=R(t),c=s?t.offsetWidth:i,o=s?t.offsetHeight:n,r=A(i)!==c||A(n)!==o;return r&&(i=c,n=o),{width:i,height:n,$:r}}function S(t){return b(t)?t:t.contextElement}function F(t){const e=S(t);if(!R(e))return x(1);const i=e.getBoundingClientRect(),{width:n,height:s,$:c}=X(e);let o=(c?A(i.width):i.width)/n,r=(c?A(i.height):i.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!r||!Number.isFinite(r))&&(r=1),{x:o,y:r}}const ft=x(0);function G(t){const e=L(t);return!U()||!e.visualViewport?ft:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function at(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==L(t)?!1:e}function O(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);const s=t.getBoundingClientRect(),c=S(t);let o=x(1);e&&(n?b(n)&&(o=F(n)):o=F(t));const r=at(c,i,n)?G(c):x(0);let l=(s.left+r.x)/o.x,f=(s.top+r.y)/o.y,a=s.width/o.x,u=s.height/o.y;if(c){const y=L(c),g=n&&b(n)?L(n):n;let v=y,h=v.frameElement;for(;h&&n&&g!==v;){const p=F(h),d=h.getBoundingClientRect(),m=w(h),E=d.left+(h.clientLeft+parseFloat(m.paddingLeft))*p.x,B=d.top+(h.clientTop+parseFloat(m.paddingTop))*p.y;l*=p.x,f*=p.y,a*=p.x,u*=p.y,l+=E,f+=B,v=L(h),h=v.frameElement}}return q({width:a,height:u,x:l,y:f})}const ut=[":popover-open",":modal"];function J(t){return ut.some(e=>{try{return t.matches(e)}catch{return!1}})}function ht(t){let{elements:e,rect:i,offsetParent:n,strategy:s}=t;const c=s==="fixed",o=C(n),r=e?J(e.floating):!1;if(n===o||r&&c)return i;let l={scrollLeft:0,scrollTop:0},f=x(1);const a=x(0),u=R(n);if((u||!u&&!c)&&((W(n)!=="body"||$(o))&&(l=N(n)),R(n))){const y=O(n);f=F(n),a.x=y.x+n.clientLeft,a.y=y.y+n.clientTop}return{width:i.width*f.x,height:i.height*f.y,x:i.x*f.x-l.scrollLeft*f.x+a.x,y:i.y*f.y-l.scrollTop*f.y+a.y}}function dt(t){return Array.from(t.getClientRects())}function Q(t){return O(C(t)).left+N(t).scrollLeft}function gt(t){const e=C(t),i=N(t),n=t.ownerDocument.body,s=T(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),c=T(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-i.scrollLeft+Q(t);const r=-i.scrollTop;return w(n).direction==="rtl"&&(o+=T(e.clientWidth,n.clientWidth)-s),{width:s,height:c,x:o,y:r}}function pt(t,e){const i=L(t),n=C(t),s=i.visualViewport;let c=n.clientWidth,o=n.clientHeight,r=0,l=0;if(s){c=s.width,o=s.height;const f=U();(!f||f&&e==="fixed")&&(r=s.offsetLeft,l=s.offsetTop)}return{width:c,height:o,x:r,y:l}}function mt(t,e){const i=O(t,!0,e==="fixed"),n=i.top+t.clientTop,s=i.left+t.clientLeft,c=R(t)?F(t):x(1),o=t.clientWidth*c.x,r=t.clientHeight*c.y,l=s*c.x,f=n*c.y;return{width:o,height:r,x:l,y:f}}function _(t,e,i){let n;if(e==="viewport")n=pt(t,i);else if(e==="document")n=gt(C(t));else if(b(e))n=mt(e,i);else{const s=G(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return q(n)}function Y(t,e){const i=V(t);return i===e||!b(i)||K(i)?!1:w(i).position==="fixed"||Y(i,e)}function yt(t,e){const i=e.get(t);if(i)return i;let n=I(t,[],!1).filter(r=>b(r)&&W(r)!=="body"),s=null;const c=w(t).position==="fixed";let o=c?V(t):t;for(;b(o)&&!K(o);){const r=w(o),l=j(o);!l&&r.position==="fixed"&&(s=null),(c?!l&&!s:!l&&r.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$(o)&&!l&&Y(t,o))?n=n.filter(a=>a!==o):s=r,o=V(o)}return e.set(t,n),n}function wt(t){let{element:e,boundary:i,rootBoundary:n,strategy:s}=t;const o=[...i==="clippingAncestors"?yt(e,this._c):[].concat(i),n],r=o[0],l=o.reduce((f,a)=>{const u=_(e,a,s);return f.top=T(u.top,f.top),f.right=H(u.right,f.right),f.bottom=H(u.bottom,f.bottom),f.left=T(u.left,f.left),f},_(e,r,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vt(t){const{width:e,height:i}=X(t);return{width:e,height:i}}function xt(t,e,i){const n=R(e),s=C(e),c=i==="fixed",o=O(t,!0,c,e);let r={scrollLeft:0,scrollTop:0};const l=x(0);if(n||!n&&!c)if((W(e)!=="body"||$(s))&&(r=N(e)),n){const u=O(e,!0,c,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else s&&(l.x=Q(s));const f=o.left+r.scrollLeft-l.x,a=o.top+r.scrollTop-l.y;return{x:f,y:a,width:o.width,height:o.height}}function k(t,e){return!R(t)||w(t).position==="fixed"?null:e?e(t):t.offsetParent}function Z(t,e){const i=L(t);if(!R(t)||J(t))return i;let n=k(t,e);for(;n&&ct(n)&&w(n).position==="static";)n=k(n,e);return n&&(W(n)==="html"||W(n)==="body"&&w(n).position==="static"&&!j(n))?i:n||lt(t)||i}const bt=async function(t){const e=this.getOffsetParent||Z,i=this.getDimensions;return{reference:xt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await i(t.floating)}}};function Rt(t){return w(t).direction==="rtl"}const Ct={convertOffsetParentRelativeRectToViewportRelativeRect:ht,getDocumentElement:C,getClippingRect:wt,getOffsetParent:Z,getElementRects:bt,getClientRects:dt,getDimensions:vt,getScale:F,isElement:b,isRTL:Rt};function Et(t,e){let i=null,n;const s=C(t);function c(){var r;clearTimeout(n),(r=i)==null||r.disconnect(),i=null}function o(r,l){r===void 0&&(r=!1),l===void 0&&(l=1),c();const{left:f,top:a,width:u,height:y}=t.getBoundingClientRect();if(r||e(),!u||!y)return;const g=z(a),v=z(s.clientWidth-(f+u)),h=z(s.clientHeight-(a+y)),p=z(f),m={rootMargin:-g+"px "+-v+"px "+-h+"px "+-p+"px",threshold:T(0,H(1,l))||1};let E=!0;function B(M){const D=M[0].intersectionRatio;if(D!==l){if(!E)return o();D?o(!1,D):n=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{i=new IntersectionObserver(B,{...m,root:s.ownerDocument})}catch{i=new IntersectionObserver(B,m)}i.observe(t)}return o(!0),c}function Ft(t,e,i,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=S(t),a=s||c?[...f?I(f):[],...I(e)]:[];a.forEach(d=>{s&&d.addEventListener("scroll",i,{passive:!0}),c&&d.addEventListener("resize",i)});const u=f&&r?Et(f,i):null;let y=-1,g=null;o&&(g=new ResizeObserver(d=>{let[m]=d;m&&m.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),i()}),f&&!l&&g.observe(f),g.observe(e));let v,h=l?O(t):null;l&&p();function p(){const d=O(t);h&&(d.x!==h.x||d.y!==h.y||d.width!==h.width||d.height!==h.height)&&i(),h=d,v=requestAnimationFrame(p)}return i(),()=>{var d;a.forEach(m=>{s&&m.removeEventListener("scroll",i),c&&m.removeEventListener("resize",i)}),u==null||u(),(d=g)==null||d.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Wt=P,Bt=tt,zt=et,At=rt,Nt=ot,Dt=nt,Ht=it,It=(t,e,i)=>{const n=new Map,s={platform:Ct,...i},c={...s.platform,_c:n};return st(t,e,{...s,platform:c})};export{Nt as a,Ft as b,It as c,zt as d,Bt as f,At as h,Dt as i,Ht as l,Wt as s};
