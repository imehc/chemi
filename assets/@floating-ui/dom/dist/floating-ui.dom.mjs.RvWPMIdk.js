import{c as Z}from"../../core/dist/floating-ui.core.mjs.UGiqQufS.js";import{p as x,r as U,q as A,t as B,m as T,l as H}from"../../utils/dist/floating-ui.utils.mjs.GAwmRx9i.js";import{g as I,i as y,a as E,b as m,c as b,d as v,e as _,f as F,h as z,j as N,k as P,l as j,m as tt,n as V,o as K}from"../../utils/dom/dist/floating-ui.utils.dom.mjs.8XdWHvmj.js";function X(t){const e=m(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=v(t),c=o?t.offsetWidth:n,s=o?t.offsetHeight:i,r=A(n)!==c||A(i)!==s;return r&&(n=c,i=s),{width:n,height:i,$:r}}function M(t){return y(t)?t:t.contextElement}function L(t){const e=M(t);if(!v(e))return x(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:c}=X(e);let s=(c?A(n.width):n.width)/i,r=(c?A(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}const et=x(0);function G(t){const e=E(t);return!_()||!e.visualViewport?et:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==E(t)?!1:e}function O(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),c=M(t);let s=x(1);e&&(i?y(i)&&(s=L(i)):s=L(t));const r=nt(c,n,i)?G(c):x(0);let l=(o.left+r.x)/s.x,f=(o.top+r.y)/s.y,p=o.width/s.x,d=o.height/s.y;if(c){const w=E(c),h=i&&y(i)?E(i):i;let g=w.frameElement;for(;g&&i&&h!==w;){const a=L(g),R=g.getBoundingClientRect(),u=m(g),C=R.left+(g.clientLeft+parseFloat(u.paddingLeft))*a.x,W=R.top+(g.clientTop+parseFloat(u.paddingTop))*a.y;l*=a.x,f*=a.y,p*=a.x,d*=a.y,l+=C,f+=W,g=E(g).frameElement}}return U({width:p,height:d,x:l,y:f})}function it(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=v(n),c=b(n);if(n===c)return e;let s={scrollLeft:0,scrollTop:0},r=x(1);const l=x(0);if((o||!o&&i!=="fixed")&&((F(n)!=="body"||z(c))&&(s=N(n)),v(n))){const f=O(n);r=L(n),l.x=f.x+n.clientLeft,l.y=f.y+n.clientTop}return{width:e.width*r.x,height:e.height*r.y,x:e.x*r.x-s.scrollLeft*r.x+l.x,y:e.y*r.y-s.scrollTop*r.y+l.y}}function ot(t){return Array.from(t.getClientRects())}function J(t){return O(b(t)).left+N(t).scrollLeft}function st(t){const e=b(t),n=N(t),i=t.ownerDocument.body,o=T(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=T(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+J(t);const r=-n.scrollTop;return m(i).direction==="rtl"&&(s+=T(e.clientWidth,i.clientWidth)-o),{width:o,height:c,x:s,y:r}}function rt(t,e){const n=E(t),i=b(t),o=n.visualViewport;let c=i.clientWidth,s=i.clientHeight,r=0,l=0;if(o){c=o.width,s=o.height;const f=_();(!f||f&&e==="fixed")&&(r=o.offsetLeft,l=o.offsetTop)}return{width:c,height:s,x:r,y:l}}function ct(t,e){const n=O(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,c=v(t)?L(t):x(1),s=t.clientWidth*c.x,r=t.clientHeight*c.y,l=o*c.x,f=i*c.y;return{width:s,height:r,x:l,y:f}}function q(t,e,n){let i;if(e==="viewport")i=rt(t,n);else if(e==="document")i=st(b(t));else if(y(e))i=ct(e,n);else{const o=G(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return U(i)}function Q(t,e){const n=V(t);return n===e||!y(n)||K(n)?!1:m(n).position==="fixed"||Q(n,e)}function lt(t,e){const n=e.get(t);if(n)return n;let i=I(t).filter(r=>y(r)&&F(r)!=="body"),o=null;const c=m(t).position==="fixed";let s=c?V(t):t;for(;y(s)&&!K(s);){const r=m(s),l=j(s);!l&&r.position==="fixed"&&(o=null),(c?!l&&!o:!l&&r.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||z(s)&&!l&&Q(t,s))?i=i.filter(p=>p!==s):o=r,s=V(s)}return e.set(t,i),i}function ft(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const s=[...n==="clippingAncestors"?lt(e,this._c):[].concat(n),i],r=s[0],l=s.reduce((f,p)=>{const d=q(e,p,o);return f.top=T(d.top,f.top),f.right=H(d.right,f.right),f.bottom=H(d.bottom,f.bottom),f.left=T(d.left,f.left),f},q(e,r,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ut(t){return X(t)}function at(t,e,n){const i=v(e),o=b(e),c=n==="fixed",s=O(t,!0,c,e);let r={scrollLeft:0,scrollTop:0};const l=x(0);if(i||!i&&!c)if((F(e)!=="body"||z(o))&&(r=N(e)),i){const f=O(e,!0,c,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else o&&(l.x=J(o));return{x:s.left+r.scrollLeft-l.x,y:s.top+r.scrollTop-l.y,width:s.width,height:s.height}}function $(t,e){return!v(t)||m(t).position==="fixed"?null:e?e(t):t.offsetParent}function Y(t,e){const n=E(t);if(!v(t))return n;let i=$(t,e);for(;i&&P(i)&&m(i).position==="static";)i=$(i,e);return i&&(F(i)==="html"||F(i)==="body"&&m(i).position==="static"&&!j(i))?n:i||tt(t)||n}const ht=async function(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||Y,c=this.getDimensions;return{reference:at(e,await o(n),i),floating:{x:0,y:0,...await c(n)}}};function dt(t){return m(t).direction==="rtl"}const gt={convertOffsetParentRelativeRectToViewportRelativeRect:it,getDocumentElement:b,getClippingRect:ft,getOffsetParent:Y,getElementRects:ht,getClientRects:ot,getDimensions:ut,getScale:L,isElement:y,isRTL:dt};function pt(t,e){let n=null,i;const o=b(t);function c(){clearTimeout(i),n&&n.disconnect(),n=null}function s(r,l){r===void 0&&(r=!1),l===void 0&&(l=1),c();const{left:f,top:p,width:d,height:w}=t.getBoundingClientRect();if(r||e(),!d||!w)return;const h=B(p),g=B(o.clientWidth-(f+d)),a=B(o.clientHeight-(p+w)),R=B(f),C={rootMargin:-h+"px "+-g+"px "+-a+"px "+-R+"px",threshold:T(0,H(1,l))||1};let W=!0;function S(k){const D=k[0].intersectionRatio;if(D!==l){if(!W)return s();D?s(!1,D):i=setTimeout(()=>{s(!1,1e-7)},100)}W=!1}try{n=new IntersectionObserver(S,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,C)}n.observe(t)}return s(!0),c}function yt(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,f=M(t),p=o||c?[...f?I(f):[],...I(e)]:[];p.forEach(u=>{o&&u.addEventListener("scroll",n,{passive:!0}),c&&u.addEventListener("resize",n)});const d=f&&r?pt(f,n):null;let w=-1,h=null;s&&(h=new ResizeObserver(u=>{let[C]=u;C&&C.target===f&&h&&(h.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{h&&h.observe(e)})),n()}),f&&!l&&h.observe(f),h.observe(e));let g,a=l?O(t):null;l&&R();function R(){const u=O(t);a&&(u.x!==a.x||u.y!==a.y||u.width!==a.width||u.height!==a.height)&&n(),a=u,g=requestAnimationFrame(R)}return n(),()=>{p.forEach(u=>{o&&u.removeEventListener("scroll",n),c&&u.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const vt=(t,e,n)=>{const i=new Map,o={platform:gt,...n},c={...o.platform,_c:i};return Z(t,e,{...o,platform:c})};export{yt as a,vt as c};
//# sourceMappingURL=floating-ui.dom.mjs.RvWPMIdk.js.map
