var f={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const u=n=>{let t;const s=new Set,c=(e,a)=>{const o=typeof e=="function"?e(t):e;if(!Object.is(o,t)){const d=t;t=a??(typeof o!="object"||o===null)?o:Object.assign({},t,o),s.forEach(b=>b(t,d))}},r=()=>t,i={setState:c,getState:r,getInitialState:()=>l,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{(f?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},l=t=n(c,r,i);return i},E=n=>n?u(n):u;export{E as c};
