{"version":3,"file":"index.iCZRalNq.js","sources":["../../src/demo/20/Model.tsx","../../src/demo/20/index.tsx"],"sourcesContent":["import { Html, useGLTF } from '@react-three/drei';\nimport { useState } from 'react';\n\ninterface Props {\n  url: string;\n}\n\nexport const Model: React.FC<Props> = ({ url }) => {\n  const { scene } = useGLTF(url);\n  const [cache, setCache] = useState<Record<string, JSX.Element>>({});\n\n  if (!cache[url]) {\n    const annotations: JSX.Element[] = [];\n\n    scene.traverse((o) => {\n      if (o.userData.prop) {\n        annotations.push(\n          <Html\n            key={o.uuid}\n            position={[o.position.x, o.position.y, o.position.z]}\n            distanceFactor={0.25}\n            // 如果要在 HTML 标签位于几何图形后面时将其隐藏\n            // occlude\n            // HTML 将始终面向相机。如果希望它随场景旋转，则可以添加变换选项\n            // https://codesandbox.io/s/9keg6?file=/src/App.js\n            // transform\n          >\n            <div className=\"annotation\">{o.userData.prop}</div>\n          </Html>\n        );\n      }\n    });\n\n    console.log('Caching JSX for url ' + url);\n    setCache({\n      ...cache,\n      [url]: <primitive object={scene}>{annotations}</primitive>,\n    });\n  }\n  return cache[url];\n};\n","import { Environment, OrbitControls, Stats } from '@react-three/drei';\nimport { Canvas } from '@react-three/fiber';\nimport { useControls } from 'leva';\nimport { Model } from './Model';\nimport Models from './models.json';\nimport './styles.css';\n\n/**\n * 添加注释\n */\nconst Demo20: React.FC = () => {\n  const { model } = useControls({\n    model: {\n      value: 'hammer',\n      options: Object.keys(Models),\n    },\n  });\n\n  return (\n    <>\n      <Canvas camera={{ position: [0, 0, -0.2], near: 0.025 }}>\n        <Environment\n          files=\"/models/assets-useGLTF/img/workshop_1k.hdr\"\n          background\n        />\n        <group>\n          <Model url={Models[model as keyof typeof Models]} />\n        </group>\n        <OrbitControls autoRotate />\n        <Stats />\n      </Canvas>\n      <span id=\"info\">\n        The {model.replace(/([A-Z])/g, ' $1').toLowerCase()} is selected.\n        {/* \n          let str = 'HelloWorld';\n          str.replace(/([A-Z])/g, ' $1').toLowerCase();\n          // 'hello world'\n        */}\n      </span>\n    </>\n  );\n};\nexport default Demo20;\n"],"names":["Model","url","scene","useGLTF","cache","setCache","useState","annotations","o","jsx","Html","Demo20","model","useControls","Models","jsxs","Fragment","Canvas","Environment","OrbitControls","Stats"],"mappings":"0rNAOO,MAAMA,EAAyB,CAAC,CAAE,IAAAC,KAAU,CACjD,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAQF,CAAG,EACvB,CAACG,EAAOC,CAAQ,EAAIC,EAAA,SAAsC,CAAE,CAAA,EAE9D,GAAA,CAACF,EAAMH,CAAG,EAAG,CACf,MAAMM,EAA6B,CAAA,EAE7BL,EAAA,SAAUM,GAAM,CAChBA,EAAE,SAAS,MACDD,EAAA,KACVE,EAAA,IAACC,EAAA,CAEC,SAAU,CAACF,EAAE,SAAS,EAAGA,EAAE,SAAS,EAAGA,EAAE,SAAS,CAAC,EACnD,eAAgB,IAOhB,eAAC,MAAI,CAAA,UAAU,aAAc,SAAAA,EAAE,SAAS,KAAK,CAAA,EATxCA,EAAE,IAUT,CAAA,CAEJ,CACD,EAEO,QAAA,IAAI,uBAAyBP,CAAG,EAC/BI,EAAA,CACP,GAAGD,EACH,CAACH,CAAG,QAAI,YAAU,CAAA,OAAQC,EAAQ,SAAYK,EAAA,CAAA,CAC/C,CACH,CACA,OAAOH,EAAMH,CAAG,CAClB,kJC9BMU,GAAmB,IAAM,CACvB,KAAA,CAAE,MAAAC,CAAM,EAAIC,EAAY,CAC5B,MAAO,CACL,MAAO,SACP,QAAS,OAAO,KAAKC,CAAM,CAC7B,CAAA,CACD,EAED,OAEIC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACD,EAAAA,KAAAE,EAAA,CAAO,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,GAAI,EAAG,KAAM,IAAA,EAC9C,SAAA,CAAAR,EAAA,IAACS,EAAA,CACC,MAAM,6CACN,WAAU,EAAA,CACZ,EACAT,EAAAA,IAAC,SACC,SAACA,MAAAT,EAAA,CAAM,IAAKc,EAAOF,CAA4B,EAAG,CACpD,CAAA,EACAH,EAAAA,IAACU,EAAc,CAAA,WAAU,EAAC,CAAA,QACzBC,EAAM,EAAA,CAAA,EACT,EACAL,EAAAA,KAAC,OAAK,CAAA,GAAG,OAAO,SAAA,CAAA,OACTH,EAAM,QAAQ,WAAY,KAAK,EAAE,YAAY,EAAE,eAAA,EAMtD,CACF,CAAA,CAAA,CAEJ"}