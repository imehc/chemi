import{j as r}from"./react/jsx-runtime.js.CKQaLlsx.js";import{C as c}from"./@react-three/fiber/dist/react-three-fiber.esm.js.BhmFp2tL.js";import{r as i}from"./react/index.js.CiILtb88.js";import{aH as g,aT as x}from"./three/build/three.module.js.CElijN_X.js";import{a as j,g as f}from"./@react-three/fiber/dist/index-c636ef6d.esm.js.DtZMtc8k.js";import{H as _}from"./@react-three/drei/core/Hud.js.CyFY4XjA.js";import{O as y}from"./@react-three/drei/core/OrthographicCamera.js.C0sN_SUo.js";import{E as d}from"./@react-three/drei/core/Environment.js.DVpSJjPG.js";import{u as n}from"./@react-three/drei/core/useGLTF.js.DSU3hQJS.js";import{O as w}from"./@react-three/drei/core/OrbitControls.js.D__SJNvq.js";import{u as v}from"./@react-three/drei/core/useProgress.js.CilrM9c-.js";import{H as b}from"./@react-three/drei/web/Html.js.NR7P4Ita.js";import"./react/jsx-runtime.js_commonjs-module.DrftVG1b.js";import"./react/cjs/react-jsx-runtime.production.min.js.B2-g250g.js";import"./react/cjs/react-jsx-runtime.production.min.js_commonjs-exports.Y3wesJj2.js";import"./@babel/runtime/helpers/esm/extends.js.CCbyfPlC.js";import"./react-use-measure/dist/web.js.BtTOEvoD.js";import"./debounce/index.js.Chx8E-gf.js";import"./@theatre/core/dist/index.js.DAEYzC0v.js";import"./@theatre/core/dist/index.js_commonjs-module.BBQovQhv.js";import"./@theatre/dataverse/dist/index.js.BWL7Twl0.js";import"./@theatre/dataverse/dist/index.js_commonjs-exports.CmPFFxNR.js";import"./its-fine/dist/index.js.DP1ChiJo.js";import"./react-reconciler/constants.js.cziiqKC3.js";import"./react-reconciler/constants.js_commonjs-module.BUUaCVL8.js";import"./react-reconciler/cjs/react-reconciler-constants.production.min.js.BLy92Rht.js";import"./react-reconciler/cjs/react-reconciler-constants.production.min.js_commonjs-exports.Y3wesJj2.js";import"./react-reconciler/index.js.eAUoQ0l6.js";import"./react-reconciler/index.js_commonjs-module.DhgsKDqp.js";import"./react-reconciler/cjs/react-reconciler.production.min.js.Bhz7NQsG.js";import"./scheduler/index.js.DPKlw4YW.js";import"./scheduler/index.js_commonjs-module.IyF5mD2q.js";import"./scheduler/cjs/scheduler.production.min.js.BiBLb9Ep.js";import"./scheduler/cjs/scheduler.production.min.js_commonjs-exports.vhg0vpYA.js";import"./react/index.js_commonjs-module.DhgsKDqp.js";import"./react/cjs/react.production.min.js.BuctLETp.js";import"./react/cjs/react.production.min.js_commonjs-exports.Y3wesJj2.js";import"./zustand/esm/index.js.BKqfLw1g.js";import"./suspend-react/index.js.BKIKQNXN.js";import"./@react-three/drei/core/useFBO.js.BljajXYc.js";import"./three-stdlib/objects/GroundProjectedEnv.js.4_7E09Yz.js";import"./@react-three/drei/core/useEnvironment.js.Dg6tYygt.js";import"./three-stdlib/loaders/RGBELoader.js.CwYx4r1q.js";import"./three-stdlib/loaders/EXRLoader.js.DZcE1kcB.js";import"./fflate/esm/browser.js.CO4tTpaB.js";import"./@monogrid/gainmap-js/dist/decode.js.BVWvm-ss.js";import"./@monogrid/gainmap-js/dist/QuadRenderer-6HrRQdJM.js.CODTGMJp.js";import"./@react-three/drei/helpers/environment-assets.js.Cl7hcwyA.js";import"./@react-three/drei/helpers/deprecated.js.DPxl23Y9.js";import"./three-stdlib/loaders/GLTFLoader.js.BZwYKAAL.js";import"./three-stdlib/utils/BufferGeometryUtils.js.DNvKyh_H.js";import"./three-stdlib/_polyfill/constants.js.BLpHHQtt.js";import"./three-stdlib/loaders/DRACOLoader.js.DJzR-hvs.js";import"./three-stdlib/libs/MeshoptDecoder.js.C7b7PewA.js";import"./three-stdlib/controls/OrbitControls.js.BAPwlu3z.js";import"./react-dom/client.js.DkBBvx-c.js";import"./react-dom/client.js_commonjs-exports.CmYd1H8K.js";import"./react-dom/index.js.LUY0HZwr.js";import"./react-dom/index.js_commonjs-module.DhgsKDqp.js";import"./react-dom/cjs/react-dom.production.min.js.BmC9xWZM.js";import"./react-dom/cjs/react-dom.production.min.js_commonjs-exports.Y3wesJj2.js";function s({id:e,texture:t,position:p,setSelected:a,roughness:o}){const m=i.useRef(null),[l,u]=i.useState(!1);return j((H,h)=>{m.current&&(m.current.scale.y=m.current.scale.x=m.current.scale.z=g.lerp(m.current.scale.y,l?1.5:1,.25),l&&m.current.rotateY(h*5))}),r.jsxs("mesh",{ref:m,position:p,onPointerOver:()=>u(!0),onPointerOut:()=>u(!1),onPointerDown:()=>a(e),children:[r.jsx("sphereGeometry",{}),r.jsx("meshStandardMaterial",{map:t,roughness:o,envMapIntensity:1.5})]})}function S({setSelected:e}){const t=f(x,["/v212/img/fabric_pattern_05.jpg","/v212/img/leather_red.jpg","/v212/img/fabric_pattern_07.jpg","/v212/img/book_pattern.jpg","/v212/img/denim_fabric_02.jpg"]);return r.jsxs(_,{children:[r.jsx(y,{makeDefault:!0,position:[0,0,2],zoom:50}),r.jsx(d,{preset:"forest"}),r.jsx(s,{id:0,texture:t[0],position:[-6,-6,0],setSelected:e}),r.jsx(s,{id:1,texture:t[1],position:[-3,-6,0],roughness:.2,setSelected:e}),r.jsx(s,{id:2,texture:t[2],position:[-0,-6,0],setSelected:e}),r.jsx(s,{id:3,texture:t[3],position:[3,-6,0],roughness:.5,setSelected:e}),r.jsx(s,{id:4,texture:t[4],position:[6,-6,0],setSelected:e})]})}function M(){const[e,t]=i.useState(0),p=i.useRef(null),{nodes:a,materials:o}=n("/v212/models/armchair-transformed.glb"),m=i.useMemo(()=>({0:o.fabric_pattern_05,1:o.red_leather,2:o.fabric_pattern_7,3:o.book_pattern,4:o.denim_fabric_02}),[o]);return r.jsxs(r.Fragment,{children:[r.jsx("group",{dispose:null,position:[1.5,.299,1.5],children:r.jsxs("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[r.jsx("mesh",{ref:p,geometry:a.armchair001_1.geometry,material:m[e],castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:a.armchair001_3.geometry,material:o.wooden_legs,castShadow:!0})]})}),r.jsx(S,{setSelected:t})]})}n.preload("/v212/models/armchair-transformed.glb");function P(){const{nodes:e,materials:t}=n("/v212/models/room-transformed.glb");return r.jsx(r.Fragment,{children:r.jsx("group",{dispose:null,"position-y":.3,children:r.jsxs("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[r.jsx("mesh",{geometry:e.room_1.geometry,material:t.ground_1,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_2.geometry,material:t.wall_1_2,castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_3.geometry,material:t.room_5_30,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_4.geometry,material:t.white,castShadow:!0,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_5.geometry,material:t.flltgrey,"material-transparent":!0,"material-opacity":.1}),r.jsx("mesh",{geometry:e.room_6.geometry,material:t.dkgrey,receiveShadow:!0}),r.jsx("mesh",{geometry:e.room_7.geometry,material:t.amber,castShadow:!0}),r.jsx("mesh",{geometry:e.room_8.geometry,material:t.yellow_green,castShadow:!0}),r.jsx("mesh",{geometry:e.room_9.geometry,material:t.flbrown,castShadow:!0})]})})})}n.preload("/models/room-transformed.glb");const Er=()=>r.jsxs(r.Fragment,{children:[r.jsx(c,{shadows:!0,camera:{position:[2.25,1,2.25]},children:r.jsxs(i.Suspense,{fallback:r.jsx(k,{}),children:[r.jsx(d,{preset:"forest",background:!0,ground:{height:2,radius:115,scale:100}}),r.jsx("directionalLight",{position:[5,1.5,3],intensity:2,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-bias":-1e-4}),r.jsx(P,{}),r.jsx(M,{}),r.jsx(w,{target:[1.5,.8,1.5],minPolarAngle:0,maxPolarAngle:Math.PI/2+Math.PI/12})]})}),r.jsxs("div",{id:"instructions",children:["Models from",r.jsx("a",{href:"https://sweethome3d.com",target:"_blank",rel:"noreferrer",children:"Sweet Home 3D"}),r.jsx("br",{}),"Textures from",r.jsx("a",{href:"https://polyhaven.com",target:"_blank",rel:"noreferrer",children:"Poly Haven"})]})]});function k(){const{progress:e}=v();return r.jsxs(b,{center:!0,className:"text-white",children:[e," % loaded"]})}export{Er as Demo2v12,Er as default};
