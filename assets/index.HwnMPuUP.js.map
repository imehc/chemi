{"version":3,"file":"index.HwnMPuUP.js","sources":["../../src/demo2/03/Box.tsx","../../src/demo2/03/index.tsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport { MeshProps, useFrame } from '@react-three/fiber';\nimport { Color, MathUtils, Mesh, MeshBasicMaterial } from 'three';\n\nexport const Box: React.FC<MeshProps> = (props) => {\n  const ref = useRef<Mesh>(null);\n  const [hovered, setHover] = useState(false);\n  const [rotate, setRotate] = useState(false);\n  const color = new Color();\n\n  useFrame((_, delta) => {\n    if (!ref.current) return;\n    if (rotate) {\n      ref.current.rotation.x += 1 * delta;\n    }\n    ref.current.scale.y = ref.current.scale.z = MathUtils.lerp(\n      ref.current.scale.y,\n      hovered ? 1.2 : 1,\n      0.1\n    );\n    (ref.current.material as MeshBasicMaterial).color.lerp(\n      color.set(hovered ? 0xff0000 : 0x00ff00),\n      0.1\n    );\n  });\n\n  return (\n    <mesh\n      {...props}\n      ref={ref}\n      onPointerDown={(e) => {\n        e.stopPropagation();\n        setRotate(!rotate);\n      }}\n      onPointerOver={(e) => {\n        e.stopPropagation();\n        setHover(true);\n      }}\n      onPointerOut={(e) => {\n        e.stopPropagation();\n        setHover(false);\n      }}\n    >\n      <boxGeometry onUpdate={(e) => e.rotateZ(Math.PI / 2)} />\n      <meshBasicMaterial wireframe />\n      {props.children}\n    </mesh>\n  );\n};\n","import { Stats, OrbitControls } from '@react-three/drei';\nimport { Canvas } from '@react-three/fiber';\nimport { Box } from './Box';\n\n/**\n * 嵌套组件\n */\nconst Demo2v03 = () => {\n  return (\n    <Canvas camera={{ position: [0, 0, 4] }}>\n      <Box position-x={-2.5}>\n        <Box position-x={1.25}>\n          <Box position-x={1.25}>\n            <Box position-x={1.25}>\n              <Box position-x={1.25} />\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n    </Canvas>\n  );\n};\n\nexport default Demo2v03;\n"],"names":["Box","props","ref","useRef","hovered","setHover","useState","rotate","setRotate","color","Color","useFrame","_","delta","MathUtils","jsxs","e","jsx","Demo2v03","Canvas"],"mappings":"o9DAIa,MAAAA,EAA4BC,GAAU,CAC3C,MAAAC,EAAMC,SAAa,IAAI,EACvB,CAACC,EAASC,CAAQ,EAAIC,WAAS,EAAK,EACpC,CAACC,EAAQC,CAAS,EAAIF,WAAS,EAAK,EACpCG,EAAQ,IAAIC,EAET,OAAAC,EAAA,CAACC,EAAGC,IAAU,CAChBX,EAAI,UACLK,IACEL,EAAA,QAAQ,SAAS,GAAK,EAAIW,GAEhCX,EAAI,QAAQ,MAAM,EAAIA,EAAI,QAAQ,MAAM,EAAIY,EAAU,KACpDZ,EAAI,QAAQ,MAAM,EAClBE,EAAU,IAAM,EAChB,EAAA,EAEDF,EAAI,QAAQ,SAA+B,MAAM,KAChDO,EAAM,IAAIL,EAAU,SAAW,KAAQ,EACvC,EAAA,EACF,CACD,EAGCW,EAAA,KAAC,OAAA,CACE,GAAGd,EACJ,IAAAC,EACA,cAAgBc,GAAM,CACpBA,EAAE,gBAAgB,EAClBR,EAAU,CAACD,CAAM,CACnB,EACA,cAAgBS,GAAM,CACpBA,EAAE,gBAAgB,EAClBX,EAAS,EAAI,CACf,EACA,aAAeW,GAAM,CACnBA,EAAE,gBAAgB,EAClBX,EAAS,EAAK,CAChB,EAEA,SAAA,CAACY,EAAAA,IAAA,cAAA,CAAY,SAAWD,GAAMA,EAAE,QAAQ,KAAK,GAAK,CAAC,CAAG,CAAA,EACtDC,EAAAA,IAAC,oBAAkB,CAAA,UAAS,EAAC,CAAA,EAC5BhB,EAAM,QAAA,CAAA,CAAA,CAGb,ECzCMiB,EAAW,IAEZD,EAAA,IAAAE,EAAA,CAAO,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,CAAC,CAClC,EAAA,SAAAF,MAACjB,EAAI,CAAA,aAAY,KACf,SAACiB,MAAAjB,EAAA,CAAI,aAAY,KACf,eAACA,EAAI,CAAA,aAAY,KACf,SAAAiB,EAAAA,IAACjB,GAAI,aAAY,KACf,SAACiB,EAAAA,IAAAjB,EAAA,CAAI,aAAY,IAAM,CAAA,EACzB,CACF,CAAA,CACF,CAAA,EACF,CACF,CAAA"}